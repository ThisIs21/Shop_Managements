{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, withCtx as _withCtx, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"p-4\"\n};\nconst _hoisted_2 = {\n  class: \"mb-4 flex gap-2 items-center\"\n};\nconst _hoisted_3 = {\n  ref: \"reportContent\"\n};\nconst _hoisted_4 = {\n  class: \"w-full border-collapse border border-gray-300\"\n};\nconst _hoisted_5 = {\n  class: \"border border-gray-300 p-2\"\n};\nconst _hoisted_6 = {\n  class: \"border border-gray-300 p-2\"\n};\nconst _hoisted_7 = {\n  class: \"border border-gray-300 p-2\"\n};\nconst _hoisted_8 = {\n  class: \"border border-gray-300 p-2\"\n};\nconst _hoisted_9 = {\n  class: \"border border-gray-300 p-2\"\n};\nconst _hoisted_10 = {\n  class: \"border border-gray-300 p-2\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createBlock($setup[\"OwnerLayouts\"], null, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_cache[5] || (_cache[5] = _createElementVNode(\"h1\", {\n      class: \"text-2xl font-bold mb-4\"\n    }, \"Report Stock Opname\", -1 /* CACHED */)), _createCommentVNode(\" Filter tanggal \"), _createElementVNode(\"div\", _hoisted_2, [_cache[2] || (_cache[2] = _createElementVNode(\"label\", null, \"From:\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n      type: \"date\",\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.fromDate = $event),\n      class: \"border p-1 rounded\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.fromDate]]), _cache[3] || (_cache[3] = _createElementVNode(\"label\", null, \"To:\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n      type: \"date\",\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.toDate = $event),\n      class: \"border p-1 rounded\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.toDate]]), _createElementVNode(\"button\", {\n      onClick: $setup.fetchReport,\n      class: \"bg-blue-500 text-white px-4 py-1 rounded\"\n    }, \" Filter \")]), _createCommentVNode(\" Tabel laporan \"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"table\", _hoisted_4, [_cache[4] || (_cache[4] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", {\n      class: \"bg-gray-200\"\n    }, [_createElementVNode(\"th\", {\n      class: \"border border-gray-300 p-2\"\n    }, \"#\"), _createElementVNode(\"th\", {\n      class: \"border border-gray-300 p-2\"\n    }, \"Date\"), _createElementVNode(\"th\", {\n      class: \"border border-gray-300 p-2\"\n    }, \"Product\"), _createElementVNode(\"th\", {\n      class: \"border border-gray-300 p-2\"\n    }, \"Stock Before\"), _createElementVNode(\"th\", {\n      class: \"border border-gray-300 p-2\"\n    }, \"Stock After\"), _createElementVNode(\"th\", {\n      class: \"border border-gray-300 p-2\"\n    }, \"Difference\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.reportData, (item, index) => {\n      return _openBlock(), _createElementBlock(\"tr\", {\n        key: index\n      }, [_createElementVNode(\"td\", _hoisted_5, _toDisplayString(index + 1), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_6, _toDisplayString($setup.formatDate(item.date)), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_7, _toDisplayString(item.product_name), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_8, _toDisplayString(item.before_stock), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_9, _toDisplayString(item.after_stock), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_10, _toDisplayString(item.difference), 1 /* TEXT */)]);\n    }), 128 /* KEYED_FRAGMENT */))])])], 512 /* NEED_PATCH */)])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","ref","_createBlock","$setup","_createElementVNode","_hoisted_1","_createCommentVNode","_hoisted_2","type","fromDate","$event","toDate","onClick","fetchReport","_hoisted_3","_hoisted_4","_createElementBlock","_Fragment","_renderList","reportData","item","index","key","_hoisted_5","_toDisplayString","_hoisted_6","formatDate","date","_hoisted_7","product_name","_hoisted_8","before_stock","_hoisted_9","after_stock","_hoisted_10","difference"],"sources":["C:\\Users\\Personal\\Documents\\PKL\\aplikasi\\aplikasi\\src\\views\\ReportStockOpnameOwners.vue"],"sourcesContent":["<template>\n  <OwnerLayouts>\n    <div class=\"p-4\">\n      <h1 class=\"text-2xl font-bold mb-4\">Report Stock Opname</h1>\n\n      <!-- Filter tanggal -->\n      <div class=\"mb-4 flex gap-2 items-center\">\n        <label>From:</label>\n        <input type=\"date\" v-model=\"fromDate\" class=\"border p-1 rounded\" />\n        <label>To:</label>\n        <input type=\"date\" v-model=\"toDate\" class=\"border p-1 rounded\" />\n        <button\n          @click=\"fetchReport\"\n          class=\"bg-blue-500 text-white px-4 py-1 rounded\"\n        >\n          Filter\n        </button>\n      </div>\n\n      <!-- Tabel laporan -->\n      <div ref=\"reportContent\">\n        <table class=\"w-full border-collapse border border-gray-300\">\n          <thead>\n            <tr class=\"bg-gray-200\">\n              <th class=\"border border-gray-300 p-2\">#</th>\n              <th class=\"border border-gray-300 p-2\">Date</th>\n              <th class=\"border border-gray-300 p-2\">Product</th>\n              <th class=\"border border-gray-300 p-2\">Stock Before</th>\n              <th class=\"border border-gray-300 p-2\">Stock After</th>\n              <th class=\"border border-gray-300 p-2\">Difference</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(item, index) in reportData\" :key=\"index\">\n              <td class=\"border border-gray-300 p-2\">{{ index + 1 }}</td>\n              <td class=\"border border-gray-300 p-2\">{{ formatDate(item.date) }}</td>\n              <td class=\"border border-gray-300 p-2\">{{ item.product_name }}</td>\n              <td class=\"border border-gray-300 p-2\">{{ item.before_stock }}</td>\n              <td class=\"border border-gray-300 p-2\">{{ item.after_stock }}</td>\n              <td class=\"border border-gray-300 p-2\">{{ item.difference }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </OwnerLayouts>\n</template>\n\n<script setup>\nimport { ref } from \"vue\";\nimport axios from \"axios\";\n\n// âœ… pastikan sesuai nama file: OwnerLayouts.vue (pakai \"s\")\nimport OwnerLayouts from \"../views/OwnerLayouts.vue\";\n\nconst fromDate = ref(\"\");\nconst toDate = ref(\"\");\nconst reportData = ref([]);\n\nconst formatDate = (dateStr) => {\n  const date = new Date(dateStr);\n  return date.toLocaleDateString();\n};\n\nconst fetchReport = async () => {\n  try {\n    const params = {};\n    if (fromDate.value) params.from = fromDate.value;\n    if (toDate.value) params.to = toDate.value;\n\n    const response = await axios.get(\n      \"http://localhost:8081/api/v1/history/stock-opname\",\n      {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n        params,\n      }\n    );\n\n    // mapping data sesuai backend\n    reportData.value = response.data.map((opname) => ({\n      date: opname.date,\n      product_name: opname.product?.nama_barang || \"-\",\n      before_stock: opname.before_stock,\n      after_stock: opname.after_stock,\n      difference: opname.after_stock - opname.before_stock,\n    }));\n  } catch (error) {\n    console.error(\"Failed to fetch stock opname report:\", error);\n    alert(\"Gagal ambil data laporan stok opname\");\n  }\n};\n</script>\n"],"mappings":";;EAESA,KAAK,EAAC;AAAK;;EAITA,KAAK,EAAC;AAA8B;;EAcpCC,GAAG,EAAC;AAAe;;EACfD,KAAK,EAAC;AAA+C;;EAalDA,KAAK,EAAC;AAA4B;;EAClCA,KAAK,EAAC;AAA4B;;EAClCA,KAAK,EAAC;AAA4B;;EAClCA,KAAK,EAAC;AAA4B;;EAClCA,KAAK,EAAC;AAA4B;;EAClCA,KAAK,EAAC;AAA4B;;uBAtClDE,YAAA,CA4CeC,MAAA;sBA3Cb,MA0CM,CA1CNC,mBAAA,CA0CM,OA1CNC,UA0CM,G,0BAzCJD,mBAAA,CAA4D;MAAxDJ,KAAK,EAAC;IAAyB,GAAC,qBAAmB,qBAEvDM,mBAAA,oBAAuB,EACvBF,mBAAA,CAWM,OAXNG,UAWM,G,0BAVJH,mBAAA,CAAoB,eAAb,OAAK,qB,gBACZA,mBAAA,CAAmE;MAA5DI,IAAI,EAAC,MAAM;iEAAUL,MAAA,CAAAM,QAAQ,GAAAC,MAAA;MAAEV,KAAK,EAAC;mDAAhBG,MAAA,CAAAM,QAAQ,E,6BACpCL,mBAAA,CAAkB,eAAX,KAAG,qB,gBACVA,mBAAA,CAAiE;MAA1DI,IAAI,EAAC,MAAM;iEAAUL,MAAA,CAAAQ,MAAM,GAAAD,MAAA;MAAEV,KAAK,EAAC;mDAAdG,MAAA,CAAAQ,MAAM,E,GAClCP,mBAAA,CAKS;MAJNQ,OAAK,EAAET,MAAA,CAAAU,WAAW;MACnBb,KAAK,EAAC;OACP,UAED,E,GAGFM,mBAAA,mBAAsB,EACtBF,mBAAA,CAuBM,OAvBNU,UAuBM,GAtBJV,mBAAA,CAqBQ,SArBRW,UAqBQ,G,0BApBNX,mBAAA,CASQ,gBARNA,mBAAA,CAOK;MAPDJ,KAAK,EAAC;IAAa,IACrBI,mBAAA,CAA6C;MAAzCJ,KAAK,EAAC;IAA4B,GAAC,GAAC,GACxCI,mBAAA,CAAgD;MAA5CJ,KAAK,EAAC;IAA4B,GAAC,MAAI,GAC3CI,mBAAA,CAAmD;MAA/CJ,KAAK,EAAC;IAA4B,GAAC,SAAO,GAC9CI,mBAAA,CAAwD;MAApDJ,KAAK,EAAC;IAA4B,GAAC,cAAY,GACnDI,mBAAA,CAAuD;MAAnDJ,KAAK,EAAC;IAA4B,GAAC,aAAW,GAClDI,mBAAA,CAAsD;MAAlDJ,KAAK,EAAC;IAA4B,GAAC,YAAU,E,uBAGrDI,mBAAA,CASQ,iB,kBARNY,mBAAA,CAOKC,SAAA,QAAAC,WAAA,CAPuBf,MAAA,CAAAgB,UAAU,GAA1BC,IAAI,EAAEC,KAAK;2BAAvBL,mBAAA,CAOK;QAPoCM,GAAG,EAAED;MAAK,IACjDjB,mBAAA,CAA2D,MAA3DmB,UAA2D,EAAAC,gBAAA,CAAjBH,KAAK,sBAC/CjB,mBAAA,CAAuE,MAAvEqB,UAAuE,EAAAD,gBAAA,CAA7BrB,MAAA,CAAAuB,UAAU,CAACN,IAAI,CAACO,IAAI,mBAC9DvB,mBAAA,CAAmE,MAAnEwB,UAAmE,EAAAJ,gBAAA,CAAzBJ,IAAI,CAACS,YAAY,kBAC3DzB,mBAAA,CAAmE,MAAnE0B,UAAmE,EAAAN,gBAAA,CAAzBJ,IAAI,CAACW,YAAY,kBAC3D3B,mBAAA,CAAkE,MAAlE4B,UAAkE,EAAAR,gBAAA,CAAxBJ,IAAI,CAACa,WAAW,kBAC1D7B,mBAAA,CAAiE,MAAjE8B,WAAiE,EAAAV,gBAAA,CAAvBJ,IAAI,CAACe,UAAU,iB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}