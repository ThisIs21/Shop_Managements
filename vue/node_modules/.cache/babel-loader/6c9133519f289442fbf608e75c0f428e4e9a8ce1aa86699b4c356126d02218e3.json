{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect } from \"vue\";\nconst _hoisted_1 = {\n  class: \"p-4\"\n};\nconst _hoisted_2 = {\n  class: \"flex gap-4 mb-4\"\n};\nconst _hoisted_3 = [\"value\"];\nconst _hoisted_4 = {\n  class: \"flex gap-4 mb-4\"\n};\nconst _hoisted_5 = {\n  class: \"w-full border-collapse border\"\n};\nconst _hoisted_6 = {\n  class: \"border p-2\"\n};\nconst _hoisted_7 = {\n  class: \"border p-2\"\n};\nconst _hoisted_8 = {\n  class: \"border p-2\"\n};\nconst _hoisted_9 = {\n  class: \"border p-2\"\n};\nconst _hoisted_10 = {\n  class: \"border p-2\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" FILTER \"), _createElementVNode(\"div\", _hoisted_2, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.filters.startDate = $event),\n    class: \"border p-2 rounded\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.filters.startDate]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.filters.endDate = $event),\n    class: \"border p-2 rounded\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.filters.endDate]]), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.filters.category = $event),\n    class: \"border p-2 rounded\"\n  }, [_cache[6] || (_cache[6] = _createElementVNode(\"option\", {\n    value: \"\"\n  }, \"Semua Kategori\", -1 /* CACHED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.categories, cat => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: cat,\n      value: cat\n    }, _toDisplayString(cat), 9 /* TEXT, PROPS */, _hoisted_3);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.filters.category]]), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.fetchData && $options.fetchData(...args)),\n    class: \"bg-blue-500 text-white px-4 py-2 rounded\"\n  }, \" Filter \")]), _createCommentVNode(\" EXPORT \"), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.exportCSV && $options.exportCSV(...args)),\n    class: \"bg-green-500 text-white px-4 py-2 rounded\"\n  }, \" Export CSV \"), _createElementVNode(\"button\", {\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.exportPDF && $options.exportPDF(...args)),\n    class: \"bg-red-500 text-white px-4 py-2 rounded\"\n  }, \" Export PDF \")]), _createCommentVNode(\" TABEL DATA \"), _createElementVNode(\"table\", _hoisted_5, [_cache[7] || (_cache[7] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", {\n    class: \"bg-gray-100\"\n  }, [_createElementVNode(\"th\", {\n    class: \"border p-2\"\n  }, \"Tanggal\"), _createElementVNode(\"th\", {\n    class: \"border p-2\"\n  }, \"Produk\"), _createElementVNode(\"th\", {\n    class: \"border p-2\"\n  }, \"Kategori\"), _createElementVNode(\"th\", {\n    class: \"border p-2\"\n  }, \"Jumlah\"), _createElementVNode(\"th\", {\n    class: \"border p-2\"\n  }, \"Total\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.reportData, row => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: row.id\n    }, [_createElementVNode(\"td\", _hoisted_6, _toDisplayString(row.date), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_7, _toDisplayString(row.product), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_8, _toDisplayString(row.category), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_9, _toDisplayString(row.qty), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_10, _toDisplayString(row.total), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","type","$data","filters","startDate","$event","endDate","category","value","_Fragment","_renderList","categories","cat","key","_hoisted_3","onClick","_cache","args","$options","fetchData","_hoisted_4","exportCSV","exportPDF","_hoisted_5","reportData","row","id","_hoisted_6","_toDisplayString","date","_hoisted_7","product","_hoisted_8","_hoisted_9","qty","_hoisted_10","total"],"sources":["C:\\Users\\Personal\\Documents\\PKL\\aplikasi\\aplikasi\\src\\views\\SalesSummaryReportOwners.vue"],"sourcesContent":["<template>\n  <div class=\"p-4\">\n    <!-- FILTER -->\n    <div class=\"flex gap-4 mb-4\">\n      <input\n        type=\"date\"\n        v-model=\"filters.startDate\"\n        class=\"border p-2 rounded\"\n      />\n      <input type=\"date\" v-model=\"filters.endDate\" class=\"border p-2 rounded\" />\n\n      <select v-model=\"filters.category\" class=\"border p-2 rounded\">\n        <option value=\"\">Semua Kategori</option>\n        <option v-for=\"cat in categories\" :key=\"cat\" :value=\"cat\">\n          {{ cat }}\n        </option>\n      </select>\n\n      <button\n        @click=\"fetchData\"\n        class=\"bg-blue-500 text-white px-4 py-2 rounded\"\n      >\n        Filter\n      </button>\n    </div>\n\n    <!-- EXPORT -->\n    <div class=\"flex gap-4 mb-4\">\n      <button\n        @click=\"exportCSV\"\n        class=\"bg-green-500 text-white px-4 py-2 rounded\"\n      >\n        Export CSV\n      </button>\n      <button\n        @click=\"exportPDF\"\n        class=\"bg-red-500 text-white px-4 py-2 rounded\"\n      >\n        Export PDF\n      </button>\n    </div>\n\n    <!-- TABEL DATA -->\n    <table class=\"w-full border-collapse border\">\n      <thead>\n        <tr class=\"bg-gray-100\">\n          <th class=\"border p-2\">Tanggal</th>\n          <th class=\"border p-2\">Produk</th>\n          <th class=\"border p-2\">Kategori</th>\n          <th class=\"border p-2\">Jumlah</th>\n          <th class=\"border p-2\">Total</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"row in reportData\" :key=\"row.id\">\n          <td class=\"border p-2\">{{ row.date }}</td>\n          <td class=\"border p-2\">{{ row.product }}</td>\n          <td class=\"border p-2\">{{ row.category }}</td>\n          <td class=\"border p-2\">{{ row.qty }}</td>\n          <td class=\"border p-2\">{{ row.total }}</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport jsPDF from \"jspdf\";\nimport \"jspdf-autotable\";\n\nexport default {\n  name: \"SalesSummaryReportOwners\",\n  data() {\n    return {\n      filters: {\n        startDate: \"\",\n        endDate: \"\",\n        category: \"\",\n      },\n      categories: [\"Buku\", \"ATK\", \"Majalah\"], // ini bisa fetch dari backend juga\n      reportData: [],\n    };\n  },\n  methods: {\n    async fetchData() {\n      try {\n        const res = await axios.get(\n          \"http://localhost:8081/api/v1/owner/sales-summary\",\n          {\n            params: this.filters,\n          }\n        );\n        this.reportData = res.data || [];\n      } catch (err) {\n        console.error(\"Error fetch:\", err);\n      }\n    },\n\n    exportCSV() {\n      if (!this.reportData.length) return;\n\n      const header = [\"Tanggal\", \"Produk\", \"Kategori\", \"Jumlah\", \"Total\"];\n      const rows = this.reportData.map((r) => [\n        r.date,\n        r.product,\n        r.category,\n        r.qty,\n        r.total,\n      ]);\n\n      const csvContent =\n        \"data:text/csv;charset=utf-8,\" +\n        [header, ...rows].map((e) => e.join(\",\")).join(\"\\n\");\n\n      const link = document.createElement(\"a\");\n      link.setAttribute(\"href\", encodeURI(csvContent));\n      link.setAttribute(\"download\", \"laporan.csv\");\n      link.click();\n    },\n\n    exportPDF() {\n      const doc = new jsPDF();\n      doc.text(\"Laporan Penjualan\", 14, 10);\n      const rows = this.reportData.map((r) => [\n        r.date,\n        r.product,\n        r.category,\n        r.qty,\n        r.total,\n      ]);\n\n      doc.autoTable({\n        head: [[\"Tanggal\", \"Produk\", \"Kategori\", \"Jumlah\", \"Total\"]],\n        body: rows,\n      });\n\n      doc.save(\"laporan.pdf\");\n    },\n  },\n  mounted() {\n    this.fetchData();\n  },\n};\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}