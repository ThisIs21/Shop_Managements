{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, withCtx as _withCtx, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"p-6\"\n};\nconst _hoisted_2 = {\n  class: \"mb-4 flex gap-2\"\n};\nconst _hoisted_3 = {\n  class: \"flex gap-2 mb-4\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"bg-gray-900 text-green-400 text-sm p-2 mb-4 rounded overflow-x-auto\"\n};\nconst _hoisted_5 = {\n  class: \"w-full border\"\n};\nconst _hoisted_6 = {\n  class: \"p-2 border\"\n};\nconst _hoisted_7 = {\n  class: \"p-2 border\"\n};\nconst _hoisted_8 = {\n  class: \"p-2 border\"\n};\nconst _hoisted_9 = {\n  class: \"p-2 border\"\n};\nconst _hoisted_10 = {\n  class: \"p-2 border\"\n};\nconst _hoisted_11 = {\n  class: \"p-2 border\"\n};\nconst _hoisted_12 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createBlock($setup[\"OwnerLayout\"], null, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_cache[6] || (_cache[6] = _createElementVNode(\"h1\", {\n      class: \"text-2xl font-bold mb-4\"\n    }, \"Purchase Summary Report\", -1 /* CACHED */)), _createCommentVNode(\" Filter tetap sesuai desain lama \"), _createElementVNode(\"div\", _hoisted_2, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"date\",\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.filters.start = $event),\n      class: \"border p-2 rounded\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.filters.start]]), _withDirectives(_createElementVNode(\"input\", {\n      type: \"date\",\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.filters.end = $event),\n      class: \"border p-2 rounded\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.filters.end]]), _createElementVNode(\"button\", {\n      onClick: $setup.fetchReport,\n      class: \"bg-blue-500 text-white px-4 py-2 rounded\"\n    }, \" Apply \")]), _createCommentVNode(\" Tombol export \"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"button\", {\n      onClick: _cache[2] || (_cache[2] = $event => $setup.exportReport('csv')),\n      class: \"bg-green-500 text-white px-4 py-2 rounded\"\n    }, \" Export to CSV \"), _createElementVNode(\"button\", {\n      onClick: _cache[3] || (_cache[3] = $event => $setup.exportReport('pdf')),\n      class: \"bg-red-500 text-white px-4 py-2 rounded\"\n    }, \" Export to PDF \")]), _createCommentVNode(\" Debug JSON kecil, tidak ganggu desain \"), $setup.rawResponse ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createElementVNode(\"pre\", null, _toDisplayString($setup.rawResponse), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Tabel utama (tetap desain lama) \"), _createElementVNode(\"table\", _hoisted_5, [_cache[5] || (_cache[5] = _createElementVNode(\"thead\", {\n      class: \"bg-gray-200\"\n    }, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n      class: \"p-2 border\"\n    }, \"Date\"), _createElementVNode(\"th\", {\n      class: \"p-2 border\"\n    }, \"Supplier\"), _createElementVNode(\"th\", {\n      class: \"p-2 border\"\n    }, \"Product\"), _createElementVNode(\"th\", {\n      class: \"p-2 border\"\n    }, \"Quantity\"), _createElementVNode(\"th\", {\n      class: \"p-2 border\"\n    }, \"Price\"), _createElementVNode(\"th\", {\n      class: \"p-2 border\"\n    }, \"Total\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.reportData, item => {\n      return _openBlock(), _createElementBlock(\"tr\", {\n        key: item.id\n      }, [_createElementVNode(\"td\", _hoisted_6, _toDisplayString(item.date || item.tanggal), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_7, _toDisplayString(item.supplier), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_8, _toDisplayString(item.product), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_9, _toDisplayString(item.quantity), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_10, _toDisplayString(item.price), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_11, _toDisplayString(item.total), 1 /* TEXT */)]);\n    }), 128 /* KEYED_FRAGMENT */)), !$setup.reportData.length ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_12, [...(_cache[4] || (_cache[4] = [_createElementVNode(\"td\", {\n      colspan: \"6\",\n      class: \"text-center p-2\"\n    }, \"No data available.\", -1 /* CACHED */)]))])) : _createCommentVNode(\"v-if\", true)])])])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createBlock","$setup","_createElementVNode","_hoisted_1","_createCommentVNode","_hoisted_2","type","filters","start","$event","end","onClick","fetchReport","_hoisted_3","_cache","exportReport","rawResponse","_createElementBlock","_hoisted_4","_toDisplayString","_hoisted_5","_Fragment","_renderList","reportData","item","key","id","_hoisted_6","date","tanggal","_hoisted_7","supplier","_hoisted_8","product","_hoisted_9","quantity","_hoisted_10","price","_hoisted_11","total","length","_hoisted_12","colspan"],"sources":["C:\\Users\\Personal\\Documents\\PKL\\aplikasi\\aplikasi\\src\\views\\ReportStockOpnameOwners.vue"],"sourcesContent":["<template>\n  <OwnerLayout>\n    <div class=\"p-6\">\n      <h1 class=\"text-2xl font-bold mb-4\">Purchase Summary Report</h1>\n\n      <!-- Filter tetap sesuai desain lama -->\n      <div class=\"mb-4 flex gap-2\">\n        <input type=\"date\" v-model=\"filters.start\" class=\"border p-2 rounded\" />\n        <input type=\"date\" v-model=\"filters.end\" class=\"border p-2 rounded\" />\n        <button @click=\"fetchReport\" class=\"bg-blue-500 text-white px-4 py-2 rounded\">\n          Apply\n        </button>\n      </div>\n\n      <!-- Tombol export -->\n      <div class=\"flex gap-2 mb-4\">\n        <button @click=\"exportReport('csv')\" class=\"bg-green-500 text-white px-4 py-2 rounded\">\n          Export to CSV\n        </button>\n        <button @click=\"exportReport('pdf')\" class=\"bg-red-500 text-white px-4 py-2 rounded\">\n          Export to PDF\n        </button>\n      </div>\n\n      <!-- Debug JSON kecil, tidak ganggu desain -->\n      <div v-if=\"rawResponse\" class=\"bg-gray-900 text-green-400 text-sm p-2 mb-4 rounded overflow-x-auto\">\n        <pre>{{ rawResponse }}</pre>\n      </div>\n\n      <!-- Tabel utama (tetap desain lama) -->\n      <table class=\"w-full border\">\n        <thead class=\"bg-gray-200\">\n          <tr>\n            <th class=\"p-2 border\">Date</th>\n            <th class=\"p-2 border\">Supplier</th>\n            <th class=\"p-2 border\">Product</th>\n            <th class=\"p-2 border\">Quantity</th>\n            <th class=\"p-2 border\">Price</th>\n            <th class=\"p-2 border\">Total</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"item in reportData\" :key=\"item.id\">\n            <td class=\"p-2 border\">{{ item.date || item.tanggal }}</td>\n            <td class=\"p-2 border\">{{ item.supplier }}</td>\n            <td class=\"p-2 border\">{{ item.product }}</td>\n            <td class=\"p-2 border\">{{ item.quantity }}</td>\n            <td class=\"p-2 border\">{{ item.price }}</td>\n            <td class=\"p-2 border\">{{ item.total }}</td>\n          </tr>\n          <tr v-if=\"!reportData.length\">\n            <td colspan=\"6\" class=\"text-center p-2\">No data available.</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </OwnerLayout>\n</template>\n\n<script setup>\nimport { ref } from \"vue\";\nimport axios from \"axios\";\nimport OwnerLayout from \"@/layouts/OwnerLayout.vue\"; // biarkan sesuai project\n\nconst filters = ref({ start: \"\", end: \"\" });\nconst reportData = ref([]);\nconst rawResponse = ref(null);\n\nconst fetchReport = async () => {\n  try {\n    const res = await axios.get(\"http://localhost:8881/api/v1/history/purchases\");\n    rawResponse.value = res.data;\n    reportData.value = Array.isArray(res.data) ? res.data : res.data.data || [];\n  } catch (err) {\n    alert(\"Failed to fetch report data\");\n  }\n};\n\nconst exportReport = async (type) => {\n  try {\n    await axios.get(`http://localhost:8881/api/v1/history/purchases?export=${type}`);\n    alert(`Export to ${type.toUpperCase()} not yet implemented`);\n  } catch (err) {\n    alert(\"Export failed\");\n  }\n};\n\n// auto load\nfetchReport();\n</script>\n"],"mappings":";;EAESA,KAAK,EAAC;AAAK;;EAITA,KAAK,EAAC;AAAiB;;EASvBA,KAAK,EAAC;AAAiB;;;EAUJA,KAAK,EAAC;;;EAKvBA,KAAK,EAAC;AAAe;;EAalBA,KAAK,EAAC;AAAY;;EAClBA,KAAK,EAAC;AAAY;;EAClBA,KAAK,EAAC;AAAY;;EAClBA,KAAK,EAAC;AAAY;;EAClBA,KAAK,EAAC;AAAY;;EAClBA,KAAK,EAAC;AAAY;;;;;uBA/ChCC,YAAA,CAuDcC,MAAA;sBAtDZ,MAqDM,CArDNC,mBAAA,CAqDM,OArDNC,UAqDM,G,0BApDJD,mBAAA,CAAgE;MAA5DH,KAAK,EAAC;IAAyB,GAAC,yBAAuB,qBAE3DK,mBAAA,qCAAwC,EACxCF,mBAAA,CAMM,OANNG,UAMM,G,gBALJH,mBAAA,CAAwE;MAAjEI,IAAI,EAAC,MAAM;iEAAUL,MAAA,CAAAM,OAAO,CAACC,KAAK,GAAAC,MAAA;MAAEV,KAAK,EAAC;mDAArBE,MAAA,CAAAM,OAAO,CAACC,KAAK,E,mBACzCN,mBAAA,CAAsE;MAA/DI,IAAI,EAAC,MAAM;iEAAUL,MAAA,CAAAM,OAAO,CAACG,GAAG,GAAAD,MAAA;MAAEV,KAAK,EAAC;mDAAnBE,MAAA,CAAAM,OAAO,CAACG,GAAG,E,GACvCR,mBAAA,CAES;MAFAS,OAAK,EAAEV,MAAA,CAAAW,WAAW;MAAEb,KAAK,EAAC;OAA2C,SAE9E,E,GAGFK,mBAAA,mBAAsB,EACtBF,mBAAA,CAOM,OAPNW,UAOM,GANJX,mBAAA,CAES;MAFAS,OAAK,EAAAG,MAAA,QAAAA,MAAA,MAAAL,MAAA,IAAER,MAAA,CAAAc,YAAY;MAAShB,KAAK,EAAC;OAA4C,iBAEvF,GACAG,mBAAA,CAES;MAFAS,OAAK,EAAAG,MAAA,QAAAA,MAAA,MAAAL,MAAA,IAAER,MAAA,CAAAc,YAAY;MAAShB,KAAK,EAAC;OAA0C,iBAErF,E,GAGFK,mBAAA,2CAA8C,EACnCH,MAAA,CAAAe,WAAW,I,cAAtBC,mBAAA,CAEM,OAFNC,UAEM,GADJhB,mBAAA,CAA4B,aAAAiB,gBAAA,CAApBlB,MAAA,CAAAe,WAAW,iB,wCAGrBZ,mBAAA,qCAAwC,EACxCF,mBAAA,CAwBQ,SAxBRkB,UAwBQ,G,0BAvBNlB,mBAAA,CASQ;MATDH,KAAK,EAAC;IAAa,IACxBG,mBAAA,CAOK,aANHA,mBAAA,CAAgC;MAA5BH,KAAK,EAAC;IAAY,GAAC,MAAI,GAC3BG,mBAAA,CAAoC;MAAhCH,KAAK,EAAC;IAAY,GAAC,UAAQ,GAC/BG,mBAAA,CAAmC;MAA/BH,KAAK,EAAC;IAAY,GAAC,SAAO,GAC9BG,mBAAA,CAAoC;MAAhCH,KAAK,EAAC;IAAY,GAAC,UAAQ,GAC/BG,mBAAA,CAAiC;MAA7BH,KAAK,EAAC;IAAY,GAAC,OAAK,GAC5BG,mBAAA,CAAiC;MAA7BH,KAAK,EAAC;IAAY,GAAC,OAAK,E,uBAGhCG,mBAAA,CAYQ,iB,kBAXNe,mBAAA,CAOKI,SAAA,QAAAC,WAAA,CAPcrB,MAAA,CAAAsB,UAAU,EAAlBC,IAAI;2BAAfP,mBAAA,CAOK;QAP2BQ,GAAG,EAAED,IAAI,CAACE;UACxCxB,mBAAA,CAA2D,MAA3DyB,UAA2D,EAAAR,gBAAA,CAAjCK,IAAI,CAACI,IAAI,IAAIJ,IAAI,CAACK,OAAO,kBACnD3B,mBAAA,CAA+C,MAA/C4B,UAA+C,EAAAX,gBAAA,CAArBK,IAAI,CAACO,QAAQ,kBACvC7B,mBAAA,CAA8C,MAA9C8B,UAA8C,EAAAb,gBAAA,CAApBK,IAAI,CAACS,OAAO,kBACtC/B,mBAAA,CAA+C,MAA/CgC,UAA+C,EAAAf,gBAAA,CAArBK,IAAI,CAACW,QAAQ,kBACvCjC,mBAAA,CAA4C,MAA5CkC,WAA4C,EAAAjB,gBAAA,CAAlBK,IAAI,CAACa,KAAK,kBACpCnC,mBAAA,CAA4C,MAA5CoC,WAA4C,EAAAnB,gBAAA,CAAlBK,IAAI,CAACe,KAAK,iB;qCAE3BtC,MAAA,CAAAsB,UAAU,CAACiB,MAAM,I,cAA5BvB,mBAAA,CAEK,MAAAwB,WAAA,OAAA3B,MAAA,QAAAA,MAAA,OADHZ,mBAAA,CAA+D;MAA3DwC,OAAO,EAAC,GAAG;MAAC3C,KAAK,EAAC;OAAkB,oBAAkB,mB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}