{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport api from \"../services/api.js\";\nexport default {\n  __name: 'AppLogin',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    const email = ref(\"\");\n    const password = ref(\"\");\n    const errorMessage = ref(\"\");\n    const handleLogin = async () => {\n      errorMessage.value = \"\";\n      try {\n        const response = await api.post(\"/auth/login\", {\n          email: email.value,\n          password: password.value\n        });\n        const {\n          token,\n          role\n        } = response.data.data;\n        localStorage.setItem(\"token\", token);\n        localStorage.setItem(\"userRole\", role);\n        switch (role) {\n          case \"OWNER\":\n            router.push(\"/dashboard-owner\");\n            break;\n          case \"KASIR\":\n            router.push(\"/dashboard-cashier\");\n            break;\n          case \"GUDANG\":\n            router.push(\"/dashboard-gudang\");\n            break;\n          case \"PEMBELIAN\":\n            router.push(\"/dashboard-pembelian\");\n            break;\n          case \"KEPALA_GUDANG\":\n            router.push(\"/dashboard-kepalagudang\");\n            break;\n          default:\n            router.push(\"/\");\n            break;\n        }\n      } catch (error) {\n        if (error.response && error.response.status === 401) {\n          errorMessage.value = \"Email atau password salah!\";\n        } else {\n          errorMessage.value = \"Terjadi kesalahan saat login. Mohon coba lagi.\";\n        }\n        console.error(\"Error saat login:\", error);\n      }\n    };\n    const __returned__ = {\n      router,\n      email,\n      password,\n      errorMessage,\n      handleLogin,\n      ref,\n      get useRouter() {\n        return useRouter;\n      },\n      get api() {\n        return api;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","useRouter","api","router","email","password","errorMessage","handleLogin","value","response","post","token","role","data","localStorage","setItem","push","error","status","console"],"sources":["C:/Users/Personal/Documents/PKL/aplikasi/aplikasi/src/components/AppLogin.vue"],"sourcesContent":["<template>\n  <div\n    class=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-500 relative overflow-hidden px-4\"\n  >\n    <!-- Minimalistic Animated Background -->\n    <div class=\"absolute inset-0 overflow-hidden\">\n      <!-- Left top soft glow -->\n      <div\n        class=\"absolute w-72 h-72 bg-white/10 rounded-full blur-3xl -top-32 -left-32 animate-pulse\"\n      ></div>\n      <!-- Right bottom soft glow -->\n      <div\n        class=\"absolute w-72 h-72 bg-white/10 rounded-full blur-3xl -bottom-32 -right-32 animate-pulse delay-1000\"\n      ></div>\n      <!-- Center subtle glow -->\n      <div\n        class=\"absolute w-48 h-48 bg-white/5 rounded-full blur-2xl top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 animate-pulse delay-500\"\n      ></div>\n    </div>\n\n    <!-- Login Card -->\n    <div class=\"w-full max-w-lg relative z-10\">\n      <div\n        class=\"backdrop-blur-xl bg-white/10 rounded-3xl shadow-2xl border border-white/20 p-10 transition-all duration-300 hover:bg-white/15 hover:shadow-3xl\"\n      >\n        <!-- Logo/Header -->\n        <div class=\"text-center mb-8\">\n          <div\n            class=\"inline-flex items-center justify-center w-20 h-20 bg-white/20 rounded-2xl mb-4 backdrop-blur-sm\"\n          >\n            <svg\n              class=\"w-10 h-10 text-white\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                stroke-width=\"2\"\n                d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\"\n              />\n            </svg>\n          </div>\n          <h1 class=\"text-3xl font-bold text-white/90 mb-2\">Selamat Datang</h1>\n          <p class=\"text-white/70 text-sm\">Silakan login untuk melanjutkan</p>\n        </div>\n\n        <!-- Error Message -->\n        <div\n          v-if=\"errorMessage\"\n          class=\"mb-6 p-4 bg-red-500/20 border border-red-500/30 rounded-xl backdrop-blur-sm\"\n        >\n          <p class=\"text-white text-sm flex items-center\">\n            <svg class=\"w-5 h-5 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path\n                fill-rule=\"evenodd\"\n                d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\"\n                clip-rule=\"evenodd\"\n              />\n            </svg>\n            {{ errorMessage }}\n          </p>\n        </div>\n\n        <!-- Login Form -->\n        <form @submit.prevent=\"handleLogin\" class=\"space-y-5\">\n          <!-- Email Input -->\n          <div class=\"space-y-2\">\n            <label for=\"email\" class=\"text-white/90 text-sm font-medium block\"\n              >Email</label\n            >\n            <div class=\"relative\">\n              <div\n                class=\"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none\"\n              >\n                <svg\n                  class=\"w-5 h-5 text-white/60\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                    stroke-width=\"2\"\n                    d=\"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207\"\n                  />\n                </svg>\n              </div>\n              <input\n                id=\"email\"\n                v-model=\"email\"\n                type=\"email\"\n                required\n                placeholder=\"nama@email.com\"\n                class=\"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/30 focus:border-transparent backdrop-blur-sm transition-all duration-200\"\n              />\n            </div>\n          </div>\n\n          <!-- Password Input -->\n          <div class=\"space-y-2\">\n            <label for=\"password\" class=\"text-white/90 text-sm font-medium block\"\n              >Password</label\n            >\n            <div class=\"relative\">\n              <div\n                class=\"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none\"\n              >\n                <svg\n                  class=\"w-5 h-5 text-white/60\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                    stroke-width=\"2\"\n                    d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\"\n                  />\n                </svg>\n              </div>\n              <input\n                id=\"password\"\n                v-model=\"password\"\n                type=\"password\"\n                required\n                placeholder=\"••••••••\"\n                class=\"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/30 focus:border-transparent backdrop-blur-sm transition-all duration-200\"\n              />\n            </div>\n          </div>\n\n          <!-- Login Button -->\n          <button\n            type=\"submit\"\n            class=\"w-full py-3.5 bg-white text-purple-600 rounded-xl font-semibold hover:bg-white/90 focus:outline-none focus:ring-2 focus:ring-white/50 focus:ring-offset-2 focus:ring-offset-purple-500 transform hover:scale-[1.02] active:scale-[0.98] transition-all duration-200 shadow-lg\"\n          >\n            Masuk\n          </button>\n        </form>\n      </div>\n\n      <!-- Footer -->\n      <p class=\"text-center text-white/60 text-xs mt-6\">\n        © 2024 Your Company. All rights reserved.\n      </p>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport api from \"../services/api.js\";\n\nconst router = useRouter();\nconst email = ref(\"\");\nconst password = ref(\"\");\nconst errorMessage = ref(\"\");\n\nconst handleLogin = async () => {\n  errorMessage.value = \"\";\n  try {\n    const response = await api.post(\"/auth/login\", {\n      email: email.value,\n      password: password.value,\n    });\n    const { token, role } = response.data.data;\n    localStorage.setItem(\"token\", token);\n    localStorage.setItem(\"userRole\", role);\n\n    switch (role) {\n      case \"OWNER\":\n        router.push(\"/dashboard-owner\");\n        break;\n      case \"KASIR\":\n        router.push(\"/dashboard-cashier\");\n        break;\n      case \"GUDANG\":\n        router.push(\"/dashboard-gudang\");\n        break;\n      case \"PEMBELIAN\":\n        router.push(\"/dashboard-pembelian\");\n        break;\n      case \"KEPALA_GUDANG\":\n        router.push(\"/dashboard-kepalagudang\");\n        break;\n      default:\n        router.push(\"/\");\n        break;\n    }\n  } catch (error) {\n    if (error.response && error.response.status === 401) {\n      errorMessage.value = \"Email atau password salah!\";\n    } else {\n      errorMessage.value = \"Terjadi kesalahan saat login. Mohon coba lagi.\";\n    }\n    console.error(\"Error saat login:\", error);\n  }\n};\n</script>\n\n<style scoped>\n@keyframes pulse {\n  0%, 100% { opacity: 0.5; }\n  50% { opacity: 0.8; }\n}\n\n.animate-pulse {\n  animation: pulse 4s cubic-bezier(0.4,0,0.6,1) infinite;\n}\n\n.delay-500 { animation-delay: 500ms; }\n.delay-1000 { animation-delay: 1000ms; }\n\n/* Custom scrollbar for inputs */\ninput::-webkit-scrollbar { width: 4px; }\ninput::-webkit-scrollbar-track { background: transparent; }\ninput::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.3); border-radius: 10px; }\n</style>\n"],"mappings":";AA0JA,SAASA,GAAG,QAAQ,KAAK;AACzB,SAASC,SAAS,QAAQ,YAAY;AACtC,OAAOC,GAAG,MAAM,oBAAoB;;;;;;;IAEpC,MAAMC,MAAM,GAAGF,SAAS,CAAC,CAAC;IAC1B,MAAMG,KAAK,GAAGJ,GAAG,CAAC,EAAE,CAAC;IACrB,MAAMK,QAAQ,GAAGL,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMM,YAAY,GAAGN,GAAG,CAAC,EAAE,CAAC;IAE5B,MAAMO,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC9BD,YAAY,CAACE,KAAK,GAAG,EAAE;MACvB,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMP,GAAG,CAACQ,IAAI,CAAC,aAAa,EAAE;UAC7CN,KAAK,EAAEA,KAAK,CAACI,KAAK;UAClBH,QAAQ,EAAEA,QAAQ,CAACG;QACrB,CAAC,CAAC;QACF,MAAM;UAAEG,KAAK;UAAEC;QAAK,CAAC,GAAGH,QAAQ,CAACI,IAAI,CAACA,IAAI;QAC1CC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEJ,KAAK,CAAC;QACpCG,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEH,IAAI,CAAC;QAEtC,QAAQA,IAAI;UACV,KAAK,OAAO;YACVT,MAAM,CAACa,IAAI,CAAC,kBAAkB,CAAC;YAC/B;UACF,KAAK,OAAO;YACVb,MAAM,CAACa,IAAI,CAAC,oBAAoB,CAAC;YACjC;UACF,KAAK,QAAQ;YACXb,MAAM,CAACa,IAAI,CAAC,mBAAmB,CAAC;YAChC;UACF,KAAK,WAAW;YACdb,MAAM,CAACa,IAAI,CAAC,sBAAsB,CAAC;YACnC;UACF,KAAK,eAAe;YAClBb,MAAM,CAACa,IAAI,CAAC,yBAAyB,CAAC;YACtC;UACF;YACEb,MAAM,CAACa,IAAI,CAAC,GAAG,CAAC;YAChB;QACJ;MACF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACd,IAAIA,KAAK,CAACR,QAAQ,IAAIQ,KAAK,CAACR,QAAQ,CAACS,MAAM,KAAK,GAAG,EAAE;UACnDZ,YAAY,CAACE,KAAK,GAAG,4BAA4B;QACnD,CAAC,MAAM;UACLF,YAAY,CAACE,KAAK,GAAG,gDAAgD;QACvE;QACAW,OAAO,CAACF,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;MAC3C;IACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}