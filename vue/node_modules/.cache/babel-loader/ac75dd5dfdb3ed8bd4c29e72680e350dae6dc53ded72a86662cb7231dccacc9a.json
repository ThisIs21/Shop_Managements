{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.reduce.js\";\nimport { ref, computed } from \"vue\";\n\n// Produk dummy (nanti bisa tarik dari API)\n\nexport default {\n  __name: 'CashierPage',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const products = ref([{\n      id: 1,\n      name: \"Produk A\",\n      price: 50000\n    }, {\n      id: 2,\n      name: \"Produk B\",\n      price: 30000\n    }, {\n      id: 3,\n      name: \"Produk C\",\n      price: 20000\n    }]);\n    const customerName = ref(\"\");\n    const items = ref([{\n      productId: \"\",\n      qty: 1,\n      price: 0\n    }]);\n    const amountReceived = ref(0);\n\n    // Hitungan otomatis\n    const subtotal = computed(() => items.value.reduce((s, i) => s + i.qty * i.price, 0));\n    const total = computed(() => subtotal.value);\n    const change = computed(() => amountReceived.value >= total.value ? amountReceived.value - total.value : 0);\n    const formatCurrency = val => \"Rp \" + (val || 0).toLocaleString(\"id-ID\");\n\n    // Tambah/Hapus Produk\n    const addItem = () => items.value.push({\n      productId: \"\",\n      qty: 1,\n      price: 0\n    });\n    const removeItem = i => items.value.splice(i, 1);\n\n    // Update harga berdasarkan produk terpilih\n    const updatePrice = index => {\n      const product = products.value.find(p => p.id === items.value[index].productId);\n      if (product) items.value[index].price = product.price;\n    };\n\n    // Simulasi pembayaran\n    const handlePayNow = () => {\n      alert(\"Bayar total: \" + formatCurrency(total.value));\n    };\n    const handlePrintReceipt = () => {\n      alert(\"Cetak struk...\");\n    };\n    const __returned__ = {\n      products,\n      customerName,\n      items,\n      amountReceived,\n      subtotal,\n      total,\n      change,\n      formatCurrency,\n      addItem,\n      removeItem,\n      updatePrice,\n      handlePayNow,\n      handlePrintReceipt,\n      ref,\n      computed\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","products","id","name","price","customerName","items","productId","qty","amountReceived","subtotal","value","reduce","s","i","total","change","formatCurrency","val","toLocaleString","addItem","push","removeItem","splice","updatePrice","index","product","find","p","handlePayNow","alert","handlePrintReceipt"],"sources":["C:/Users/SPC STYLE 5/aplikasi/src/views/CashierPage.vue"],"sourcesContent":["<template>\n  <div class=\"p-6 max-w-3xl mx-auto\">\n    <h2 class=\"text-2xl font-bold mb-4\">Kasir - Input Transaksi</h2>\n\n    <!-- Nama Pelanggan -->\n    <div class=\"mb-4\">\n      <label class=\"block mb-1\">Nama Pelanggan</label>\n      <input v-model=\"customerName\" type=\"text\" class=\"border p-2 w-full rounded\" />\n    </div>\n\n    <!-- Produk -->\n    <div v-for=\"(item, index) in items\" :key=\"index\" class=\"flex gap-2 mb-3\">\n      <select v-model=\"item.productId\" @change=\"updatePrice(index)\" class=\"border p-2 flex-1\">\n        <option disabled value=\"\">Pilih Produk</option>\n        <option v-for=\"p in products\" :key=\"p.id\" :value=\"p.id\">{{ p.name }}</option>\n      </select>\n\n      <input v-model.number=\"item.qty\" type=\"number\" min=\"1\" class=\"border p-2 w-20\" />\n      <input v-model.number=\"item.price\" type=\"number\" readonly class=\"border p-2 w-28 bg-gray-100\" />\n      <span class=\"w-28 p-2 text-right\">{{ formatCurrency(item.qty * item.price) }}</span>\n\n      <button @click=\"removeItem(index)\" class=\"bg-red-500 text-white px-2 rounded\">X</button>\n    </div>\n\n    <button @click=\"addItem\" class=\"bg-green-500 text-white px-3 py-1 rounded mb-6\">+ Produk</button>\n\n    <!-- Ringkasan -->\n    <div class=\"border-t pt-4 space-y-2\">\n      <div class=\"flex justify-between\"><span>Subtotal</span><span>{{ formatCurrency(subtotal) }}</span></div>\n      <div class=\"flex justify-between font-bold\"><span>Total</span><span>{{ formatCurrency(total) }}</span></div>\n    </div>\n\n    <!-- Uang Dibayarkan -->\n    <div class=\"mt-4\">\n      <label class=\"block mb-1\">Uang Dibayarkan</label>\n      <input v-model.number=\"amountReceived\" type=\"number\" class=\"border p-2 w-full rounded\" />\n    </div>\n\n    <!-- Kembalian -->\n    <p class=\"mt-2\">Kembalian: <b>{{ formatCurrency(change) }}</b></p>\n\n    <!-- Tombol -->\n    <div class=\"flex gap-4 mt-6\">\n      <button @click=\"handlePayNow\" class=\"bg-blue-600 text-white px-4 py-2 rounded\">Bayar</button>\n      <button @click=\"handlePrintReceipt\" class=\"bg-gray-300 px-4 py-2 rounded\">Cetak Struk</button>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from \"vue\";\n\n// Produk dummy (nanti bisa tarik dari API)\nconst products = ref([\n  { id: 1, name: \"Produk A\", price: 50000 },\n  { id: 2, name: \"Produk B\", price: 30000 },\n  { id: 3, name: \"Produk C\", price: 20000 },\n]);\n\nconst customerName = ref(\"\");\nconst items = ref([{ productId: \"\", qty: 1, price: 0 }]);\nconst amountReceived = ref(0);\n\n// Hitungan otomatis\nconst subtotal = computed(() => items.value.reduce((s, i) => s + i.qty * i.price, 0));\nconst total = computed(() => subtotal.value);\nconst change = computed(() => (amountReceived.value >= total.value ? amountReceived.value - total.value : 0));\n\nconst formatCurrency = (val) => \"Rp \" + (val || 0).toLocaleString(\"id-ID\");\n\n// Tambah/Hapus Produk\nconst addItem = () => items.value.push({ productId: \"\", qty: 1, price: 0 });\nconst removeItem = (i) => items.value.splice(i, 1);\n\n// Update harga berdasarkan produk terpilih\nconst updatePrice = (index) => {\n  const product = products.value.find((p) => p.id === items.value[index].productId);\n  if (product) items.value[index].price = product.price;\n};\n\n// Simulasi pembayaran\nconst handlePayNow = () => {\n  alert(\"Bayar total: \" + formatCurrency(total.value));\n};\n\nconst handlePrintReceipt = () => {\n  alert(\"Cetak struk...\");\n};\n</script>"],"mappings":";;;;AAkDA,SAASA,GAAG,EAAEC,QAAQ,QAAQ,KAAK;;AAEnC;;;;;;;;IACA,MAAMC,QAAQ,GAAGF,GAAG,CAAC,CACnB;MAAEG,EAAE,EAAE,CAAC;MAAEC,IAAI,EAAE,UAAU;MAAEC,KAAK,EAAE;IAAM,CAAC,EACzC;MAAEF,EAAE,EAAE,CAAC;MAAEC,IAAI,EAAE,UAAU;MAAEC,KAAK,EAAE;IAAM,CAAC,EACzC;MAAEF,EAAE,EAAE,CAAC;MAAEC,IAAI,EAAE,UAAU;MAAEC,KAAK,EAAE;IAAM,CAAC,CAC1C,CAAC;IAEF,MAAMC,YAAY,GAAGN,GAAG,CAAC,EAAE,CAAC;IAC5B,MAAMO,KAAK,GAAGP,GAAG,CAAC,CAAC;MAAEQ,SAAS,EAAE,EAAE;MAAEC,GAAG,EAAE,CAAC;MAAEJ,KAAK,EAAE;IAAE,CAAC,CAAC,CAAC;IACxD,MAAMK,cAAc,GAAGV,GAAG,CAAC,CAAC,CAAC;;IAE7B;IACA,MAAMW,QAAQ,GAAGV,QAAQ,CAAC,MAAMM,KAAK,CAACK,KAAK,CAACC,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,CAACN,GAAG,GAAGM,CAAC,CAACV,KAAK,EAAE,CAAC,CAAC,CAAC;IACrF,MAAMW,KAAK,GAAGf,QAAQ,CAAC,MAAMU,QAAQ,CAACC,KAAK,CAAC;IAC5C,MAAMK,MAAM,GAAGhB,QAAQ,CAAC,MAAOS,cAAc,CAACE,KAAK,IAAII,KAAK,CAACJ,KAAK,GAAGF,cAAc,CAACE,KAAK,GAAGI,KAAK,CAACJ,KAAK,GAAG,CAAE,CAAC;IAE7G,MAAMM,cAAc,GAAIC,GAAG,IAAK,KAAK,GAAG,CAACA,GAAG,IAAI,CAAC,EAAEC,cAAc,CAAC,OAAO,CAAC;;IAE1E;IACA,MAAMC,OAAO,GAAGA,CAAA,KAAMd,KAAK,CAACK,KAAK,CAACU,IAAI,CAAC;MAAEd,SAAS,EAAE,EAAE;MAAEC,GAAG,EAAE,CAAC;MAAEJ,KAAK,EAAE;IAAE,CAAC,CAAC;IAC3E,MAAMkB,UAAU,GAAIR,CAAC,IAAKR,KAAK,CAACK,KAAK,CAACY,MAAM,CAACT,CAAC,EAAE,CAAC,CAAC;;IAElD;IACA,MAAMU,WAAW,GAAIC,KAAK,IAAK;MAC7B,MAAMC,OAAO,GAAGzB,QAAQ,CAACU,KAAK,CAACgB,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAAC1B,EAAE,KAAKI,KAAK,CAACK,KAAK,CAACc,KAAK,CAAC,CAAClB,SAAS,CAAC;MACjF,IAAImB,OAAO,EAAEpB,KAAK,CAACK,KAAK,CAACc,KAAK,CAAC,CAACrB,KAAK,GAAGsB,OAAO,CAACtB,KAAK;IACvD,CAAC;;IAED;IACA,MAAMyB,YAAY,GAAGA,CAAA,KAAM;MACzBC,KAAK,CAAC,eAAe,GAAGb,cAAc,CAACF,KAAK,CAACJ,KAAK,CAAC,CAAC;IACtD,CAAC;IAED,MAAMoB,kBAAkB,GAAGA,CAAA,KAAM;MAC/BD,KAAK,CAAC,gBAAgB,CAAC;IACzB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}