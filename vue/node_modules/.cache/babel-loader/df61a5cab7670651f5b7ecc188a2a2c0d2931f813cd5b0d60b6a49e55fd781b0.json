{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: \"ProductCatalogKepalaGudang\",\n  data() {\n    return {\n      products: [],\n      categories: [],\n      newProduct: {\n        name: \"\",\n        price: null,\n        category_id: \"\",\n        stock: null\n      },\n      api: axios.create({\n        baseURL: \"http://localhost:8081/api/v1\",\n        timeout: 10000,\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\") || \"\"}`\n        }\n      })\n    };\n  },\n  methods: {\n    async fetchProducts() {\n      try {\n        const res = await this.api.get(\"/owner/products\");\n        this.products = res.data.data || res.data; // fleksibel sesuai backend\n      } catch (err) {\n        console.error(\"Gagal ambil produk:\", err);\n      }\n    },\n    async fetchCategories() {\n      try {\n        const res = await this.api.get(\"/owner/categories\");\n        this.categories = res.data.data || res.data;\n      } catch (err) {\n        console.error(\"Gagal ambil kategori:\", err);\n      }\n    },\n    async addProduct() {\n      try {\n        await this.api.post(\"/owner/products\", this.newProduct);\n        this.newProduct = {\n          name: \"\",\n          price: null,\n          category_id: \"\",\n          stock: null\n        };\n        await this.fetchProducts();\n      } catch (err) {\n        console.error(\"Gagal tambah produk:\", err);\n      }\n    },\n    formatPrice(value) {\n      return new Intl.NumberFormat(\"id-ID\").format(value);\n    }\n  },\n  mounted() {\n    this.fetchProducts();\n    this.fetchCategories();\n  }\n};","map":{"version":3,"names":["axios","name","data","products","categories","newProduct","price","category_id","stock","api","create","baseURL","timeout","headers","Authorization","localStorage","getItem","methods","fetchProducts","res","get","err","console","error","fetchCategories","addProduct","post","formatPrice","value","Intl","NumberFormat","format","mounted"],"sources":["C:\\Users\\Personal\\Documents\\PKL\\aplikasi\\aplikasi\\src\\views\\ProductCatalogKepalaGudang.vue"],"sourcesContent":["<template>\n  <div\n    class=\"relative flex size-full min-h-screen flex-col bg-white overflow-x-hidden\"\n  >\n    <!-- Header -->\n    <header class=\"flex items-center justify-between p-4 shadow\">\n      <h1 class=\"text-2xl font-bold\">Product Catalog - Kepala Gudang</h1>\n    </header>\n\n    <main class=\"flex-1 p-6\">\n      <!-- Form Tambah Produk -->\n      <section class=\"mb-8\">\n        <h2 class=\"text-xl font-semibold mb-4\">Tambah Produk</h2>\n        <form @submit.prevent=\"addProduct\" class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div>\n            <label class=\"block text-sm font-medium mb-1\">Nama Produk</label>\n            <input\n              v-model=\"newProduct.name\"\n              type=\"text\"\n              class=\"w-full border rounded p-2\"\n              required\n            />\n          </div>\n\n          <div>\n            <label class=\"block text-sm font-medium mb-1\">Harga</label>\n            <input\n              v-model.number=\"newProduct.price\"\n              type=\"number\"\n              class=\"w-full border rounded p-2\"\n              required\n            />\n          </div>\n\n          <div>\n            <label class=\"block text-sm font-medium mb-1\">Kategori</label>\n            <select\n              v-model=\"newProduct.category_id\"\n              class=\"w-full border rounded p-2\"\n              required\n            >\n              <option value=\"\" disabled>Pilih Kategori</option>\n              <option v-for=\"cat in categories\" :key=\"cat.id\" :value=\"cat.id\">\n                {{ cat.name }}\n              </option>\n            </select>\n          </div>\n\n          <div>\n            <label class=\"block text-sm font-medium mb-1\">Stok</label>\n            <input\n              v-model.number=\"newProduct.stock\"\n              type=\"number\"\n              min=\"0\"\n              class=\"w-full border rounded p-2\"\n              required\n            />\n          </div>\n\n          <div class=\"md:col-span-2\">\n            <button\n              type=\"submit\"\n              class=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\"\n            >\n              Simpan Produk\n            </button>\n          </div>\n        </form>\n      </section>\n\n      <!-- Daftar Produk -->\n      <section>\n        <h2 class=\"text-xl font-semibold mb-4\">Daftar Produk</h2>\n        <table class=\"w-full border-collapse border text-sm\">\n          <thead class=\"bg-gray-100\">\n            <tr>\n              <th class=\"border p-2 text-left\">Nama</th>\n              <th class=\"border p-2 text-left\">Kategori</th>\n              <th class=\"border p-2 text-right\">Harga</th>\n              <th class=\"border p-2 text-right\">Stok</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"prod in products\" :key=\"prod.id\">\n              <td class=\"border p-2\">{{ prod.name }}</td>\n              <td class=\"border p-2\">{{ prod.category?.name || '-' }}</td>\n              <td class=\"border p-2 text-right\">Rp {{ formatPrice(prod.price) }}</td>\n              <td class=\"border p-2 text-right\">{{ prod.stock }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </section>\n    </main>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"ProductCatalogKepalaGudang\",\n  data() {\n    return {\n      products: [],\n      categories: [],\n      newProduct: {\n        name: \"\",\n        price: null,\n        category_id: \"\",\n        stock: null,\n      },\n      api: axios.create({\n        baseURL: \"http://localhost:8081/api/v1\",\n        timeout: 10000,\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\") || \"\"}`,\n        },\n      }),\n    };\n  },\n  methods: {\n    async fetchProducts() {\n      try {\n        const res = await this.api.get(\"/owner/products\");\n        this.products = res.data.data || res.data; // fleksibel sesuai backend\n      } catch (err) {\n        console.error(\"Gagal ambil produk:\", err);\n      }\n    },\n    async fetchCategories() {\n      try {\n        const res = await this.api.get(\"/owner/categories\");\n        this.categories = res.data.data || res.data;\n      } catch (err) {\n        console.error(\"Gagal ambil kategori:\", err);\n      }\n    },\n    async addProduct() {\n      try {\n        await this.api.post(\"/owner/products\", this.newProduct);\n        this.newProduct = { name: \"\", price: null, category_id: \"\", stock: null };\n        await this.fetchProducts();\n      } catch (err) {\n        console.error(\"Gagal tambah produk:\", err);\n      }\n    },\n    formatPrice(value) {\n      return new Intl.NumberFormat(\"id-ID\").format(value);\n    },\n  },\n  mounted() {\n    this.fetchProducts();\n    this.fetchCategories();\n  },\n};\n</script>\n"],"mappings":"AAiGA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,4BAA4B;EAClCC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,UAAU,EAAE,EAAE;MACdC,UAAU,EAAE;QACVJ,IAAI,EAAE,EAAE;QACRK,KAAK,EAAE,IAAI;QACXC,WAAW,EAAE,EAAE;QACfC,KAAK,EAAE;MACT,CAAC;MACDC,GAAG,EAAET,KAAK,CAACU,MAAM,CAAC;QAChBC,OAAO,EAAE,8BAA8B;QACvCC,OAAO,EAAE,KAAK;QACdC,OAAO,EAAE;UACPC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,KAAK,EAAE;QAC9D;MACF,CAAC;IACH,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,aAAaA,CAAA,EAAG;MACpB,IAAI;QACF,MAAMC,GAAE,GAAI,MAAM,IAAI,CAACV,GAAG,CAACW,GAAG,CAAC,iBAAiB,CAAC;QACjD,IAAI,CAACjB,QAAO,GAAIgB,GAAG,CAACjB,IAAI,CAACA,IAAG,IAAKiB,GAAG,CAACjB,IAAI,EAAE;MAC7C,EAAE,OAAOmB,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,qBAAqB,EAAEF,GAAG,CAAC;MAC3C;IACF,CAAC;IACD,MAAMG,eAAeA,CAAA,EAAG;MACtB,IAAI;QACF,MAAML,GAAE,GAAI,MAAM,IAAI,CAACV,GAAG,CAACW,GAAG,CAAC,mBAAmB,CAAC;QACnD,IAAI,CAAChB,UAAS,GAAIe,GAAG,CAACjB,IAAI,CAACA,IAAG,IAAKiB,GAAG,CAACjB,IAAI;MAC7C,EAAE,OAAOmB,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAEF,GAAG,CAAC;MAC7C;IACF,CAAC;IACD,MAAMI,UAAUA,CAAA,EAAG;MACjB,IAAI;QACF,MAAM,IAAI,CAAChB,GAAG,CAACiB,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAACrB,UAAU,CAAC;QACvD,IAAI,CAACA,UAAS,GAAI;UAAEJ,IAAI,EAAE,EAAE;UAAEK,KAAK,EAAE,IAAI;UAAEC,WAAW,EAAE,EAAE;UAAEC,KAAK,EAAE;QAAK,CAAC;QACzE,MAAM,IAAI,CAACU,aAAa,CAAC,CAAC;MAC5B,EAAE,OAAOG,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,sBAAsB,EAAEF,GAAG,CAAC;MAC5C;IACF,CAAC;IACDM,WAAWA,CAACC,KAAK,EAAE;MACjB,OAAO,IAAIC,IAAI,CAACC,YAAY,CAAC,OAAO,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC;IACrD;EACF,CAAC;EACDI,OAAOA,CAAA,EAAG;IACR,IAAI,CAACd,aAAa,CAAC,CAAC;IACpB,IAAI,CAACM,eAAe,CAAC,CAAC;EACxB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}