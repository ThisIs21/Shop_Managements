{"ast":null,"code":"import { ref, onMounted } from 'vue';\nimport api from '@/services/api';\nexport default {\n  __name: 'MasterData',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const activeTab = ref('products');\n    const products = ref([]);\n    const search = ref('');\n    const fetchProducts = async () => {\n      try {\n        const q = search.value ? `?search=${encodeURIComponent(search.value)}` : '';\n        const res = await api.get(`/products${q}`);\n        products.value = res.data || [];\n      } catch (err) {\n        console.error('Failed fetch products', err);\n        products.value = [];\n      }\n    };\n    onMounted(() => {\n      fetchProducts();\n    });\n    const formatCurrency = v => {\n      if (v == null) return '-';\n      return new Intl.NumberFormat('id-ID', {\n        style: 'currency',\n        currency: 'IDR',\n        maximumFractionDigits: 0\n      }).format(Number(v));\n    };\n    const skuFor = p => {\n      // API model doesn't include SKU, generate one consistent with server reports\n      return `P-${p.id}`;\n    };\n    const tabClass = name => {\n      return activeTab.value === name ? 'py-3 border-b-2 border-emerald-500 text-emerald-700' : 'py-3 text-gray-600 hover:text-gray-800';\n    };\n    const __returned__ = {\n      activeTab,\n      products,\n      search,\n      fetchProducts,\n      formatCurrency,\n      skuFor,\n      tabClass,\n      ref,\n      onMounted,\n      get api() {\n        return api;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","api","activeTab","products","search","fetchProducts","q","value","encodeURIComponent","res","get","data","err","console","error","formatCurrency","v","Intl","NumberFormat","style","currency","maximumFractionDigits","format","Number","skuFor","p","id","tabClass","name"],"sources":["C:/Users/Personal/Documents/PKL/PKL Shop Managements/vue/src/views/owner/MasterData.vue"],"sourcesContent":["<template>\r\n  <div class=\"p-6 ml-72\"> <!-- leave space for sidebar -->\r\n    <div class=\"bg-white rounded-lg shadow-sm p-6\">\r\n      <div class=\"flex items-center justify-between mb-4\">\r\n        <div>\r\n          <h1 class=\"text-2xl font-bold\">Master Data Management</h1>\r\n          <p class=\"text-sm text-gray-500\">Kelola semua data master sistem Anda</p>\r\n        </div>\r\n        <div class=\"flex gap-3\">\r\n          <button class=\"px-4 py-2 rounded border text-sm text-gray-600 hover:bg-gray-50\">Export Data</button>\r\n          <router-link to=\"/add-product\" class=\"px-4 py-2 rounded bg-emerald-600 text-white text-sm\">Import Data</router-link>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"border-b mb-6\">\r\n        <nav class=\"flex gap-6 text-sm text-gray-600\">\r\n          <button @click=\"activeTab = 'users'\" :class=\"tabClass('users')\">Manage User</button>\r\n          <button @click=\"activeTab = 'products'\" :class=\"tabClass('products')\">Products</button>\r\n          <button @click=\"activeTab = 'categories'\" :class=\"tabClass('categories')\">Kategori</button>\r\n          <button @click=\"activeTab = 'suppliers'\" :class=\"tabClass('suppliers')\">Supplier</button>\r\n          <button @click=\"activeTab = 'units'\" :class=\"tabClass('units')\">Unit</button>\r\n          <button @click=\"activeTab = 'vouchers'\" :class=\"tabClass('vouchers')\">Voucher</button>\r\n        </nav>\r\n      </div>\r\n\r\n      <!-- PRODUCTS TAB -->\r\n      <div v-if=\"activeTab === 'products'\">\r\n        <div class=\"flex items-center justify-between mb-4\">\r\n          <input v-model=\"search\" @input=\"fetchProducts\" placeholder=\"Cari produk berdasarkan nama atau SKU...\" class=\"w-3/4 p-3 border rounded-lg\" />\r\n          <router-link to=\"/add-product\" class=\"px-4 py-2 rounded bg-emerald-600 text-white\">+ Tambah Produk</router-link>\r\n        </div>\r\n\r\n        <div class=\"overflow-auto\">\r\n          <table class=\"min-w-full bg-white rounded-lg\">\r\n            <thead>\r\n              <tr class=\"text-left text-gray-500 text-sm border-b\">\r\n                <th class=\"p-4\">ID</th>\r\n                <th class=\"p-4\">NAMA PRODUK</th>\r\n                <th class=\"p-4\">SKU</th>\r\n                <th class=\"p-4\">KATEGORI</th>\r\n                <th class=\"p-4\">HARGA</th>\r\n                <th class=\"p-4\">STOK</th>\r\n                <th class=\"p-4\">STATUS</th>\r\n                <th class=\"p-4\">AKSI</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"(p, idx) in products\" :key=\"p.id\" class=\"border-b hover:bg-gray-50\">\r\n                <td class=\"p-4 text-sm text-gray-600\">#{{ idx + 1 }}</td>\r\n                <td class=\"p-4 font-medium\">{{ p.name }}</td>\r\n                <td class=\"p-4 text-sm text-gray-500\">{{ skuFor(p) }}</td>\r\n                <td class=\"p-4 text-sm text-gray-500\">{{ p.category?.name || '-' }}</td>\r\n                <td class=\"p-4 text-sm text-gray-700\">{{ formatCurrency(p.sell_price || p.sellPrice) }}</td>\r\n                <td class=\"p-4 text-sm text-gray-500\">{{ p.stock }} Pcs</td>\r\n                <td class=\"p-4\">\r\n                  <span v-if=\"p.stock > 0\" class=\"px-3 py-1 rounded-full bg-emerald-100 text-emerald-700 text-xs\">Available</span>\r\n                  <span v-else class=\"px-3 py-1 rounded-full bg-rose-100 text-rose-700 text-xs\">Out of Stock</span>\r\n                </td>\r\n                <td class=\"p-4 text-sm text-gray-500\">\r\n                  <button class=\"mx-1 text-slate-600 hover:text-slate-800\">‚úèÔ∏è</button>\r\n                  <button class=\"mx-1 text-rose-600 hover:text-rose-800\">üóëÔ∏è</button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Placeholder for other tabs (minimal for now) -->\r\n      <div v-if=\"activeTab !== 'products'\" class=\"text-gray-600 p-4\">\r\n        <p>Tab <strong>{{ activeTab }}</strong> belum diisi. Saya bisa bantu implementasinya juga kalau Anda mau.</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport api from '@/services/api';\r\n\r\nconst activeTab = ref('products');\r\nconst products = ref([]);\r\nconst search = ref('');\r\n\r\nconst fetchProducts = async () => {\r\n  try {\r\n    const q = search.value ? `?search=${encodeURIComponent(search.value)}` : '';\r\n    const res = await api.get(`/products${q}`);\r\n    products.value = res.data || [];\r\n  } catch (err) {\r\n    console.error('Failed fetch products', err);\r\n    products.value = [];\r\n  }\r\n};\r\n\r\nonMounted(() => {\r\n  fetchProducts();\r\n});\r\n\r\nconst formatCurrency = (v) => {\r\n  if (v == null) return '-';\r\n  return new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', maximumFractionDigits: 0 }).format(Number(v));\r\n};\r\n\r\nconst skuFor = (p) => {\r\n  // API model doesn't include SKU, generate one consistent with server reports\r\n  return `P-${p.id}`;\r\n};\r\n\r\nconst tabClass = (name) => {\r\n  return activeTab.value === name ? 'py-3 border-b-2 border-emerald-500 text-emerald-700' : 'py-3 text-gray-600 hover:text-gray-800';\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* minimal scoped styles to keep layout neat */\r\n</style>\r\n"],"mappings":"AA6EA,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAK;AACpC,OAAOC,GAAG,MAAM,gBAAgB;;;;;;;IAEhC,MAAMC,SAAS,GAAGH,GAAG,CAAC,UAAU,CAAC;IACjC,MAAMI,QAAQ,GAAGJ,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMK,MAAM,GAAGL,GAAG,CAAC,EAAE,CAAC;IAEtB,MAAMM,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI;QACF,MAAMC,CAAC,GAAGF,MAAM,CAACG,KAAK,GAAG,WAAWC,kBAAkB,CAACJ,MAAM,CAACG,KAAK,CAAC,EAAE,GAAG,EAAE;QAC3E,MAAME,GAAG,GAAG,MAAMR,GAAG,CAACS,GAAG,CAAC,YAAYJ,CAAC,EAAE,CAAC;QAC1CH,QAAQ,CAACI,KAAK,GAAGE,GAAG,CAACE,IAAI,IAAI,EAAE;MACjC,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAEF,GAAG,CAAC;QAC3CT,QAAQ,CAACI,KAAK,GAAG,EAAE;MACrB;IACF,CAAC;IAEDP,SAAS,CAAC,MAAM;MACdK,aAAa,CAAC,CAAC;IACjB,CAAC,CAAC;IAEF,MAAMU,cAAc,GAAIC,CAAC,IAAK;MAC5B,IAAIA,CAAC,IAAI,IAAI,EAAE,OAAO,GAAG;MACzB,OAAO,IAAIC,IAAI,CAACC,YAAY,CAAC,OAAO,EAAE;QAAEC,KAAK,EAAE,UAAU;QAAEC,QAAQ,EAAE,KAAK;QAAEC,qBAAqB,EAAE;MAAE,CAAC,CAAC,CAACC,MAAM,CAACC,MAAM,CAACP,CAAC,CAAC,CAAC;IAC3H,CAAC;IAED,MAAMQ,MAAM,GAAIC,CAAC,IAAK;MACpB;MACA,OAAO,KAAKA,CAAC,CAACC,EAAE,EAAE;IACpB,CAAC;IAED,MAAMC,QAAQ,GAAIC,IAAI,IAAK;MACzB,OAAO1B,SAAS,CAACK,KAAK,KAAKqB,IAAI,GAAG,qDAAqD,GAAG,wCAAwC;IACpI,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}