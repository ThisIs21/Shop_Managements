{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"p-8\"\n};\nconst _hoisted_2 = {\n  class: \"flex flex-wrap items-center justify-between gap-3 p-4\"\n};\nconst _hoisted_3 = {\n  class: \"text-[#111418] tracking-light text-[32px] font-bold leading-tight min-w-72\"\n};\nconst _hoisted_4 = {\n  class: \"flex flex-col flex-wrap items-end gap-4 px-4 py-3\"\n};\nconst _hoisted_5 = {\n  class: \"flex flex-col min-w-40 flex-1 w-full\"\n};\nconst _hoisted_6 = {\n  class: \"flex justify-stretch\"\n};\nconst _hoisted_7 = {\n  class: \"flex flex-1 gap-3 flex-wrap px-4 py-3 justify-end\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createBlock($setup[\"OwnerLayouts\"], null, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"p\", _hoisted_3, _toDisplayString($setup.isEdit ? \"Edit Category\" : \"Add Category\"), 1 /* TEXT */), _createVNode(_component_router_link, {\n      to: \"/list-category\",\n      class: \"flex items-center gap-2 text-[#60758a] text-base font-normal leading-normal\"\n    }, {\n      default: _withCtx(() => [...(_cache[1] || (_cache[1] = [_createElementVNode(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: \"20px\",\n        height: \"20px\",\n        viewBox: \"0 0 24 24\",\n        fill: \"none\",\n        stroke: \"currentColor\",\n        \"stroke-width\": \"2\",\n        \"stroke-linecap\": \"round\",\n        \"stroke-linejoin\": \"round\"\n      }, [_createElementVNode(\"path\", {\n        d: \"M19 12H5\"\n      }), _createElementVNode(\"path\", {\n        d: \"M12 19L5 12L12 5\"\n      })], -1 /* CACHED */), _createElementVNode(\"span\", {\n        class: \"truncate\"\n      }, \"Kembali\", -1 /* CACHED */)]))]),\n      _: 1 /* STABLE */\n    })]), _createElementVNode(\"form\", {\n      onSubmit: _withModifiers($setup.handleSubmit, [\"prevent\"]),\n      class: \"flex flex-col w-[512px] max-w-[512px] py-5\"\n    }, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"label\", _hoisted_5, [_cache[2] || (_cache[2] = _createElementVNode(\"p\", {\n      class: \"text-[#111418] text-base font-medium leading-normal pb-2\"\n    }, \" Name \", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.category.name = $event),\n      placeholder: \"Enter category name\",\n      class: \"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-[#111418] focus:outline-0 focus:ring-0 border border-[#dbe0e6] bg-white focus:border-[#dbe0e6] h-14 placeholder:text-[#60758a] p-[15px] text-base font-normal leading-normal\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.category.name]])])]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createVNode(_component_router_link, {\n      to: \"/management-category\",\n      class: \"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-[#f0f2f5] text-[#111418] text-sm font-bold leading-normal tracking-[0.015em]\"\n    }, {\n      default: _withCtx(() => [...(_cache[3] || (_cache[3] = [_createElementVNode(\"span\", {\n        class: \"truncate\"\n      }, \"Cancel\", -1 /* CACHED */)]))]),\n      _: 1 /* STABLE */\n    }), _cache[4] || (_cache[4] = _createElementVNode(\"button\", {\n      type: \"submit\",\n      class: \"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-[#0d80f2] text-white text-sm font-bold leading-normal tracking-[0.015em]\"\n    }, [_createElementVNode(\"span\", {\n      class: \"truncate\"\n    }, \"Save\")], -1 /* CACHED */))])])], 32 /* NEED_HYDRATION */)])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createBlock","$setup","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_toDisplayString","isEdit","_createVNode","_component_router_link","to","_cache","xmlns","width","height","viewBox","fill","stroke","d","onSubmit","_withModifiers","handleSubmit","_hoisted_4","_hoisted_5","category","name","$event","placeholder","_hoisted_6","_hoisted_7","type"],"sources":["C:\\Users\\SPC STYLE 5\\aplikasi\\src\\views\\AddCategoryOwner.vue"],"sourcesContent":["<template>\n  <OwnerLayouts>\n    <div class=\"p-8\">\n      <div class=\"flex flex-wrap items-center justify-between gap-3 p-4\">\n        <p\n          class=\"text-[#111418] tracking-light text-[32px] font-bold leading-tight min-w-72\"\n        >\n          {{ isEdit ? \"Edit Category\" : \"Add Category\" }}\n        </p>\n        <router-link\n          to=\"/list-category\"\n          class=\"flex items-center gap-2 text-[#60758a] text-base font-normal leading-normal\"\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"20px\"\n            height=\"20px\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            stroke-width=\"2\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n          >\n            <path d=\"M19 12H5\"></path>\n            <path d=\"M12 19L5 12L12 5\"></path>\n          </svg>\n          <span class=\"truncate\">Kembali</span>\n        </router-link>\n      </div>\n\n      <form\n        @submit.prevent=\"handleSubmit\"\n        class=\"flex flex-col w-[512px] max-w-[512px] py-5\"\n      >\n        <div class=\"flex flex-col flex-wrap items-end gap-4 px-4 py-3\">\n          <label class=\"flex flex-col min-w-40 flex-1 w-full\">\n            <p class=\"text-[#111418] text-base font-medium leading-normal pb-2\">\n              Name\n            </p>\n            <input\n              v-model=\"category.name\"\n              placeholder=\"Enter category name\"\n              class=\"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-[#111418] focus:outline-0 focus:ring-0 border border-[#dbe0e6] bg-white focus:border-[#dbe0e6] h-14 placeholder:text-[#60758a] p-[15px] text-base font-normal leading-normal\"\n            />\n          </label>\n        </div>\n        <div class=\"flex justify-stretch\">\n          <div class=\"flex flex-1 gap-3 flex-wrap px-4 py-3 justify-end\">\n            <router-link\n              to=\"/management-category\"\n              class=\"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-[#f0f2f5] text-[#111418] text-sm font-bold leading-normal tracking-[0.015em]\"\n            >\n              <span class=\"truncate\">Cancel</span>\n            </router-link>\n            <button\n              type=\"submit\"\n              class=\"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-[#0d80f2] text-white text-sm font-bold leading-normal tracking-[0.015em]\"\n            >\n              <span class=\"truncate\">Save</span>\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  </OwnerLayouts>\n</template>\n\n<script setup>\nimport { ref, onMounted, computed } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport axios from \"axios\";\nimport OwnerLayouts from \"../components/OwnerLayouts.vue\";\n\nconst category = ref({\n  name: \"\",\n});\n\nconst route = useRoute();\nconst router = useRouter();\nconst isEdit = computed(() => route.params.id !== undefined);\n\nconst API_URL = \"http://192.168.100.111:8081/api/v1/categories\";\n\nconst fetchCategory = async (id) => {\n  try {\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      console.error(\"No JWT token found in localStorage.\");\n      return;\n    }\n    const response = await axios.get(`${API_URL}/${id}`, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    if (response.data && response.data.data) {\n      // API balikin field \"Name\"\n      category.value.name = response.data.data.Name;\n    }\n  } catch (error) {\n    console.error(\"Error fetching category:\", error);\n    alert(\"Failed to fetch category data.\");\n  }\n};\n\nconst handleSubmit = async () => {\n  try {\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      console.error(\"No JWT token found in localStorage.\");\n      return;\n    }\n\n    if (!category.value.name) {\n      alert(\"Please fill in the category name.\");\n      return;\n    }\n\n    if (isEdit.value) {\n      await axios.put(`${API_URL}/${route.params.id}`, category.value, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      alert(\"Category updated successfully.\");\n    } else {\n      await axios.post(API_URL, category.value, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      alert(\"Category created successfully.\");\n    }\n    router.push(\"/management-category\");\n  } catch (error) {\n    console.error(\"Error saving category:\", error);\n    alert(\"Failed to save category. Please check the console.\");\n  }\n};\n\nonMounted(() => {\n  if (isEdit.value) {\n    fetchCategory(route.params.id);\n  }\n});\n</script>\n"],"mappings":";;EAESA,KAAK,EAAC;AAAK;;EACTA,KAAK,EAAC;AAAuD;;EAE9DA,KAAK,EAAC;AAA4E;;EA8B/EA,KAAK,EAAC;AAAmD;;EACrDA,KAAK,EAAC;AAAsC;;EAWhDA,KAAK,EAAC;AAAsB;;EAC1BA,KAAK,EAAC;AAAmD;;;uBA/CtEC,YAAA,CAgEeC,MAAA;sBA/Db,MA8DM,CA9DNC,mBAAA,CA8DM,OA9DNC,UA8DM,GA7DJD,mBAAA,CA0BM,OA1BNE,UA0BM,GAzBJF,mBAAA,CAII,KAJJG,UAII,EAAAC,gBAAA,CADCL,MAAA,CAAAM,MAAM,qDAEXC,YAAA,CAmBcC,sBAAA;MAlBZC,EAAE,EAAC,gBAAgB;MACnBX,KAAK,EAAC;;wBAEN,MAaM,KAAAY,MAAA,QAAAA,MAAA,OAbNT,mBAAA,CAaM;QAZJU,KAAK,EAAC,4BAA4B;QAClCC,KAAK,EAAC,MAAM;QACZC,MAAM,EAAC,MAAM;QACbC,OAAO,EAAC,WAAW;QACnBC,IAAI,EAAC,MAAM;QACXC,MAAM,EAAC,cAAc;QACrB,cAAY,EAAC,GAAG;QAChB,gBAAc,EAAC,OAAO;QACtB,iBAAe,EAAC;UAEhBf,mBAAA,CAA0B;QAApBgB,CAAC,EAAC;MAAU,IAClBhB,mBAAA,CAAkC;QAA5BgB,CAAC,EAAC;MAAkB,G,oBAE5BhB,mBAAA,CAAqC;QAA/BH,KAAK,EAAC;MAAU,GAAC,SAAO,mB;;UAIlCG,mBAAA,CAgCO;MA/BJiB,QAAM,EAAAC,cAAA,CAAUnB,MAAA,CAAAoB,YAAY;MAC7BtB,KAAK,EAAC;QAENG,mBAAA,CAWM,OAXNoB,UAWM,GAVJpB,mBAAA,CASQ,SATRqB,UASQ,G,0BARNrB,mBAAA,CAEI;MAFDH,KAAK,EAAC;IAA0D,GAAC,QAEpE,qB,gBACAG,mBAAA,CAIE;iEAHSD,MAAA,CAAAuB,QAAQ,CAACC,IAAI,GAAAC,MAAA;MACtBC,WAAW,EAAC,qBAAqB;MACjC5B,KAAK,EAAC;mDAFGE,MAAA,CAAAuB,QAAQ,CAACC,IAAI,E,OAM5BvB,mBAAA,CAeM,OAfN0B,UAeM,GAdJ1B,mBAAA,CAaM,OAbN2B,UAaM,GAZJrB,YAAA,CAKcC,sBAAA;MAJZC,EAAE,EAAC,sBAAsB;MACzBX,KAAK,EAAC;;wBAEN,MAAoC,KAAAY,MAAA,QAAAA,MAAA,OAApCT,mBAAA,CAAoC;QAA9BH,KAAK,EAAC;MAAU,GAAC,QAAM,mB;;kCAE/BG,mBAAA,CAKS;MAJP4B,IAAI,EAAC,QAAQ;MACb/B,KAAK,EAAC;QAENG,mBAAA,CAAkC;MAA5BH,KAAK,EAAC;IAAU,GAAC,MAAI,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}