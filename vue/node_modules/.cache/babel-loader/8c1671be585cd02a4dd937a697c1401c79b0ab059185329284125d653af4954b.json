{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"p-8\"\n};\nconst _hoisted_2 = {\n  class: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8\"\n};\nconst _hoisted_3 = {\n  class: \"flex flex-col gap-2 rounded-lg p-6 border border-[#dbe0e6]\"\n};\nconst _hoisted_4 = {\n  class: \"text-[#111418] text-2xl font-bold leading-tight\"\n};\nconst _hoisted_5 = {\n  class: \"flex flex-col gap-2 rounded-lg p-6 border border-[#dbe0e6]\"\n};\nconst _hoisted_6 = {\n  class: \"text-[#111418] text-2xl font-bold leading-tight\"\n};\nconst _hoisted_7 = {\n  class: \"flex flex-col gap-2 rounded-lg p-6 border border-[#dbe0e6]\"\n};\nconst _hoisted_8 = {\n  class: \"text-[#111418] text-2xl font-bold leading-tight\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createBlock($setup[\"PurchasingLayouts\"], null, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_cache[3] || (_cache[3] = _createElementVNode(\"div\", {\n      class: \"mb-6\"\n    }, [_createElementVNode(\"h1\", {\n      class: \"text-[#111418] text-[32px] font-bold leading-tight tracking-[-0.015em]\"\n    }, \" Purchase Dashboard \"), _createElementVNode(\"p\", {\n      class: \"text-[#60758a] text-sm font-normal leading-normal mt-1\"\n    }, \" Welcome back, Sarah! Here's an overview of your purchase activities. \")], -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_cache[0] || (_cache[0] = _createElementVNode(\"p\", {\n      class: \"text-[#111418] text-base font-medium leading-normal\"\n    }, \" Purchase Orders to Process \", -1 /* CACHED */)), _createElementVNode(\"p\", _hoisted_4, _toDisplayString($setup.dashboardData.purchase_orders_to_process || 0), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_5, [_cache[1] || (_cache[1] = _createElementVNode(\"p\", {\n      class: \"text-[#111418] text-base font-medium leading-normal\"\n    }, \" Returns to Review \", -1 /* CACHED */)), _createElementVNode(\"p\", _hoisted_6, _toDisplayString($setup.dashboardData.returns_to_review || 0), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_7, [_cache[2] || (_cache[2] = _createElementVNode(\"p\", {\n      class: \"text-[#111418] text-base font-medium leading-normal\"\n    }, \" Products in Stock \", -1 /* CACHED */)), _createElementVNode(\"p\", _hoisted_8, _toDisplayString($setup.dashboardData.products_in_stock || 0), 1 /* TEXT */)])])])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createBlock","$setup","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","dashboardData","purchase_orders_to_process","_hoisted_5","_hoisted_6","returns_to_review","_hoisted_7","_hoisted_8","products_in_stock"],"sources":["C:\\Users\\Personal\\Documents\\PKL\\aplikasi\\aplikasi\\src\\views\\DashboardPembelian.vue"],"sourcesContent":["<template>\n  <PurchasingLayouts>\n    <div class=\"p-8\">\n      <div class=\"mb-6\">\n        <h1\n          class=\"text-[#111418] text-[32px] font-bold leading-tight tracking-[-0.015em]\"\n        >\n          Purchase Dashboard\n        </h1>\n        <p class=\"text-[#60758a] text-sm font-normal leading-normal mt-1\">\n          Welcome back, Sarah! Here's an overview of your purchase activities.\n        </p>\n      </div>\n\n      <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8\">\n        <div class=\"flex flex-col gap-2 rounded-lg p-6 border border-[#dbe0e6]\">\n          <p class=\"text-[#111418] text-base font-medium leading-normal\">\n            Purchase Orders to Process\n          </p>\n          <p class=\"text-[#111418] text-2xl font-bold leading-tight\">\n            {{ dashboardData.purchase_orders_to_process || 0 }}\n          </p>\n        </div>\n        <div class=\"flex flex-col gap-2 rounded-lg p-6 border border-[#dbe0e6]\">\n          <p class=\"text-[#111418] text-base font-medium leading-normal\">\n            Returns to Review\n          </p>\n          <p class=\"text-[#111418] text-2xl font-bold leading-tight\">\n            {{ dashboardData.returns_to_review || 0 }}\n          </p>\n        </div>\n        <div class=\"flex flex-col gap-2 rounded-lg p-6 border border-[#dbe0e6]\">\n          <p class=\"text-[#111418] text-base font-medium leading-normal\">\n            Products in Stock\n          </p>\n          <p class=\"text-[#111418] text-2xl font-bold leading-tight\">\n            {{ dashboardData.products_in_stock || 0 }}\n          </p>\n        </div>\n      </div>\n    </div>\n  </PurchasingLayouts>\n</template>\n\n<script setup>\nimport { ref, onMounted } from \"vue\";\nimport PurchasingLayouts from \"../components/PurchasingLayouts.vue\";\nimport axios from \"axios\";\n\n// State untuk menyimpan data dashboard\nconst dashboardData = ref({\n  purchase_orders_to_process: 0,\n  returns_to_review: 0,\n  products_in_stock: 0,\n});\n\n// Fungsi untuk mengambil data dari backend\nconst fetchDashboardData = async () => {\n  try {\n    // Ambil jumlah purchase orders dengan status SUBMITTED\n    const purchaseResponse = await axios.get(\"/api/v1/pembelian/purchases\", {\n      params: { status: \"SUBMITTED\", size: 1 }, // size=1 untuk mengurangi data\n      headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n    });\n    dashboardData.value.purchase_orders_to_process =\n      purchaseResponse.data.total || 0;\n\n    // Ambil jumlah purchase returns dengan status PENDING\n    const returnResponse = await axios.get(\n      \"/api/v1/pembelian/purchase-returns\",\n      {\n        params: { status: \"PENDING\", size: 1 }, // size=1 untuk mengurangi data\n        headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n      }\n    );\n    dashboardData.value.returns_to_review = returnResponse.data.total || 0;\n\n    // Ambil jumlah produk dengan stok > 0\n    const productResponse = await axios.get(\"/api/v1/products\", {\n      headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n    });\n    // Filter produk dengan stok > 0\n    const productsInStock = productResponse.data.filter(\n      (product) => product.stock > 0\n    );\n    dashboardData.value.products_in_stock = productsInStock.length;\n  } catch (error) {\n    console.error(\"Gagal mengambil data dashboard:\", error);\n  }\n};\n\n// Panggil fungsi saat komponen dimuat\nonMounted(fetchDashboardData);\n</script>\n"],"mappings":";;EAESA,KAAK,EAAC;AAAK;;EAYTA,KAAK,EAAC;AAA4C;;EAChDA,KAAK,EAAC;AAA4D;;EAIlEA,KAAK,EAAC;AAAiD;;EAIvDA,KAAK,EAAC;AAA4D;;EAIlEA,KAAK,EAAC;AAAiD;;EAIvDA,KAAK,EAAC;AAA4D;;EAIlEA,KAAK,EAAC;AAAiD;;uBAlClEC,YAAA,CAwCoBC,MAAA;sBAvClB,MAsCM,CAtCNC,mBAAA,CAsCM,OAtCNC,UAsCM,G,0BArCJD,mBAAA,CASM;MATDH,KAAK,EAAC;IAAM,IACfG,mBAAA,CAIK;MAHHH,KAAK,EAAC;IAAwE,GAC/E,sBAED,GACAG,mBAAA,CAEI;MAFDH,KAAK,EAAC;IAAwD,GAAC,wEAElE,E,qBAGFG,mBAAA,CAyBM,OAzBNE,UAyBM,GAxBJF,mBAAA,CAOM,OAPNG,UAOM,G,0BANJH,mBAAA,CAEI;MAFDH,KAAK,EAAC;IAAqD,GAAC,8BAE/D,qBACAG,mBAAA,CAEI,KAFJI,UAEI,EAAAC,gBAAA,CADCN,MAAA,CAAAO,aAAa,CAACC,0BAA0B,sB,GAG/CP,mBAAA,CAOM,OAPNQ,UAOM,G,0BANJR,mBAAA,CAEI;MAFDH,KAAK,EAAC;IAAqD,GAAC,qBAE/D,qBACAG,mBAAA,CAEI,KAFJS,UAEI,EAAAJ,gBAAA,CADCN,MAAA,CAAAO,aAAa,CAACI,iBAAiB,sB,GAGtCV,mBAAA,CAOM,OAPNW,UAOM,G,0BANJX,mBAAA,CAEI;MAFDH,KAAK,EAAC;IAAqD,GAAC,qBAE/D,qBACAG,mBAAA,CAEI,KAFJY,UAEI,EAAAP,gBAAA,CADCN,MAAA,CAAAO,aAAa,CAACO,iBAAiB,sB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}