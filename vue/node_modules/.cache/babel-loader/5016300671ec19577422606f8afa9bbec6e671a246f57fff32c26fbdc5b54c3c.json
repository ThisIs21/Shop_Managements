{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"relative flex size-full min-h-screen flex-col bg-white overflow-x-hidden\"\n};\nconst _hoisted_2 = {\n  class: \"flex-1 p-6\"\n};\nconst _hoisted_3 = {\n  class: \"mb-8\"\n};\nconst _hoisted_4 = [\"value\"];\nconst _hoisted_5 = {\n  class: \"w-full border-collapse border text-sm\"\n};\nconst _hoisted_6 = {\n  class: \"border p-2\"\n};\nconst _hoisted_7 = {\n  class: \"border p-2\"\n};\nconst _hoisted_8 = {\n  class: \"border p-2 text-right\"\n};\nconst _hoisted_9 = {\n  class: \"border p-2 text-right\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Header \"), _cache[14] || (_cache[14] = _createElementVNode(\"header\", {\n    class: \"flex items-center justify-between p-4 shadow\"\n  }, [_createElementVNode(\"h1\", {\n    class: \"text-2xl font-bold\"\n  }, \"Product Catalog - Kepala Gudang\")], -1 /* CACHED */)), _createElementVNode(\"main\", _hoisted_2, [_createCommentVNode(\" Form Tambah Produk \"), _createElementVNode(\"section\", _hoisted_3, [_cache[11] || (_cache[11] = _createElementVNode(\"h2\", {\n    class: \"text-xl font-semibold mb-4\"\n  }, \"Tambah Produk\", -1 /* CACHED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[4] || (_cache[4] = _withModifiers((...args) => $options.addProduct && $options.addProduct(...args), [\"prevent\"])),\n    class: \"grid grid-cols-1 md:grid-cols-2 gap-4\"\n  }, [_createElementVNode(\"div\", null, [_cache[5] || (_cache[5] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium mb-1\"\n  }, \"Nama Produk\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.newProduct.name = $event),\n    type: \"text\",\n    class: \"w-full border rounded p-2\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newProduct.name]])]), _createElementVNode(\"div\", null, [_cache[6] || (_cache[6] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium mb-1\"\n  }, \"Harga\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.newProduct.price = $event),\n    type: \"number\",\n    class: \"w-full border rounded p-2\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newProduct.price, void 0, {\n    number: true\n  }]])]), _createElementVNode(\"div\", null, [_cache[8] || (_cache[8] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium mb-1\"\n  }, \"Kategori\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.newProduct.category_id = $event),\n    class: \"w-full border rounded p-2\",\n    required: \"\"\n  }, [_cache[7] || (_cache[7] = _createElementVNode(\"option\", {\n    value: \"\",\n    disabled: \"\"\n  }, \"Pilih Kategori\", -1 /* CACHED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.categories, cat => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: cat.id,\n      value: cat.id\n    }, _toDisplayString(cat.name), 9 /* TEXT, PROPS */, _hoisted_4);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.newProduct.category_id]])]), _createElementVNode(\"div\", null, [_cache[9] || (_cache[9] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium mb-1\"\n  }, \"Stok\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.newProduct.stock = $event),\n    type: \"number\",\n    min: \"0\",\n    class: \"w-full border rounded p-2\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newProduct.stock, void 0, {\n    number: true\n  }]])]), _cache[10] || (_cache[10] = _createElementVNode(\"div\", {\n    class: \"md:col-span-2\"\n  }, [_createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\"\n  }, \" Simpan Produk \")], -1 /* CACHED */))], 32 /* NEED_HYDRATION */)]), _createCommentVNode(\" Daftar Produk \"), _createElementVNode(\"section\", null, [_cache[13] || (_cache[13] = _createElementVNode(\"h2\", {\n    class: \"text-xl font-semibold mb-4\"\n  }, \"Daftar Produk\", -1 /* CACHED */)), _createElementVNode(\"table\", _hoisted_5, [_cache[12] || (_cache[12] = _createElementVNode(\"thead\", {\n    class: \"bg-gray-100\"\n  }, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n    class: \"border p-2 text-left\"\n  }, \"Nama\"), _createElementVNode(\"th\", {\n    class: \"border p-2 text-left\"\n  }, \"Kategori\"), _createElementVNode(\"th\", {\n    class: \"border p-2 text-right\"\n  }, \"Harga\"), _createElementVNode(\"th\", {\n    class: \"border p-2 text-right\"\n  }, \"Stok\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.products, prod => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: prod.id\n    }, [_createElementVNode(\"td\", _hoisted_6, _toDisplayString(prod.name), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_7, _toDisplayString(prod.category?.name || '-'), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_8, \"Rp \" + _toDisplayString($options.formatPrice(prod.price)), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_9, _toDisplayString(prod.stock), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","onSubmit","_cache","_withModifiers","args","$options","addProduct","$data","newProduct","name","$event","type","required","price","number","category_id","value","disabled","_Fragment","_renderList","categories","cat","key","id","_hoisted_4","stock","min","_hoisted_5","products","prod","_hoisted_6","_toDisplayString","_hoisted_7","category","_hoisted_8","formatPrice","_hoisted_9"],"sources":["C:\\Users\\Personal\\Documents\\PKL\\aplikasi\\aplikasi\\src\\views\\ProductCatalogKepalaGudang.vue"],"sourcesContent":["<template>\n  <div\n    class=\"relative flex size-full min-h-screen flex-col bg-white overflow-x-hidden\"\n  >\n    <!-- Header -->\n    <header class=\"flex items-center justify-between p-4 shadow\">\n      <h1 class=\"text-2xl font-bold\">Product Catalog - Kepala Gudang</h1>\n    </header>\n\n    <main class=\"flex-1 p-6\">\n      <!-- Form Tambah Produk -->\n      <section class=\"mb-8\">\n        <h2 class=\"text-xl font-semibold mb-4\">Tambah Produk</h2>\n        <form @submit.prevent=\"addProduct\" class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div>\n            <label class=\"block text-sm font-medium mb-1\">Nama Produk</label>\n            <input\n              v-model=\"newProduct.name\"\n              type=\"text\"\n              class=\"w-full border rounded p-2\"\n              required\n            />\n          </div>\n\n          <div>\n            <label class=\"block text-sm font-medium mb-1\">Harga</label>\n            <input\n              v-model.number=\"newProduct.price\"\n              type=\"number\"\n              class=\"w-full border rounded p-2\"\n              required\n            />\n          </div>\n\n          <div>\n            <label class=\"block text-sm font-medium mb-1\">Kategori</label>\n            <select\n              v-model=\"newProduct.category_id\"\n              class=\"w-full border rounded p-2\"\n              required\n            >\n              <option value=\"\" disabled>Pilih Kategori</option>\n              <option v-for=\"cat in categories\" :key=\"cat.id\" :value=\"cat.id\">\n                {{ cat.name }}\n              </option>\n            </select>\n          </div>\n\n          <div>\n            <label class=\"block text-sm font-medium mb-1\">Stok</label>\n            <input\n              v-model.number=\"newProduct.stock\"\n              type=\"number\"\n              min=\"0\"\n              class=\"w-full border rounded p-2\"\n              required\n            />\n          </div>\n\n          <div class=\"md:col-span-2\">\n            <button\n              type=\"submit\"\n              class=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\"\n            >\n              Simpan Produk\n            </button>\n          </div>\n        </form>\n      </section>\n\n      <!-- Daftar Produk -->\n      <section>\n        <h2 class=\"text-xl font-semibold mb-4\">Daftar Produk</h2>\n        <table class=\"w-full border-collapse border text-sm\">\n          <thead class=\"bg-gray-100\">\n            <tr>\n              <th class=\"border p-2 text-left\">Nama</th>\n              <th class=\"border p-2 text-left\">Kategori</th>\n              <th class=\"border p-2 text-right\">Harga</th>\n              <th class=\"border p-2 text-right\">Stok</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"prod in products\" :key=\"prod.id\">\n              <td class=\"border p-2\">{{ prod.name }}</td>\n              <td class=\"border p-2\">{{ prod.category?.name || '-' }}</td>\n              <td class=\"border p-2 text-right\">Rp {{ formatPrice(prod.price) }}</td>\n              <td class=\"border p-2 text-right\">{{ prod.stock }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </section>\n    </main>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"ProductCatalogKepalaGudang\",\n  data() {\n    return {\n      products: [],\n      categories: [],\n      newProduct: {\n        name: \"\",\n        price: null,\n        category_id: \"\",\n        stock: null,\n      },\n      api: axios.create({\n        baseURL: \"http://localhost:8081/api/v1\",\n        timeout: 10000,\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\") || \"\"}`,\n        },\n      }),\n    };\n  },\n  methods: {\n    async fetchProducts() {\n      try {\n        const res = await this.api.get(\"/owner/products\");\n        this.products = res.data.data || res.data; // fleksibel sesuai backend\n      } catch (err) {\n        console.error(\"Gagal ambil produk:\", err);\n      }\n    },\n    async fetchCategories() {\n      try {\n        const res = await this.api.get(\"/owner/categories\");\n        this.categories = res.data.data || res.data;\n      } catch (err) {\n        console.error(\"Gagal ambil kategori:\", err);\n      }\n    },\n    async addProduct() {\n      try {\n        await this.api.post(\"/owner/products\", this.newProduct);\n        this.newProduct = { name: \"\", price: null, category_id: \"\", stock: null };\n        await this.fetchProducts();\n      } catch (err) {\n        console.error(\"Gagal tambah produk:\", err);\n      }\n    },\n    formatPrice(value) {\n      return new Intl.NumberFormat(\"id-ID\").format(value);\n    },\n  },\n  mounted() {\n    this.fetchProducts();\n    this.fetchCategories();\n  },\n};\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}