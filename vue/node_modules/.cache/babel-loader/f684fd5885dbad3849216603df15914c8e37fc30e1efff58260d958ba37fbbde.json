{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"flex flex-1 flex-col py-5 p-8\"\n};\nconst _hoisted_2 = {\n  class: \"layout-content-container flex flex-col flex-1\"\n};\nconst _hoisted_3 = {\n  class: \"flex flex-col gap-4 p-4\"\n};\nconst _hoisted_4 = [\"value\"];\nconst _hoisted_5 = [\"value\"];\nconst _hoisted_6 = [\"value\"];\nconst _hoisted_7 = {\n  class: \"flex justify-end p-4 gap-3\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createBlock($setup[\"OwnerLayouts\"], null, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"form\", {\n      onSubmit: _withModifiers($setup.createProduct, [\"prevent\"]),\n      class: \"flex flex-col flex-1\"\n    }, [_createCommentVNode(\" Header \"), _cache[21] || (_cache[21] = _createElementVNode(\"div\", {\n      class: \"flex flex-wrap justify-between gap-3 p-4\"\n    }, [_createElementVNode(\"div\", {\n      class: \"flex flex-col gap-3\"\n    }, [_createElementVNode(\"p\", {\n      class: \"text-[#111418] tracking-light text-[32px] font-bold leading-tight\"\n    }, \" Add Product \")])], -1 /* CACHED */)), _createCommentVNode(\" Form Inputs \"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", null, [_cache[8] || (_cache[8] = _createElementVNode(\"label\", null, \"Product Name\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.product.name = $event),\n      class: \"w-full border p-2 rounded\",\n      required: \"\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.product.name]])]), _createElementVNode(\"div\", null, [_cache[9] || (_cache[9] = _createElementVNode(\"label\", null, \"Product Code\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.product.code = $event),\n      class: \"w-full border p-2 rounded\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.product.code]])]), _createElementVNode(\"div\", null, [_cache[10] || (_cache[10] = _createElementVNode(\"label\", null, \"Purchase Price\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n      type: \"number\",\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.product.cost_price = $event),\n      class: \"w-full border p-2 rounded\",\n      required: \"\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.product.cost_price, void 0, {\n      number: true\n    }]])]), _createElementVNode(\"div\", null, [_cache[11] || (_cache[11] = _createElementVNode(\"label\", null, \"Selling Price\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n      type: \"number\",\n      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.product.sell_price = $event),\n      class: \"w-full border p-2 rounded\",\n      required: \"\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.product.sell_price, void 0, {\n      number: true\n    }]])]), _createElementVNode(\"div\", null, [_cache[12] || (_cache[12] = _createElementVNode(\"label\", null, \"Stock\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n      type: \"number\",\n      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.product.stock = $event),\n      class: \"w-full border p-2 rounded\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.product.stock, void 0, {\n      number: true\n    }]])]), _createCommentVNode(\" Dropdowns \"), _createElementVNode(\"div\", null, [_cache[14] || (_cache[14] = _createElementVNode(\"label\", null, \"Category\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"select\", {\n      \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.product.category_id = $event),\n      class: \"w-full border p-2 rounded\",\n      required: \"\"\n    }, [_cache[13] || (_cache[13] = _createElementVNode(\"option\", {\n      disabled: \"\",\n      value: \"\"\n    }, \"Select category\", -1 /* CACHED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.categories, cat => {\n      return _openBlock(), _createElementBlock(\"option\", {\n        key: cat.id,\n        value: cat.id\n      }, _toDisplayString(cat.name), 9 /* TEXT, PROPS */, _hoisted_4);\n    }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $setup.product.category_id, void 0, {\n      number: true\n    }]])]), _createElementVNode(\"div\", null, [_cache[16] || (_cache[16] = _createElementVNode(\"label\", null, \"Unit\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"select\", {\n      \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $setup.product.unit_id = $event),\n      class: \"w-full border p-2 rounded\",\n      required: \"\"\n    }, [_cache[15] || (_cache[15] = _createElementVNode(\"option\", {\n      disabled: \"\",\n      value: \"\"\n    }, \"Select unit\", -1 /* CACHED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.units, unit => {\n      return _openBlock(), _createElementBlock(\"option\", {\n        key: unit.id,\n        value: unit.id\n      }, _toDisplayString(unit.name), 9 /* TEXT, PROPS */, _hoisted_5);\n    }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $setup.product.unit_id, void 0, {\n      number: true\n    }]])]), _createElementVNode(\"div\", null, [_cache[18] || (_cache[18] = _createElementVNode(\"label\", null, \"Supplier\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"select\", {\n      \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $setup.product.supplier_id = $event),\n      class: \"w-full border p-2 rounded\",\n      required: \"\"\n    }, [_cache[17] || (_cache[17] = _createElementVNode(\"option\", {\n      disabled: \"\",\n      value: \"\"\n    }, \"Select supplier\", -1 /* CACHED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.suppliers, sup => {\n      return _openBlock(), _createElementBlock(\"option\", {\n        key: sup.id,\n        value: sup.id\n      }, _toDisplayString(sup.name), 9 /* TEXT, PROPS */, _hoisted_6);\n    }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $setup.product.supplier_id, void 0, {\n      number: true\n    }]])])]), _createCommentVNode(\" Buttons \"), _createElementVNode(\"div\", _hoisted_7, [_createVNode(_component_router_link, {\n      to: \"/management-product\"\n    }, {\n      default: _withCtx(() => [...(_cache[19] || (_cache[19] = [_createElementVNode(\"button\", {\n        type: \"button\",\n        class: \"bg-gray-300 px-4 py-2 rounded\"\n      }, \" Cancel \", -1 /* CACHED */)]))]),\n      _: 1 /* STABLE */\n    }), _cache[20] || (_cache[20] = _createElementVNode(\"button\", {\n      type: \"submit\",\n      class: \"bg-blue-500 text-white px-4 py-2 rounded\"\n    }, \" Save \", -1 /* CACHED */))])], 32 /* NEED_HYDRATION */)])])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createBlock","$setup","_createElementVNode","_hoisted_1","_hoisted_2","onSubmit","_withModifiers","createProduct","_createCommentVNode","_hoisted_3","type","product","name","$event","required","code","cost_price","number","sell_price","stock","category_id","disabled","value","_createElementBlock","_Fragment","_renderList","categories","cat","key","id","_hoisted_4","unit_id","units","unit","_hoisted_5","supplier_id","suppliers","sup","_hoisted_6","_hoisted_7","_createVNode","_component_router_link","to","_cache"],"sources":["C:\\Users\\SPC STYLE 5\\aplikasi\\src\\views\\AddProductOwner.vue"],"sourcesContent":["<template>\n  <OwnerLayouts>\n    <div class=\"flex flex-1 flex-col py-5 p-8\">\n      <div class=\"layout-content-container flex flex-col flex-1\">\n        <form @submit.prevent=\"createProduct\" class=\"flex flex-col flex-1\">\n          <!-- Header -->\n          <div class=\"flex flex-wrap justify-between gap-3 p-4\">\n            <div class=\"flex flex-col gap-3\">\n              <p\n                class=\"text-[#111418] tracking-light text-[32px] font-bold leading-tight\"\n              >\n                Add Product\n              </p>\n            </div>\n          </div>\n\n          <!-- Form Inputs -->\n          <div class=\"flex flex-col gap-4 p-4\">\n            <div>\n              <label>Product Name</label>\n              <input\n                type=\"text\"\n                v-model=\"product.name\"\n                class=\"w-full border p-2 rounded\"\n                required\n              />\n            </div>\n\n            <div>\n              <label>Product Code</label>\n              <input\n                type=\"text\"\n                v-model=\"product.code\"\n                class=\"w-full border p-2 rounded\"\n              />\n            </div>\n\n           \n\n            <div>\n              <label>Purchase Price</label>\n              <input\n                type=\"number\"\n                v-model.number=\"product.cost_price\"\n                class=\"w-full border p-2 rounded\"\n                required\n              />\n            </div>\n\n            <div>\n              <label>Selling Price</label>\n              <input\n                type=\"number\"\n                v-model.number=\"product.sell_price\"\n                class=\"w-full border p-2 rounded\"\n                required\n              />\n            </div>\n\n            <div>\n              <label>Stock</label>\n              <input\n                type=\"number\"\n                v-model.number=\"product.stock\"\n                class=\"w-full border p-2 rounded\"\n              />\n            </div>\n\n            <!-- Dropdowns -->\n            <div>\n              <label>Category</label>\n              <select\n                v-model.number=\"product.category_id\"\n                class=\"w-full border p-2 rounded\"\n                required\n              >\n                <option disabled value=\"\">Select category</option>\n                <option v-for=\"cat in categories\" :key=\"cat.id\" :value=\"cat.id\">\n                  {{ cat.name }}\n                </option>\n              </select>\n            </div>\n\n            <div>\n              <label>Unit</label>\n              <select\n                v-model.number=\"product.unit_id\"\n                class=\"w-full border p-2 rounded\"\n                required\n              >\n                <option disabled value=\"\">Select unit</option>\n                <option v-for=\"unit in units\" :key=\"unit.id\" :value=\"unit.id\">\n                  {{ unit.name }}\n                </option>\n              </select>\n            </div>\n\n            <div>\n              <label>Supplier</label>\n              <select\n                v-model.number=\"product.supplier_id\"\n                class=\"w-full border p-2 rounded\"\n                required\n              >\n                <option disabled value=\"\">Select supplier</option>\n                <option v-for=\"sup in suppliers\" :key=\"sup.id\" :value=\"sup.id\">\n                  {{ sup.name }}\n                </option>\n              </select>\n            </div>\n          </div>\n\n          <!-- Buttons -->\n          <div class=\"flex justify-end p-4 gap-3\">\n            <router-link to=\"/management-product\">\n              <button type=\"button\" class=\"bg-gray-300 px-4 py-2 rounded\">\n                Cancel\n              </button>\n            </router-link>\n            <button\n              type=\"submit\"\n              class=\"bg-blue-500 text-white px-4 py-2 rounded\"\n            >\n              Save\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </OwnerLayouts>\n</template>\n\n<script setup>\nimport { ref, onMounted } from \"vue\";\nimport OwnerLayouts from \"../components/OwnerLayouts.vue\";\nimport axios from \"axios\";\nimport { useRouter } from \"vue-router\";\n\nconst router = useRouter();\n\nconst product = ref({\n  name: \"\",\n  code: \"\",\n  description: \"\",\n  cost_price: null,\n  sell_price: null,\n  stock: 0,\n  category_id: null,\n  unit_id: null,\n  supplier_id: null,\n});\n\nconst categories = ref([]);\nconst units = ref([]);\nconst suppliers = ref([]);\n\nconst fetchData = async () => {\n  const token = localStorage.getItem(\"token\");\n  if (!token) return;\n\n  try {\n    const [catRes, unitRes, supRes] = await Promise.all([\n      axios.get(\"http://192.168.100.111:8081/api/v1/categories\", {\n        headers: { Authorization: `Bearer ${token}` },\n      }),\n      axios.get(\"http://192.168.100.111:8081/api/v1/units\", {\n        headers: { Authorization: `Bearer ${token}` },\n      }),\n      axios.get(\"http://192.168.100.111:8081/api/v1/suppliers\", {\n        headers: { Authorization: `Bearer ${token}` },\n      }),\n    ]);\n\n    categories.value = catRes.data.data.map((c) => ({\n      id: c.ID,\n      name: c.Name,\n    }));\n    units.value = unitRes.data.data.map((u) => ({ id: u.ID, name: u.Name }));\n    suppliers.value = supRes.data.data.map((s) => ({ id: s.ID, name: s.Name }));\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nconst createProduct = async () => {\n  const token = localStorage.getItem(\"token\");\n  if (!token) return alert(\"Please login\");\n\n  try {\n    await axios.post(\n      \"http://192.168.100.111:8081/api/v1/products\",\n      product.value,\n      {\n        headers: { Authorization: `Bearer ${token}` },\n      }\n    );\n    alert(\"Product added\");\n    router.push(\"/management-product\");\n  } catch (err) {\n    console.error(err);\n    alert(\"Failed to add product\");\n  }\n};\n\nonMounted(() => fetchData());\n</script>\n\n<style scoped>\n/* Opsional styling */\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}