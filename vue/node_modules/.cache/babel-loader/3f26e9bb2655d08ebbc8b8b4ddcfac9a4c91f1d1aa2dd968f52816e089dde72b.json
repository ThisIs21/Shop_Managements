{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, vModelSelect as _vModelSelect, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"p-6\"\n};\nconst _hoisted_2 = {\n  class: \"bg-gray-900 p-4 rounded-lg shadow mb-6\"\n};\nconst _hoisted_3 = {\n  class: \"flex space-x-3 mb-6\"\n};\nconst _hoisted_4 = {\n  class: \"bg-gray-900 p-4 rounded-lg shadow\"\n};\nconst _hoisted_5 = {\n  class: \"w-full text-left border-collapse\"\n};\nconst _hoisted_6 = {\n  class: \"p-2\"\n};\nconst _hoisted_7 = {\n  class: \"p-2\"\n};\nconst _hoisted_8 = {\n  class: \"p-2\"\n};\nconst _hoisted_9 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[11] || (_cache[11] = _createElementVNode(\"h1\", {\n    class: \"text-2xl font-bold mb-4\"\n  }, \"Sales Summary Report\", -1 /* CACHED */)), _cache[12] || (_cache[12] = _createElementVNode(\"p\", {\n    class: \"text-gray-400 mb-6\"\n  }, \" Overview of sales performance across different periods. \", -1 /* CACHED */)), _createCommentVNode(\" Filters \"), _createElementVNode(\"div\", _hoisted_2, [_cache[7] || (_cache[7] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium mb-2\"\n  }, \"Filters\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.selectedBy = $event),\n    onChange: $setup.fetchReport,\n    class: \"p-2 rounded bg-gray-800 text-white border border-gray-700\"\n  }, [_createCommentVNode(\" Monthly \"), _cache[3] || (_cache[3] = _createStaticVNode(\"<option value=\\\"month:1\\\">January</option><option value=\\\"month:2\\\">February</option><option value=\\\"month:3\\\">March</option><option value=\\\"month:4\\\">April</option><option value=\\\"month:5\\\">May</option><option value=\\\"month:6\\\">June</option><option value=\\\"month:7\\\">July</option><option value=\\\"month:8\\\">August</option><option value=\\\"month:9\\\">September</option><option value=\\\"month:10\\\">October</option><option value=\\\"month:11\\\">November</option><option value=\\\"month:12\\\">December</option>\", 12)), _createCommentVNode(\" Yearly \"), _cache[4] || (_cache[4] = _createElementVNode(\"option\", {\n    value: \"year:2023\"\n  }, \"Year 2023\", -1 /* CACHED */)), _cache[5] || (_cache[5] = _createElementVNode(\"option\", {\n    value: \"year:2024\"\n  }, \"Year 2024\", -1 /* CACHED */)), _cache[6] || (_cache[6] = _createElementVNode(\"option\", {\n    value: \"year:2025\"\n  }, \"Year 2025\", -1 /* CACHED */))], 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelSelect, $setup.selectedBy]])]), _createCommentVNode(\" Export buttons \"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = $event => $setup.exportReport('csv')),\n    class: \"px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 text-white\"\n  }, \" Export to CSV \"), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = $event => $setup.exportReport('pdf')),\n    class: \"px-4 py-2 rounded bg-red-600 hover:bg-red-700 text-white\"\n  }, \" Export to PDF \")]), _createCommentVNode(\" Sales Data Table \"), _createElementVNode(\"div\", _hoisted_4, [_cache[10] || (_cache[10] = _createElementVNode(\"h2\", {\n    class: \"text-lg font-semibold mb-3\"\n  }, \"Sales Data\", -1 /* CACHED */)), _createElementVNode(\"table\", _hoisted_5, [_cache[9] || (_cache[9] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", {\n    class: \"border-b border-gray-700\"\n  }, [_createElementVNode(\"th\", {\n    class: \"p-2\"\n  }, \"Period\"), _createElementVNode(\"th\", {\n    class: \"p-2\"\n  }, \"Transactions\"), _createElementVNode(\"th\", {\n    class: \"p-2\"\n  }, \"Total Sales\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.reportData, (item, idx) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: idx,\n      class: \"border-b border-gray-800\"\n    }, [_createElementVNode(\"td\", _hoisted_6, _toDisplayString(item.period), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_7, _toDisplayString(item.transactions), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_8, \"Rp \" + _toDisplayString($setup.formatNumber(item.total_sales)), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */)), $setup.reportData.length === 0 ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_9, [...(_cache[8] || (_cache[8] = [_createElementVNode(\"td\", {\n    colspan: \"3\",\n    class: \"text-center p-4 text-gray-400\"\n  }, \" No data available \", -1 /* CACHED */)]))])) : _createCommentVNode(\"v-if\", true)])])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_createCommentVNode","_hoisted_2","$setup","selectedBy","$event","onChange","fetchReport","value","_hoisted_3","onClick","_cache","exportReport","_hoisted_4","_hoisted_5","_Fragment","_renderList","reportData","item","idx","key","_hoisted_6","_toDisplayString","period","_hoisted_7","transactions","_hoisted_8","formatNumber","total_sales","length","_hoisted_9","colspan"],"sources":["C:\\Users\\Personal\\Documents\\PKL\\aplikasi\\aplikasi\\src\\views\\SalesSummaryReportOwners.vue"],"sourcesContent":["<template>\n  <div class=\"p-6\">\n    <h1 class=\"text-2xl font-bold mb-4\">Sales Summary Report</h1>\n    <p class=\"text-gray-400 mb-6\">\n      Overview of sales performance across different periods.\n    </p>\n\n    <!-- Filters -->\n    <div class=\"bg-gray-900 p-4 rounded-lg shadow mb-6\">\n      <label class=\"block text-sm font-medium mb-2\">Filters</label>\n      <select\n        v-model=\"selectedBy\"\n        @change=\"fetchReport\"\n        class=\"p-2 rounded bg-gray-800 text-white border border-gray-700\"\n      >\n        <!-- Monthly -->\n        <option value=\"month:1\">January</option>\n        <option value=\"month:2\">February</option>\n        <option value=\"month:3\">March</option>\n        <option value=\"month:4\">April</option>\n        <option value=\"month:5\">May</option>\n        <option value=\"month:6\">June</option>\n        <option value=\"month:7\">July</option>\n        <option value=\"month:8\">August</option>\n        <option value=\"month:9\">September</option>\n        <option value=\"month:10\">October</option>\n        <option value=\"month:11\">November</option>\n        <option value=\"month:12\">December</option>\n\n        <!-- Yearly -->\n        <option value=\"year:2023\">Year 2023</option>\n        <option value=\"year:2024\">Year 2024</option>\n        <option value=\"year:2025\">Year 2025</option>\n      </select>\n    </div>\n\n    <!-- Export buttons -->\n    <div class=\"flex space-x-3 mb-6\">\n      <button\n        @click=\"exportReport('csv')\"\n        class=\"px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 text-white\"\n      >\n        Export to CSV\n      </button>\n      <button\n        @click=\"exportReport('pdf')\"\n        class=\"px-4 py-2 rounded bg-red-600 hover:bg-red-700 text-white\"\n      >\n        Export to PDF\n      </button>\n    </div>\n\n    <!-- Sales Data Table -->\n    <div class=\"bg-gray-900 p-4 rounded-lg shadow\">\n      <h2 class=\"text-lg font-semibold mb-3\">Sales Data</h2>\n      <table class=\"w-full text-left border-collapse\">\n        <thead>\n          <tr class=\"border-b border-gray-700\">\n            <th class=\"p-2\">Period</th>\n            <th class=\"p-2\">Transactions</th>\n            <th class=\"p-2\">Total Sales</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr\n            v-for=\"(item, idx) in reportData\"\n            :key=\"idx\"\n            class=\"border-b border-gray-800\"\n          >\n            <td class=\"p-2\">{{ item.period }}</td>\n            <td class=\"p-2\">{{ item.transactions }}</td>\n            <td class=\"p-2\">Rp {{ formatNumber(item.total_sales) }}</td>\n          </tr>\n          <tr v-if=\"reportData.length === 0\">\n            <td colspan=\"3\" class=\"text-center p-4 text-gray-400\">\n              No data available\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from \"vue\";\nimport api from \"@/services/api\"; // axios instance\n\nconst selectedBy = ref(\"month:1\"); // default -> January\nconst reportData = ref([]);\n\nconst fetchReport = async () => {\n  try {\n    const res = await api.get(\n      `/owner/reports?type=sales&by=${selectedBy.value}`\n    );\n    reportData.value = res.data.data || [];\n  } catch (err) {\n    console.error(\"Failed to fetch report:\", err);\n  }\n};\n\nconst exportReport = async (format) => {\n  try {\n    const res = await api.get(\n      `/owner/reports/export?type=sales&by=${selectedBy.value}&format=${format}`,\n      { responseType: \"blob\" }\n    );\n    const url = window.URL.createObjectURL(new Blob([res.data]));\n    const link = document.createElement(\"a\");\n    link.href = url;\n    link.setAttribute(\"download\", `sales-report.${format}`);\n    document.body.appendChild(link);\n    link.click();\n    link.remove();\n  } catch (err) {\n    console.error(\"Export failed:\", err);\n  }\n};\n\nconst formatNumber = (num) => {\n  if (!num) return 0;\n  return new Intl.NumberFormat(\"id-ID\").format(num);\n};\n\nonMounted(() => {\n  fetchReport();\n});\n</script>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAK;;EAOTA,KAAK,EAAC;AAAwC;;EA6B9CA,KAAK,EAAC;AAAqB;;EAgB3BA,KAAK,EAAC;AAAmC;;EAErCA,KAAK,EAAC;AAAkC;;EAcrCA,KAAK,EAAC;AAAK;;EACXA,KAAK,EAAC;AAAK;;EACXA,KAAK,EAAC;AAAK;;;;;uBAtEzBC,mBAAA,CAgFM,OAhFNC,UAgFM,G,4BA/EJC,mBAAA,CAA6D;IAAzDH,KAAK,EAAC;EAAyB,GAAC,sBAAoB,qB,4BACxDG,mBAAA,CAEI;IAFDH,KAAK,EAAC;EAAoB,GAAC,2DAE9B,qBAEAI,mBAAA,aAAgB,EAChBD,mBAAA,CA0BM,OA1BNE,UA0BM,G,0BAzBJF,mBAAA,CAA6D;IAAtDH,KAAK,EAAC;EAAgC,GAAC,SAAO,qB,gBACrDG,mBAAA,CAuBS;+DAtBEG,MAAA,CAAAC,UAAU,GAAAC,MAAA;IAClBC,QAAM,EAAEH,MAAA,CAAAI,WAAW;IACpBV,KAAK,EAAC;MAENI,mBAAA,aAAgB,E,wiBAchBA,mBAAA,YAAe,E,0BACfD,mBAAA,CAA4C;IAApCQ,KAAK,EAAC;EAAW,GAAC,WAAS,qB,0BACnCR,mBAAA,CAA4C;IAApCQ,KAAK,EAAC;EAAW,GAAC,WAAS,qB,0BACnCR,mBAAA,CAA4C;IAApCQ,KAAK,EAAC;EAAW,GAAC,WAAS,oB,0DArB1BL,MAAA,CAAAC,UAAU,E,KAyBvBH,mBAAA,oBAAuB,EACvBD,mBAAA,CAaM,OAbNS,UAaM,GAZJT,mBAAA,CAKS;IAJNU,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAN,MAAA,IAAEF,MAAA,CAAAS,YAAY;IACpBf,KAAK,EAAC;KACP,iBAED,GACAG,mBAAA,CAKS;IAJNU,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAN,MAAA,IAAEF,MAAA,CAAAS,YAAY;IACpBf,KAAK,EAAC;KACP,iBAED,E,GAGFI,mBAAA,sBAAyB,EACzBD,mBAAA,CA2BM,OA3BNa,UA2BM,G,4BA1BJb,mBAAA,CAAsD;IAAlDH,KAAK,EAAC;EAA4B,GAAC,YAAU,qBACjDG,mBAAA,CAwBQ,SAxBRc,UAwBQ,G,0BAvBNd,mBAAA,CAMQ,gBALNA,mBAAA,CAIK;IAJDH,KAAK,EAAC;EAA0B,IAClCG,mBAAA,CAA2B;IAAvBH,KAAK,EAAC;EAAK,GAAC,QAAM,GACtBG,mBAAA,CAAiC;IAA7BH,KAAK,EAAC;EAAK,GAAC,cAAY,GAC5BG,mBAAA,CAAgC;IAA5BH,KAAK,EAAC;EAAK,GAAC,aAAW,E,uBAG/BG,mBAAA,CAeQ,iB,kBAdNF,mBAAA,CAQKiB,SAAA,QAAAC,WAAA,CAPmBb,MAAA,CAAAc,UAAU,GAAxBC,IAAI,EAAEC,GAAG;yBADnBrB,mBAAA,CAQK;MANFsB,GAAG,EAAED,GAAG;MACTtB,KAAK,EAAC;QAENG,mBAAA,CAAsC,MAAtCqB,UAAsC,EAAAC,gBAAA,CAAnBJ,IAAI,CAACK,MAAM,kBAC9BvB,mBAAA,CAA4C,MAA5CwB,UAA4C,EAAAF,gBAAA,CAAzBJ,IAAI,CAACO,YAAY,kBACpCzB,mBAAA,CAA4D,MAA5D0B,UAA4D,EAA5C,KAAG,GAAAJ,gBAAA,CAAGnB,MAAA,CAAAwB,YAAY,CAACT,IAAI,CAACU,WAAW,kB;kCAE3CzB,MAAA,CAAAc,UAAU,CAACY,MAAM,U,cAA3B/B,mBAAA,CAIK,MAAAgC,UAAA,OAAAnB,MAAA,QAAAA,MAAA,OAHHX,mBAAA,CAEK;IAFD+B,OAAO,EAAC,GAAG;IAAClC,KAAK,EAAC;KAAgC,qBAEtD,mB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}