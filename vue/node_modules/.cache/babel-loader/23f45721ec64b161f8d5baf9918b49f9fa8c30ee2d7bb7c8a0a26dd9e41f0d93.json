{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vModelSelect as _vModelSelect, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"flex min-h-screen bg-gray-100\"\n};\nconst _hoisted_2 = {\n  class: \"w-64 bg-white shadow-md\"\n};\nconst _hoisted_3 = {\n  class: \"p-4\"\n};\nconst _hoisted_4 = {\n  class: \"flex-1 p-6\"\n};\nconst _hoisted_5 = {\n  class: \"flex space-x-4 mb-6\"\n};\nconst _hoisted_6 = {\n  class: \"bg-white shadow rounded p-4\"\n};\nconst _hoisted_7 = {\n  class: \"w-full border-collapse\"\n};\nconst _hoisted_8 = {\n  class: \"p-2 border\"\n};\nconst _hoisted_9 = {\n  class: \"p-2 border\"\n};\nconst _hoisted_10 = {\n  class: \"p-2 border\"\n};\nconst _hoisted_11 = {\n  class: \"p-2 border\"\n};\nconst _hoisted_12 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Sidebar \"), _createElementVNode(\"aside\", _hoisted_2, [_cache[7] || (_cache[7] = _createElementVNode(\"div\", {\n    class: \"p-4 font-bold text-lg border-b\"\n  }, \"Owner Dashboard\", -1 /* CACHED */)), _createElementVNode(\"nav\", _hoisted_3, [_createElementVNode(\"ul\", null, [_createElementVNode(\"li\", null, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = $event => $data.activePage = 'reports'),\n    class: \"w-full text-left px-3 py-2 rounded hover:bg-gray-200\"\n  }, \" Reports \")]), _createElementVNode(\"li\", null, [_createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = $event => $data.activePage = 'products'),\n    class: \"w-full text-left px-3 py-2 rounded hover:bg-gray-200\"\n  }, \" Products \")])])])]), _createCommentVNode(\" Main Content \"), _createElementVNode(\"main\", _hoisted_4, [_createCommentVNode(\" Dropdown Filter \"), _createElementVNode(\"div\", _hoisted_5, [_withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.filters.type = $event),\n    class: \"border p-2 rounded\"\n  }, [...(_cache[8] || (_cache[8] = [_createElementVNode(\"option\", {\n    value: \"sales\"\n  }, \"Sales\", -1 /* CACHED */), _createElementVNode(\"option\", {\n    value: \"items\"\n  }, \"Items\", -1 /* CACHED */)]))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.filters.type]]), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.filters.by = $event),\n    class: \"border p-2 rounded\"\n  }, [...(_cache[9] || (_cache[9] = [_createElementVNode(\"option\", {\n    value: \"day\"\n  }, \"By Day\", -1 /* CACHED */), _createElementVNode(\"option\", {\n    value: \"month\"\n  }, \"By Month\", -1 /* CACHED */)]))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.filters.by]]), _createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.fetchReports && $options.fetchReports(...args)),\n    class: \"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\"\n  }, \" Filter \"), _createElementVNode(\"button\", {\n    onClick: _cache[5] || (_cache[5] = $event => $options.exportReport('csv')),\n    class: \"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\"\n  }, \" Export CSV \"), _createElementVNode(\"button\", {\n    onClick: _cache[6] || (_cache[6] = $event => $options.exportReport('pdf')),\n    class: \"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\"\n  }, \" Export PDF \")]), _createCommentVNode(\" Table \"), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"table\", _hoisted_7, [_cache[11] || (_cache[11] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", {\n    class: \"bg-gray-200\"\n  }, [_createElementVNode(\"th\", {\n    class: \"p-2 border\"\n  }, \"#\"), _createElementVNode(\"th\", {\n    class: \"p-2 border\"\n  }, \"Period\"), _createElementVNode(\"th\", {\n    class: \"p-2 border\"\n  }, \"Total Sales\"), _createElementVNode(\"th\", {\n    class: \"p-2 border\"\n  }, \"Total Items\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.reports, (report, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: index,\n      class: \"hover:bg-gray-100\"\n    }, [_createElementVNode(\"td\", _hoisted_8, _toDisplayString(index + 1), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_9, _toDisplayString(report.period ?? '-'), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_10, \" Rp \" + _toDisplayString($options.formatNumber(report.total_sales ?? 0)), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_11, _toDisplayString(report.total_items ?? 0), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */)), $data.reports.length === 0 ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_12, [...(_cache[10] || (_cache[10] = [_createElementVNode(\"td\", {\n    colspan: \"4\",\n    class: \"p-2 border text-center text-gray-500\"\n  }, \" No data available \", -1 /* CACHED */)]))])) : _createCommentVNode(\"v-if\", true)])])])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","onClick","_cache","$event","$data","activePage","_hoisted_4","_hoisted_5","filters","type","value","by","args","$options","fetchReports","exportReport","_hoisted_6","_hoisted_7","_Fragment","_renderList","reports","report","index","key","_hoisted_8","_toDisplayString","_hoisted_9","period","_hoisted_10","formatNumber","total_sales","_hoisted_11","total_items","length","_hoisted_12","colspan"],"sources":["C:\\Users\\Personal\\Documents\\PKL\\aplikasi\\aplikasi\\src\\views\\SalesSummaryReportOwners.vue"],"sourcesContent":["<template>\n  <div class=\"flex min-h-screen bg-gray-100\">\n    <!-- Sidebar -->\n    <aside class=\"w-64 bg-white shadow-md\">\n      <div class=\"p-4 font-bold text-lg border-b\">Owner Dashboard</div>\n      <nav class=\"p-4\">\n        <ul>\n          <li>\n            <button\n              @click=\"activePage = 'reports'\"\n              class=\"w-full text-left px-3 py-2 rounded hover:bg-gray-200\"\n            >\n              Reports\n            </button>\n          </li>\n          <li>\n            <button\n              @click=\"activePage = 'products'\"\n              class=\"w-full text-left px-3 py-2 rounded hover:bg-gray-200\"\n            >\n              Products\n            </button>\n          </li>\n        </ul>\n      </nav>\n    </aside>\n\n    <!-- Main Content -->\n    <main class=\"flex-1 p-6\">\n      <!-- Dropdown Filter -->\n      <div class=\"flex space-x-4 mb-6\">\n        <select v-model=\"filters.type\" class=\"border p-2 rounded\">\n          <option value=\"sales\">Sales</option>\n          <option value=\"items\">Items</option>\n        </select>\n\n        <select v-model=\"filters.by\" class=\"border p-2 rounded\">\n          <option value=\"day\">By Day</option>\n          <option value=\"month\">By Month</option>\n        </select>\n\n        <button\n          @click=\"fetchReports\"\n          class=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\"\n        >\n          Filter\n        </button>\n\n        <button\n          @click=\"exportReport('csv')\"\n          class=\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\"\n        >\n          Export CSV\n        </button>\n        <button\n          @click=\"exportReport('pdf')\"\n          class=\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\"\n        >\n          Export PDF\n        </button>\n      </div>\n\n      <!-- Table -->\n      <div class=\"bg-white shadow rounded p-4\">\n        <table class=\"w-full border-collapse\">\n          <thead>\n            <tr class=\"bg-gray-200\">\n              <th class=\"p-2 border\">#</th>\n              <th class=\"p-2 border\">Period</th>\n              <th class=\"p-2 border\">Total Sales</th>\n              <th class=\"p-2 border\">Total Items</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              v-for=\"(report, index) in reports\"\n              :key=\"index\"\n              class=\"hover:bg-gray-100\"\n            >\n              <td class=\"p-2 border\">{{ index + 1 }}</td>\n              <td class=\"p-2 border\">{{ report.period ?? '-' }}</td>\n              <td class=\"p-2 border\">\n                Rp {{ formatNumber(report.total_sales ?? 0) }}\n              </td>\n              <td class=\"p-2 border\">{{ report.total_items ?? 0 }}</td>\n            </tr>\n            <tr v-if=\"reports.length === 0\">\n              <td colspan=\"4\" class=\"p-2 border text-center text-gray-500\">\n                No data available\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </main>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      activePage: \"reports\",\n      reports: [],\n      filters: {\n        type: \"sales\",\n        by: \"day\",\n      },\n    };\n  },\n  methods: {\n    async fetchReports() {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const response = await axios.get(\n          \"http://localhost:8081/api/v1/owner/reports\",\n          {\n            params: this.filters,\n            headers: { Authorization: `Bearer ${token}` },\n          }\n        );\n\n        // Gunakan data backend apa adanya\n        this.reports = Array.isArray(response.data.data)\n          ? response.data.data\n          : [];\n      } catch (error) {\n        console.error(\"Fetch reports error:\", error);\n        this.reports = [];\n      }\n    },\n    async exportReport(format) {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const response = await axios.get(\n          \"http://localhost:8081/api/v1/owner/reports\",\n          {\n            params: { ...this.filters, export: format },\n            headers: { Authorization: `Bearer ${token}` },\n            responseType: \"blob\",\n          }\n        );\n\n        const url = window.URL.createObjectURL(new Blob([response.data]));\n        const link = document.createElement(\"a\");\n        link.href = url;\n        link.setAttribute(\"download\", `report.${format}`);\n        document.body.appendChild(link);\n        link.click();\n        link.remove();\n      } catch (error) {\n        console.error(\"Export report error:\", error);\n      }\n    },\n    formatNumber(num) {\n      return new Intl.NumberFormat(\"id-ID\").format(num);\n    },\n  },\n  mounted() {\n    this.fetchReports();\n  },\n};\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}