{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, withCtx as _withCtx, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"space-y-6\"\n};\nconst _hoisted_2 = {\n  class: \"bg-white rounded-lg shadow-sm p-6 border border-gray-200\"\n};\nconst _hoisted_3 = {\n  class: \"overflow-x-auto\"\n};\nconst _hoisted_4 = {\n  class: \"min-w-full divide-y divide-gray-200\"\n};\nconst _hoisted_5 = {\n  class: \"bg-white divide-y divide-gray-200\"\n};\nconst _hoisted_6 = {\n  key: 0\n};\nconst _hoisted_7 = {\n  key: 1\n};\nconst _hoisted_8 = {\n  class: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\"\n};\nconst _hoisted_9 = {\n  class: \"px-6 py-4 whitespace-nowrap text-sm\"\n};\nconst _hoisted_10 = {\n  class: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\"\n};\nconst _hoisted_11 = {\n  class: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createBlock($setup[\"GudangLayouts\"], null, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_cache[4] || (_cache[4] = _createElementVNode(\"div\", null, [_createElementVNode(\"h1\", {\n      class: \"text-3xl font-bold text-gray-900\"\n    }, \" Warehouse Staff Dashboard \"), _createElementVNode(\"p\", {\n      class: \"text-lg text-gray-600 mt-1\"\n    }, \" Welcome back! Here's an overview of your warehouse activities. \")], -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_2, [_cache[3] || (_cache[3] = _createElementVNode(\"h2\", {\n      class: \"text-xl font-semibold text-gray-800 mb-4\"\n    }, \" Stock Opname Terbaru \", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"table\", _hoisted_4, [_cache[2] || (_cache[2] = _createElementVNode(\"thead\", {\n      class: \"bg-gray-50\"\n    }, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n      class: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n    }, \" Date \"), _createElementVNode(\"th\", {\n      class: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n    }, \" Status \"), _createElementVNode(\"th\", {\n      class: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n    }, \" Products Count \"), _createElementVNode(\"th\", {\n      class: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n    }, \" Staff \")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", _hoisted_5, [$setup.loading ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_6, [...(_cache[0] || (_cache[0] = [_createElementVNode(\"td\", {\n      colspan: \"4\",\n      class: \"px-6 py-4 text-center text-sm text-gray-500\"\n    }, \" Loading... \", -1 /* CACHED */)]))])) : $setup.stockOpnames.length === 0 ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_7, [...(_cache[1] || (_cache[1] = [_createElementVNode(\"td\", {\n      colspan: \"4\",\n      class: \"px-6 py-4 text-center text-sm text-gray-500\"\n    }, \" No data available \", -1 /* CACHED */)]))])) : (_openBlock(true), _createElementBlock(_Fragment, {\n      key: 2\n    }, _renderList($setup.stockOpnames, opname => {\n      return _openBlock(), _createElementBlock(\"tr\", {\n        key: opname.ID\n      }, [_createElementVNode(\"td\", _hoisted_8, _toDisplayString($setup.formatDate(opname.Date)), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_9, [_createElementVNode(\"span\", {\n        class: _normalizeClass([\"inline-flex items-center rounded-full px-3 py-0.5 text-sm font-medium\", {\n          'bg-green-100 text-green-800': opname.Status === 'Completed',\n          'bg-yellow-100 text-yellow-800': opname.Status === 'Pending'\n        }])\n      }, _toDisplayString(opname.Status), 3 /* TEXT, CLASS */)]), _createElementVNode(\"td\", _hoisted_10, _toDisplayString(opname.ProductsCount), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_11, _toDisplayString(opname.StaffName), 1 /* TEXT */)]);\n    }), 128 /* KEYED_FRAGMENT */))])])])])])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createBlock","$setup","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","loading","_createElementBlock","_hoisted_6","_cache","colspan","stockOpnames","length","_hoisted_7","_Fragment","key","_renderList","opname","ID","_hoisted_8","_toDisplayString","formatDate","Date","_hoisted_9","_normalizeClass","Status","_hoisted_10","ProductsCount","_hoisted_11","StaffName"],"sources":["C:\\Users\\Personal\\Documents\\PKL\\aplikasi\\aplikasi\\src\\views\\DashboardGudang.vue"],"sourcesContent":["<template>\n  <GudangLayouts>\n    <div class=\"space-y-6\">\n      <div>\n        <h1 class=\"text-3xl font-bold text-gray-900\">\n          Warehouse Staff Dashboard\n        </h1>\n        <p class=\"text-lg text-gray-600 mt-1\">\n          Welcome back! Here's an overview of your warehouse activities.\n        </p>\n      </div>\n      <div class=\"bg-white rounded-lg shadow-sm p-6 border border-gray-200\">\n        <h2 class=\"text-xl font-semibold text-gray-800 mb-4\">\n          Stock Opname Terbaru\n        </h2>\n        <div class=\"overflow-x-auto\">\n          <table class=\"min-w-full divide-y divide-gray-200\">\n            <thead class=\"bg-gray-50\">\n              <tr>\n                <th\n                  class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                >\n                  Date\n                </th>\n                <th\n                  class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                >\n                  Status\n                </th>\n                <th\n                  class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                >\n                  Products Count\n                </th>\n                <th\n                  class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                >\n                  Staff\n                </th>\n              </tr>\n            </thead>\n            <tbody class=\"bg-white divide-y divide-gray-200\">\n              <tr v-if=\"loading\">\n                <td\n                  colspan=\"4\"\n                  class=\"px-6 py-4 text-center text-sm text-gray-500\"\n                >\n                  Loading...\n                </td>\n              </tr>\n              <tr v-else-if=\"stockOpnames.length === 0\">\n                <td\n                  colspan=\"4\"\n                  class=\"px-6 py-4 text-center text-sm text-gray-500\"\n                >\n                  No data available\n                </td>\n              </tr>\n              <tr v-else v-for=\"opname in stockOpnames\" :key=\"opname.ID\">\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                  {{ formatDate(opname.Date) }}\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm\">\n                  <span\n                    class=\"inline-flex items-center rounded-full px-3 py-0.5 text-sm font-medium\"\n                    :class=\"{\n                      'bg-green-100 text-green-800':\n                        opname.Status === 'Completed',\n                      'bg-yellow-100 text-yellow-800':\n                        opname.Status === 'Pending',\n                    }\"\n                  >\n                    {{ opname.Status }}\n                  </span>\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                  {{ opname.ProductsCount }}\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                  {{ opname.StaffName }}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </GudangLayouts>\n</template>\n\n<script setup>\nimport { ref, onMounted } from \"vue\";\nimport GudangLayouts from \"@/components/GudangLayouts.vue\";\nimport axios from \"axios\";\n\nconst stockOpnames = ref([]);\nconst loading = ref(false);\n\nconst api = axios.create({ baseURL: \"http://localhost:8081/api/v1\" });\nconst savedToken = localStorage.getItem(\"token\");\nif (savedToken) {\n  api.defaults.headers.common[\"Authorization\"] = `Bearer ${savedToken}`;\n}\n\nconst fetchStockOpnames = async () => {\n  loading.value = true;\n  try {\n    const response = await api.get(\"/gudang/stock-opnames\", {\n      params: { limit: 3, sort: \"date_desc\" }, // Ambil 3 terbaru\n    });\n    stockOpnames.value = response.data.data.map((op) => ({\n      ID: op.ID,\n      Date: op.Date,\n      Status: op.Status || \"Pending\", // Asumsi status dari backend\n      ProductsCount: op.Items.length, // Hitung dari jumlah items\n      StaffName: op.User.Name || \"Unknown\", // Asumsi relasi User\n    }));\n  } catch (error) {\n    console.error(\"Gagal fetch stock opnames:\", error);\n    alert(\"Gagal memuat data stock opname.\");\n  } finally {\n    loading.value = false;\n  }\n};\n\nconst formatDate = (dateStr) => {\n  if (!dateStr) return \"N/A\";\n  const date = new Date(dateStr);\n  return date.toLocaleDateString(\"id-ID\", {\n    day: \"2-digit\",\n    month: \"2-digit\",\n    year: \"numeric\",\n  });\n};\n\nonMounted(() => {\n  fetchStockOpnames();\n});\n</script>\n"],"mappings":";;EAESA,KAAK,EAAC;AAAW;;EASfA,KAAK,EAAC;AAA0D;;EAI9DA,KAAK,EAAC;AAAiB;;EACnBA,KAAK,EAAC;AAAqC;;EAyBzCA,KAAK,EAAC;AAAmC;;;;;;;;EAkBxCA,KAAK,EAAC;AAAmD;;EAGzDA,KAAK,EAAC;AAAqC;;EAa3CA,KAAK,EAAC;AAAmD;;EAGzDA,KAAK,EAAC;AAAmD;;uBA7E3EC,YAAA,CAsFgBC,MAAA;sBArFd,MAoFM,CApFNC,mBAAA,CAoFM,OApFNC,UAoFM,G,0BAnFJD,mBAAA,CAOM,cANJA,mBAAA,CAEK;MAFDH,KAAK,EAAC;IAAkC,GAAC,6BAE7C,GACAG,mBAAA,CAEI;MAFDH,KAAK,EAAC;IAA4B,GAAC,kEAEtC,E,qBAEFG,mBAAA,CA0EM,OA1ENE,UA0EM,G,0BAzEJF,mBAAA,CAEK;MAFDH,KAAK,EAAC;IAA0C,GAAC,wBAErD,qBACAG,mBAAA,CAqEM,OArENG,UAqEM,GApEJH,mBAAA,CAmEQ,SAnERI,UAmEQ,G,0BAlENJ,mBAAA,CAuBQ;MAvBDH,KAAK,EAAC;IAAY,IACvBG,mBAAA,CAqBK,aApBHA,mBAAA,CAIK;MAHHH,KAAK,EAAC;IAAgF,GACvF,QAED,GACAG,mBAAA,CAIK;MAHHH,KAAK,EAAC;IAAgF,GACvF,UAED,GACAG,mBAAA,CAIK;MAHHH,KAAK,EAAC;IAAgF,GACvF,kBAED,GACAG,mBAAA,CAIK;MAHHH,KAAK,EAAC;IAAgF,GACvF,SAED,E,uBAGJG,mBAAA,CAyCQ,SAzCRK,UAyCQ,GAxCIN,MAAA,CAAAO,OAAO,I,cAAjBC,mBAAA,CAOK,MAAAC,UAAA,OAAAC,MAAA,QAAAA,MAAA,OANHT,mBAAA,CAKK;MAJHU,OAAO,EAAC,GAAG;MACXb,KAAK,EAAC;OACP,cAED,mB,QAEaE,MAAA,CAAAY,YAAY,CAACC,MAAM,U,cAAlCL,mBAAA,CAOK,MAAAM,UAAA,OAAAJ,MAAA,QAAAA,MAAA,OANHT,mBAAA,CAKK;MAJHU,OAAO,EAAC,GAAG;MACXb,KAAK,EAAC;OACP,qBAED,mB,2BAEFU,mBAAA,CAuBKO,SAAA;MAAAC,GAAA;IAAA,GAAAC,WAAA,CAvBuBjB,MAAA,CAAAY,YAAY,EAAtBM,MAAM;2BAAxBV,mBAAA,CAuBK;QAvBsCQ,GAAG,EAAEE,MAAM,CAACC;UACrDlB,mBAAA,CAEK,MAFLmB,UAEK,EAAAC,gBAAA,CADArB,MAAA,CAAAsB,UAAU,CAACJ,MAAM,CAACK,IAAI,mBAE3BtB,mBAAA,CAYK,MAZLuB,UAYK,GAXHvB,mBAAA,CAUO;QATLH,KAAK,EAAA2B,eAAA,EAAC,uEAAuE;yCACUP,MAAM,CAACQ,MAAM;2CAAiGR,MAAM,CAACQ,MAAM;;0BAO/MR,MAAM,CAACQ,MAAM,wB,GAGpBzB,mBAAA,CAEK,MAFL0B,WAEK,EAAAN,gBAAA,CADAH,MAAM,CAACU,aAAa,kBAEzB3B,mBAAA,CAEK,MAFL4B,WAEK,EAAAR,gBAAA,CADAH,MAAM,CAACY,SAAS,iB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}