{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"p-4\"\n};\nconst _hoisted_2 = {\n  class: \"flex gap-4 mb-4\"\n};\nconst _hoisted_3 = {\n  class: \"overflow-x-auto\"\n};\nconst _hoisted_4 = {\n  class: \"w-full border border-gray-200\"\n};\nconst _hoisted_5 = {\n  class: \"border px-4 py-2\"\n};\nconst _hoisted_6 = {\n  class: \"border px-4 py-2\"\n};\nconst _hoisted_7 = {\n  class: \"border px-4 py-2 text-right\"\n};\nconst _hoisted_8 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_OwnerLayouts = _resolveComponent(\"OwnerLayouts\");\n  return _openBlock(), _createBlock(_component_OwnerLayouts, null, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createCommentVNode(\" TITLE \"), _cache[5] || (_cache[5] = _createElementVNode(\"h1\", {\n      class: \"text-2xl font-bold mb-4\"\n    }, \"Purchase Summary Report\", -1 /* CACHED */)), _createCommentVNode(\" FILTER \"), _createElementVNode(\"div\", _hoisted_2, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"date\",\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.filters.startDate = $event),\n      class: \"border p-2 rounded\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.filters.startDate]]), _withDirectives(_createElementVNode(\"input\", {\n      type: \"date\",\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.filters.endDate = $event),\n      class: \"border p-2 rounded\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.filters.endDate]]), _createElementVNode(\"button\", {\n      onClick: _cache[2] || (_cache[2] = (...args) => $options.fetchReport && $options.fetchReport(...args)),\n      class: \"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\n    }, \" Filter \")]), _createCommentVNode(\" TABLE \"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"table\", _hoisted_4, [_cache[4] || (_cache[4] = _createElementVNode(\"thead\", {\n      class: \"bg-gray-100\"\n    }, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n      class: \"border px-4 py-2 text-left\"\n    }, \"Tanggal\"), _createElementVNode(\"th\", {\n      class: \"border px-4 py-2 text-left\"\n    }, \"Supplier\"), _createElementVNode(\"th\", {\n      class: \"border px-4 py-2 text-right\"\n    }, \"Total Pembelian\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.purchases, (purchase, index) => {\n      return _openBlock(), _createElementBlock(\"tr\", {\n        key: index,\n        class: \"hover:bg-gray-50\"\n      }, [_createElementVNode(\"td\", _hoisted_5, _toDisplayString($options.formatDate(purchase.date)), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_6, _toDisplayString(purchase.supplier_name), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_7, \" Rp \" + _toDisplayString($options.formatRupiah(purchase.total_amount)), 1 /* TEXT */)]);\n    }), 128 /* KEYED_FRAGMENT */)), $data.purchases.length === 0 ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_8, [...(_cache[3] || (_cache[3] = [_createElementVNode(\"td\", {\n      colspan: \"3\",\n      class: \"text-center py-4 text-gray-500\"\n    }, \" Tidak ada data \", -1 /* CACHED */)]))])) : _createCommentVNode(\"v-if\", true)])])])])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createBlock","_component_OwnerLayouts","_createElementVNode","_hoisted_1","_createCommentVNode","_hoisted_2","type","$data","filters","startDate","$event","endDate","onClick","_cache","args","$options","fetchReport","_hoisted_3","_hoisted_4","_createElementBlock","_Fragment","_renderList","purchases","purchase","index","key","_hoisted_5","_toDisplayString","formatDate","date","_hoisted_6","supplier_name","_hoisted_7","formatRupiah","total_amount","length","_hoisted_8","colspan"],"sources":["C:\\Users\\Personal\\Documents\\PKL\\aplikasi\\aplikasi\\src\\views\\PurchaseSummaryReportOwners.vue"],"sourcesContent":["<template>\n  <OwnerLayouts>\n    <div class=\"p-4\">\n      <!-- TITLE -->\n      <h1 class=\"text-2xl font-bold mb-4\">Purchase Summary Report</h1>\n\n      <!-- FILTER -->\n      <div class=\"flex gap-4 mb-4\">\n        <input\n          type=\"date\"\n          v-model=\"filters.startDate\"\n          class=\"border p-2 rounded\"\n        />\n        <input\n          type=\"date\"\n          v-model=\"filters.endDate\"\n          class=\"border p-2 rounded\"\n        />\n        <button\n          @click=\"fetchReport\"\n          class=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\n        >\n          Filter\n        </button>\n      </div>\n\n      <!-- TABLE -->\n      <div class=\"overflow-x-auto\">\n        <table class=\"w-full border border-gray-200\">\n          <thead class=\"bg-gray-100\">\n            <tr>\n              <th class=\"border px-4 py-2 text-left\">Tanggal</th>\n              <th class=\"border px-4 py-2 text-left\">Supplier</th>\n              <th class=\"border px-4 py-2 text-right\">Total Pembelian</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              v-for=\"(purchase, index) in purchases\"\n              :key=\"index\"\n              class=\"hover:bg-gray-50\"\n            >\n              <td class=\"border px-4 py-2\">{{ formatDate(purchase.date) }}</td>\n              <td class=\"border px-4 py-2\">{{ purchase.supplier_name }}</td>\n              <td class=\"border px-4 py-2 text-right\">\n                Rp {{ formatRupiah(purchase.total_amount) }}\n              </td>\n            </tr>\n            <tr v-if=\"purchases.length === 0\">\n              <td colspan=\"3\" class=\"text-center py-4 text-gray-500\">\n                Tidak ada data\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </OwnerLayouts>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport OwnerLayouts from \"@/layouts/OwnerLayouts.vue\";\n\nexport default {\n  components: { OwnerLayouts },\n  data() {\n    return {\n      purchases: [],\n      filters: {\n        startDate: \"\",\n        endDate: \"\",\n      },\n    };\n  },\n  methods: {\n    async fetchReport() {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const response = await axios.get(\n          \"http://localhost:8081/api/v1/owner/purchase-summary\",\n          {\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n            params: {\n              start_date: this.filters.startDate,\n              end_date: this.filters.endDate,\n            },\n          }\n        );\n        this.purchases = response.data.data || [];\n      } catch (error) {\n        console.error(\"Error fetching purchase report:\", error);\n      }\n    },\n    formatDate(dateStr) {\n      const date = new Date(dateStr);\n      return date.toLocaleDateString(\"id-ID\", {\n        day: \"2-digit\",\n        month: \"long\",\n        year: \"numeric\",\n      });\n    },\n    formatRupiah(value) {\n      if (!value) return \"0\";\n      return new Intl.NumberFormat(\"id-ID\").format(value);\n    },\n  },\n  mounted() {\n    this.fetchReport();\n  },\n};\n</script>\n"],"mappings":";;EAESA,KAAK,EAAC;AAAK;;EAKTA,KAAK,EAAC;AAAiB;;EAoBvBA,KAAK,EAAC;AAAiB;;EACnBA,KAAK,EAAC;AAA+B;;EAclCA,KAAK,EAAC;AAAkB;;EACxBA,KAAK,EAAC;AAAkB;;EACxBA,KAAK,EAAC;AAA6B;;;;;;uBA3CnDC,YAAA,CAwDeC,uBAAA;sBAvDb,MAsDM,CAtDNC,mBAAA,CAsDM,OAtDNC,UAsDM,GArDJC,mBAAA,WAAc,E,0BACdF,mBAAA,CAAgE;MAA5DH,KAAK,EAAC;IAAyB,GAAC,yBAAuB,qBAE3DK,mBAAA,YAAe,EACfF,mBAAA,CAiBM,OAjBNG,UAiBM,G,gBAhBJH,mBAAA,CAIE;MAHAI,IAAI,EAAC,MAAM;iEACFC,KAAA,CAAAC,OAAO,CAACC,SAAS,GAAAC,MAAA;MAC1BX,KAAK,EAAC;mDADGQ,KAAA,CAAAC,OAAO,CAACC,SAAS,E,mBAG5BP,mBAAA,CAIE;MAHAI,IAAI,EAAC,MAAM;iEACFC,KAAA,CAAAC,OAAO,CAACG,OAAO,GAAAD,MAAA;MACxBX,KAAK,EAAC;mDADGQ,KAAA,CAAAC,OAAO,CAACG,OAAO,E,GAG1BT,mBAAA,CAKS;MAJNU,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,WAAA,IAAAD,QAAA,CAAAC,WAAA,IAAAF,IAAA,CAAW;MACnBf,KAAK,EAAC;OACP,UAED,E,GAGFK,mBAAA,WAAc,EACdF,mBAAA,CA4BM,OA5BNe,UA4BM,GA3BJf,mBAAA,CA0BQ,SA1BRgB,UA0BQ,G,0BAzBNhB,mBAAA,CAMQ;MANDH,KAAK,EAAC;IAAa,IACxBG,mBAAA,CAIK,aAHHA,mBAAA,CAAmD;MAA/CH,KAAK,EAAC;IAA4B,GAAC,SAAO,GAC9CG,mBAAA,CAAoD;MAAhDH,KAAK,EAAC;IAA4B,GAAC,UAAQ,GAC/CG,mBAAA,CAA4D;MAAxDH,KAAK,EAAC;IAA6B,GAAC,iBAAe,E,uBAG3DG,mBAAA,CAiBQ,iB,kBAhBNiB,mBAAA,CAUKC,SAAA,QAAAC,WAAA,CATyBd,KAAA,CAAAe,SAAS,GAA7BC,QAAQ,EAAEC,KAAK;2BADzBL,mBAAA,CAUK;QARFM,GAAG,EAAED,KAAK;QACXzB,KAAK,EAAC;UAENG,mBAAA,CAAiE,MAAjEwB,UAAiE,EAAAC,gBAAA,CAAjCZ,QAAA,CAAAa,UAAU,CAACL,QAAQ,CAACM,IAAI,mBACxD3B,mBAAA,CAA8D,MAA9D4B,UAA8D,EAAAH,gBAAA,CAA9BJ,QAAQ,CAACQ,aAAa,kBACtD7B,mBAAA,CAEK,MAFL8B,UAEK,EAFmC,MACnC,GAAAL,gBAAA,CAAGZ,QAAA,CAAAkB,YAAY,CAACV,QAAQ,CAACW,YAAY,kB;oCAGlC3B,KAAA,CAAAe,SAAS,CAACa,MAAM,U,cAA1BhB,mBAAA,CAIK,MAAAiB,UAAA,OAAAvB,MAAA,QAAAA,MAAA,OAHHX,mBAAA,CAEK;MAFDmC,OAAO,EAAC,GAAG;MAACtC,KAAK,EAAC;OAAiC,kBAEvD,mB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}