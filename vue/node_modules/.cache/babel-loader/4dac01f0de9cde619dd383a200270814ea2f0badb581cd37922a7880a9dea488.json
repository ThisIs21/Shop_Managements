{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport axios from \"axios\";\nimport jsPDF from \"jspdf\";\nimport \"jspdf-autotable\";\nexport default {\n  name: \"SalesSummaryReportOwners\",\n  data() {\n    return {\n      filters: {\n        startDate: \"\",\n        endDate: \"\",\n        category: \"\"\n      },\n      categories: [\"Buku\", \"ATK\", \"Majalah\"],\n      // ini bisa fetch dari backend juga\n      reportData: []\n    };\n  },\n  methods: {\n    async fetchData() {\n      try {\n        const res = await axios.get(\"http://localhost:8081/api/v1/owner/sales-summary\", {\n          params: this.filters\n        });\n        this.reportData = res.data || [];\n      } catch (err) {\n        console.error(\"Error fetch:\", err);\n      }\n    },\n    exportCSV() {\n      if (!this.reportData.length) return;\n      const header = [\"Tanggal\", \"Produk\", \"Kategori\", \"Jumlah\", \"Total\"];\n      const rows = this.reportData.map(r => [r.date, r.product, r.category, r.qty, r.total]);\n      const csvContent = \"data:text/csv;charset=utf-8,\" + [header, ...rows].map(e => e.join(\",\")).join(\"\\n\");\n      const link = document.createElement(\"a\");\n      link.setAttribute(\"href\", encodeURI(csvContent));\n      link.setAttribute(\"download\", \"laporan.csv\");\n      link.click();\n    },\n    exportPDF() {\n      const doc = new jsPDF();\n      doc.text(\"Laporan Penjualan\", 14, 10);\n      const rows = this.reportData.map(r => [r.date, r.product, r.category, r.qty, r.total]);\n      doc.autoTable({\n        head: [[\"Tanggal\", \"Produk\", \"Kategori\", \"Jumlah\", \"Total\"]],\n        body: rows\n      });\n      doc.save(\"laporan.pdf\");\n    }\n  },\n  mounted() {\n    this.fetchData();\n  }\n};","map":{"version":3,"names":["axios","jsPDF","name","data","filters","startDate","endDate","category","categories","reportData","methods","fetchData","res","get","params","err","console","error","exportCSV","length","header","rows","map","r","date","product","qty","total","csvContent","e","join","link","document","createElement","setAttribute","encodeURI","click","exportPDF","doc","text","autoTable","head","body","save","mounted"],"sources":["C:\\Users\\Personal\\Documents\\PKL\\aplikasi\\aplikasi\\src\\views\\SalesSummaryReportOwners.vue"],"sourcesContent":["<template>\n  <div class=\"p-4\">\n    <!-- FILTER -->\n    <div class=\"flex gap-4 mb-4\">\n      <input\n        type=\"date\"\n        v-model=\"filters.startDate\"\n        class=\"border p-2 rounded\"\n      />\n      <input type=\"date\" v-model=\"filters.endDate\" class=\"border p-2 rounded\" />\n\n      <select v-model=\"filters.category\" class=\"border p-2 rounded\">\n        <option value=\"\">Semua Kategori</option>\n        <option v-for=\"cat in categories\" :key=\"cat\" :value=\"cat\">\n          {{ cat }}\n        </option>\n      </select>\n\n      <button\n        @click=\"fetchData\"\n        class=\"bg-blue-500 text-white px-4 py-2 rounded\"\n      >\n        Filter\n      </button>\n    </div>\n\n    <!-- EXPORT -->\n    <div class=\"flex gap-4 mb-4\">\n      <button\n        @click=\"exportCSV\"\n        class=\"bg-green-500 text-white px-4 py-2 rounded\"\n      >\n        Export CSV\n      </button>\n      <button\n        @click=\"exportPDF\"\n        class=\"bg-red-500 text-white px-4 py-2 rounded\"\n      >\n        Export PDF\n      </button>\n    </div>\n\n    <!-- TABEL DATA -->\n    <table class=\"w-full border-collapse border\">\n      <thead>\n        <tr class=\"bg-gray-100\">\n          <th class=\"border p-2\">Tanggal</th>\n          <th class=\"border p-2\">Produk</th>\n          <th class=\"border p-2\">Kategori</th>\n          <th class=\"border p-2\">Jumlah</th>\n          <th class=\"border p-2\">Total</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"row in reportData\" :key=\"row.id\">\n          <td class=\"border p-2\">{{ row.date }}</td>\n          <td class=\"border p-2\">{{ row.product }}</td>\n          <td class=\"border p-2\">{{ row.category }}</td>\n          <td class=\"border p-2\">{{ row.qty }}</td>\n          <td class=\"border p-2\">{{ row.total }}</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport jsPDF from \"jspdf\";\nimport \"jspdf-autotable\";\n\nexport default {\n  name: \"SalesSummaryReportOwners\",\n  data() {\n    return {\n      filters: {\n        startDate: \"\",\n        endDate: \"\",\n        category: \"\",\n      },\n      categories: [\"Buku\", \"ATK\", \"Majalah\"], // ini bisa fetch dari backend juga\n      reportData: [],\n    };\n  },\n  methods: {\n    async fetchData() {\n      try {\n        const res = await axios.get(\n          \"http://localhost:8081/api/v1/owner/sales-summary\",\n          {\n            params: this.filters,\n          }\n        );\n        this.reportData = res.data || [];\n      } catch (err) {\n        console.error(\"Error fetch:\", err);\n      }\n    },\n\n    exportCSV() {\n      if (!this.reportData.length) return;\n\n      const header = [\"Tanggal\", \"Produk\", \"Kategori\", \"Jumlah\", \"Total\"];\n      const rows = this.reportData.map((r) => [\n        r.date,\n        r.product,\n        r.category,\n        r.qty,\n        r.total,\n      ]);\n\n      const csvContent =\n        \"data:text/csv;charset=utf-8,\" +\n        [header, ...rows].map((e) => e.join(\",\")).join(\"\\n\");\n\n      const link = document.createElement(\"a\");\n      link.setAttribute(\"href\", encodeURI(csvContent));\n      link.setAttribute(\"download\", \"laporan.csv\");\n      link.click();\n    },\n\n    exportPDF() {\n      const doc = new jsPDF();\n      doc.text(\"Laporan Penjualan\", 14, 10);\n      const rows = this.reportData.map((r) => [\n        r.date,\n        r.product,\n        r.category,\n        r.qty,\n        r.total,\n      ]);\n\n      doc.autoTable({\n        head: [[\"Tanggal\", \"Produk\", \"Kategori\", \"Jumlah\", \"Total\"]],\n        body: rows,\n      });\n\n      doc.save(\"laporan.pdf\");\n    },\n  },\n  mounted() {\n    this.fetchData();\n  },\n};\n</script>\n"],"mappings":";;AAmEA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,KAAI,MAAO,OAAO;AACzB,OAAO,iBAAiB;AAExB,eAAe;EACbC,IAAI,EAAE,0BAA0B;EAChCC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,OAAO,EAAE;QACPC,SAAS,EAAE,EAAE;QACbC,OAAO,EAAE,EAAE;QACXC,QAAQ,EAAE;MACZ,CAAC;MACDC,UAAU,EAAE,CAAC,MAAM,EAAE,KAAK,EAAE,SAAS,CAAC;MAAE;MACxCC,UAAU,EAAE;IACd,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,SAASA,CAAA,EAAG;MAChB,IAAI;QACF,MAAMC,GAAE,GAAI,MAAMZ,KAAK,CAACa,GAAG,CACzB,kDAAkD,EAClD;UACEC,MAAM,EAAE,IAAI,CAACV;QACf,CACF,CAAC;QACD,IAAI,CAACK,UAAS,GAAIG,GAAG,CAACT,IAAG,IAAK,EAAE;MAClC,EAAE,OAAOY,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,cAAc,EAAEF,GAAG,CAAC;MACpC;IACF,CAAC;IAEDG,SAASA,CAAA,EAAG;MACV,IAAI,CAAC,IAAI,CAACT,UAAU,CAACU,MAAM,EAAE;MAE7B,MAAMC,MAAK,GAAI,CAAC,SAAS,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE,OAAO,CAAC;MACnE,MAAMC,IAAG,GAAI,IAAI,CAACZ,UAAU,CAACa,GAAG,CAAEC,CAAC,IAAK,CACtCA,CAAC,CAACC,IAAI,EACND,CAAC,CAACE,OAAO,EACTF,CAAC,CAAChB,QAAQ,EACVgB,CAAC,CAACG,GAAG,EACLH,CAAC,CAACI,KAAK,CACR,CAAC;MAEF,MAAMC,UAAS,GACb,8BAA6B,GAC7B,CAACR,MAAM,EAAE,GAAGC,IAAI,CAAC,CAACC,GAAG,CAAEO,CAAC,IAAKA,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC,CAAC,CAACA,IAAI,CAAC,IAAI,CAAC;MAEtD,MAAMC,IAAG,GAAIC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;MACxCF,IAAI,CAACG,YAAY,CAAC,MAAM,EAAEC,SAAS,CAACP,UAAU,CAAC,CAAC;MAChDG,IAAI,CAACG,YAAY,CAAC,UAAU,EAAE,aAAa,CAAC;MAC5CH,IAAI,CAACK,KAAK,CAAC,CAAC;IACd,CAAC;IAEDC,SAASA,CAAA,EAAG;MACV,MAAMC,GAAE,GAAI,IAAIrC,KAAK,CAAC,CAAC;MACvBqC,GAAG,CAACC,IAAI,CAAC,mBAAmB,EAAE,EAAE,EAAE,EAAE,CAAC;MACrC,MAAMlB,IAAG,GAAI,IAAI,CAACZ,UAAU,CAACa,GAAG,CAAEC,CAAC,IAAK,CACtCA,CAAC,CAACC,IAAI,EACND,CAAC,CAACE,OAAO,EACTF,CAAC,CAAChB,QAAQ,EACVgB,CAAC,CAACG,GAAG,EACLH,CAAC,CAACI,KAAK,CACR,CAAC;MAEFW,GAAG,CAACE,SAAS,CAAC;QACZC,IAAI,EAAE,CAAC,CAAC,SAAS,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;QAC5DC,IAAI,EAAErB;MACR,CAAC,CAAC;MAEFiB,GAAG,CAACK,IAAI,CAAC,aAAa,CAAC;IACzB;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACjC,SAAS,CAAC,CAAC;EAClB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}