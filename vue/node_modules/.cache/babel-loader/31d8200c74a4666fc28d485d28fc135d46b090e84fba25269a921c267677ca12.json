{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, withCtx as _withCtx, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"p-4\"\n};\nconst _hoisted_2 = {\n  class: \"flex gap-4 mb-4\"\n};\nconst _hoisted_3 = {\n  class: \"overflow-x-auto\"\n};\nconst _hoisted_4 = {\n  class: \"table-auto border-collapse border border-gray-300 w-full\"\n};\nconst _hoisted_5 = {\n  class: \"border px-4 py-2\"\n};\nconst _hoisted_6 = {\n  class: \"border px-4 py-2\"\n};\nconst _hoisted_7 = {\n  class: \"border px-4 py-2\"\n};\nconst _hoisted_8 = {\n  class: \"border px-4 py-2\"\n};\nconst _hoisted_9 = {\n  class: \"border px-4 py-2\"\n};\nconst _hoisted_10 = {\n  class: \"mt-6\"\n};\nconst _hoisted_11 = {\n  class: \"bg-gray-100 p-3 rounded text-sm\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createBlock($setup[\"OwnerLayout\"], null, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createCommentVNode(\" FILTER \"), _createElementVNode(\"div\", _hoisted_2, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"date\",\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.filters.startDate = $event),\n      class: \"border p-2 rounded\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.filters.startDate]]), _withDirectives(_createElementVNode(\"input\", {\n      type: \"date\",\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.filters.endDate = $event),\n      class: \"border p-2 rounded\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.filters.endDate]]), _createElementVNode(\"button\", {\n      onClick: $setup.fetchReport,\n      class: \"bg-blue-600 text-white px-4 py-2 rounded\"\n    }, \" Reload Data \")]), _createCommentVNode(\" TABEL \"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"table\", _hoisted_4, [_cache[2] || (_cache[2] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", {\n      class: \"bg-gray-100\"\n    }, [_createElementVNode(\"th\", {\n      class: \"border px-4 py-2\"\n    }, \"Tanggal\"), _createElementVNode(\"th\", {\n      class: \"border px-4 py-2\"\n    }, \"Produk\"), _createElementVNode(\"th\", {\n      class: \"border px-4 py-2\"\n    }, \"Stok Awal\"), _createElementVNode(\"th\", {\n      class: \"border px-4 py-2\"\n    }, \"Stok Akhir\"), _createElementVNode(\"th\", {\n      class: \"border px-4 py-2\"\n    }, \"Selisih\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.reportData, item => {\n      return _openBlock(), _createElementBlock(\"tr\", {\n        key: item.id\n      }, [_createElementVNode(\"td\", _hoisted_5, _toDisplayString(item.tanggal || '-'), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_6, _toDisplayString(item.product_name || '-'), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_7, _toDisplayString(item.stok_awal ?? '-'), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_8, _toDisplayString(item.stok_akhir ?? '-'), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_9, _toDisplayString(item.selisih ?? '-'), 1 /* TEXT */)]);\n    }), 128 /* KEYED_FRAGMENT */))])])]), _createCommentVNode(\" DEBUG RAW JSON (sementara biar tahu struktur dari backend) \"), _createElementVNode(\"div\", _hoisted_10, [_cache[3] || (_cache[3] = _createElementVNode(\"h2\", {\n      class: \"font-bold mb-2\"\n    }, \"Raw JSON dari Backend\", -1 /* CACHED */)), _createElementVNode(\"pre\", _hoisted_11, \"\" + _toDisplayString($setup.rawResponse) + \"\\n        \", 1 /* TEXT */)])])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createBlock","$setup","_createElementVNode","_hoisted_1","_createCommentVNode","_hoisted_2","type","filters","startDate","$event","endDate","onClick","fetchReport","_hoisted_3","_hoisted_4","_createElementBlock","_Fragment","_renderList","reportData","item","key","id","_hoisted_5","_toDisplayString","tanggal","_hoisted_6","product_name","_hoisted_7","stok_awal","_hoisted_8","stok_akhir","_hoisted_9","selisih","_hoisted_10","_hoisted_11","rawResponse"],"sources":["C:\\Users\\Personal\\Documents\\PKL\\aplikasi\\aplikasi\\src\\views\\ReportStockOpnameOwners.vue"],"sourcesContent":["<template>\n  <OwnerLayout>\n    <div class=\"p-4\">\n      <!-- FILTER -->\n      <div class=\"flex gap-4 mb-4\">\n        <input\n          type=\"date\"\n          v-model=\"filters.startDate\"\n          class=\"border p-2 rounded\"\n        />\n        <input\n          type=\"date\"\n          v-model=\"filters.endDate\"\n          class=\"border p-2 rounded\"\n        />\n        <button\n          @click=\"fetchReport\"\n          class=\"bg-blue-600 text-white px-4 py-2 rounded\"\n        >\n          Reload Data\n        </button>\n      </div>\n\n      <!-- TABEL -->\n      <div class=\"overflow-x-auto\">\n        <table class=\"table-auto border-collapse border border-gray-300 w-full\">\n          <thead>\n            <tr class=\"bg-gray-100\">\n              <th class=\"border px-4 py-2\">Tanggal</th>\n              <th class=\"border px-4 py-2\">Produk</th>\n              <th class=\"border px-4 py-2\">Stok Awal</th>\n              <th class=\"border px-4 py-2\">Stok Akhir</th>\n              <th class=\"border px-4 py-2\">Selisih</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"item in reportData\" :key=\"item.id\">\n              <td class=\"border px-4 py-2\">{{ item.tanggal || '-' }}</td>\n              <td class=\"border px-4 py-2\">{{ item.product_name || '-' }}</td>\n              <td class=\"border px-4 py-2\">{{ item.stok_awal ?? '-' }}</td>\n              <td class=\"border px-4 py-2\">{{ item.stok_akhir ?? '-' }}</td>\n              <td class=\"border px-4 py-2\">{{ item.selisih ?? '-' }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n\n      <!-- DEBUG RAW JSON (sementara biar tahu struktur dari backend) -->\n      <div class=\"mt-6\">\n        <h2 class=\"font-bold mb-2\">Raw JSON dari Backend</h2>\n        <pre class=\"bg-gray-100 p-3 rounded text-sm\">\n{{ rawResponse }}\n        </pre>\n      </div>\n    </div>\n  </OwnerLayout>\n</template>\n\n<script setup>\nimport { ref } from \"vue\";\nimport axios from \"axios\";\nimport OwnerLayout from \"./OwnerLayout.vue\"; // âœ… langsung ambil dari src/views\n\nconst filters = ref({\n  startDate: \"\",\n  endDate: \"\",\n});\n\nconst reportData = ref([]);\nconst rawResponse = ref(null);\n\nasync function fetchReport() {\n  try {\n    const response = await axios.get(\"http://localhost:8081/api/v1/history/stock-opname\", {\n      params: {\n        start_date: filters.value.startDate,\n        end_date: filters.value.endDate,\n      },\n    });\n\n    rawResponse.value = response.data; // simpan raw json untuk debug\n\n    // cek apakah backend kasih { data: [...] } atau langsung array\n    reportData.value = Array.isArray(response.data)\n      ? response.data\n      : response.data.data || [];\n  } catch (error) {\n    console.error(\"Failed to fetch report data:\", error);\n  }\n}\n\n// auto load saat pertama kali dibuka\nfetchReport();\n</script>\n"],"mappings":";;EAESA,KAAK,EAAC;AAAK;;EAETA,KAAK,EAAC;AAAiB;;EAoBvBA,KAAK,EAAC;AAAiB;;EACnBA,KAAK,EAAC;AAA0D;;EAY7DA,KAAK,EAAC;AAAkB;;EACxBA,KAAK,EAAC;AAAkB;;EACxBA,KAAK,EAAC;AAAkB;;EACxBA,KAAK,EAAC;AAAkB;;EACxBA,KAAK,EAAC;AAAkB;;EAO/BA,KAAK,EAAC;AAAM;;EAEVA,KAAK,EAAC;AAAiC;;uBAjDlDC,YAAA,CAsDcC,MAAA;sBArDZ,MAoDM,CApDNC,mBAAA,CAoDM,OApDNC,UAoDM,GAnDJC,mBAAA,YAAe,EACfF,mBAAA,CAiBM,OAjBNG,UAiBM,G,gBAhBJH,mBAAA,CAIE;MAHAI,IAAI,EAAC,MAAM;iEACFL,MAAA,CAAAM,OAAO,CAACC,SAAS,GAAAC,MAAA;MAC1BV,KAAK,EAAC;mDADGE,MAAA,CAAAM,OAAO,CAACC,SAAS,E,mBAG5BN,mBAAA,CAIE;MAHAI,IAAI,EAAC,MAAM;iEACFL,MAAA,CAAAM,OAAO,CAACG,OAAO,GAAAD,MAAA;MACxBV,KAAK,EAAC;mDADGE,MAAA,CAAAM,OAAO,CAACG,OAAO,E,GAG1BR,mBAAA,CAKS;MAJNS,OAAK,EAAEV,MAAA,CAAAW,WAAW;MACnBb,KAAK,EAAC;OACP,eAED,E,GAGFK,mBAAA,WAAc,EACdF,mBAAA,CAqBM,OArBNW,UAqBM,GApBJX,mBAAA,CAmBQ,SAnBRY,UAmBQ,G,0BAlBNZ,mBAAA,CAQQ,gBAPNA,mBAAA,CAMK;MANDH,KAAK,EAAC;IAAa,IACrBG,mBAAA,CAAyC;MAArCH,KAAK,EAAC;IAAkB,GAAC,SAAO,GACpCG,mBAAA,CAAwC;MAApCH,KAAK,EAAC;IAAkB,GAAC,QAAM,GACnCG,mBAAA,CAA2C;MAAvCH,KAAK,EAAC;IAAkB,GAAC,WAAS,GACtCG,mBAAA,CAA4C;MAAxCH,KAAK,EAAC;IAAkB,GAAC,YAAU,GACvCG,mBAAA,CAAyC;MAArCH,KAAK,EAAC;IAAkB,GAAC,SAAO,E,uBAGxCG,mBAAA,CAQQ,iB,kBAPNa,mBAAA,CAMKC,SAAA,QAAAC,WAAA,CANchB,MAAA,CAAAiB,UAAU,EAAlBC,IAAI;2BAAfJ,mBAAA,CAMK;QAN2BK,GAAG,EAAED,IAAI,CAACE;UACxCnB,mBAAA,CAA2D,MAA3DoB,UAA2D,EAAAC,gBAAA,CAA3BJ,IAAI,CAACK,OAAO,yBAC5CtB,mBAAA,CAAgE,MAAhEuB,UAAgE,EAAAF,gBAAA,CAAhCJ,IAAI,CAACO,YAAY,yBACjDxB,mBAAA,CAA6D,MAA7DyB,UAA6D,EAAAJ,gBAAA,CAA7BJ,IAAI,CAACS,SAAS,yBAC9C1B,mBAAA,CAA8D,MAA9D2B,UAA8D,EAAAN,gBAAA,CAA9BJ,IAAI,CAACW,UAAU,yBAC/C5B,mBAAA,CAA2D,MAA3D6B,UAA2D,EAAAR,gBAAA,CAA3BJ,IAAI,CAACa,OAAO,wB;0CAMpD5B,mBAAA,gEAAmE,EACnEF,mBAAA,CAKM,OALN+B,WAKM,G,0BAJJ/B,mBAAA,CAAqD;MAAjDH,KAAK,EAAC;IAAgB,GAAC,uBAAqB,qBAChDG,mBAAA,CAEM,OAFNgC,WAEM,EAFuC,EACrD,GAAAX,gBAAA,CAAGtB,MAAA,CAAAkC,WAAW,IAAG,YACT,gB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}