{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport api from \"../services/api.js\";\nexport default {\n  __name: 'LoginForm',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    const email = ref(\"\");\n    const password = ref(\"\");\n    const errorMessage = ref(\"\");\n    const handleLogin = async () => {\n      errorMessage.value = \"\";\n      try {\n        const response = await api.post(\"/auth/login\", {\n          email: email.value,\n          password: password.value\n        });\n        const {\n          token,\n          role\n        } = response.data.data;\n        localStorage.setItem(\"token\", token);\n        localStorage.setItem(\"userRole\", role);\n        switch (role) {\n          case \"OWNER\":\n            router.push(\"/dashboard-owner\");\n            break;\n          case \"KASIR\":\n            router.push(\"/dashboard-cashier\");\n            break;\n          case \"GUDANG\":\n            router.push(\"/dashboard-gudang\");\n            break;\n          case \"PEMBELIAN\":\n            router.push(\"/dashboard-pembelian\");\n            break;\n          case \"KEPALA_GUDANG\":\n            router.push(\"/dashboard-kepalagudang\");\n            break;\n          default:\n            router.push(\"/\");\n            break;\n        }\n      } catch (error) {\n        if (error.response && error.response.status === 401) {\n          errorMessage.value = \"Email atau password salah!\";\n        } else {\n          errorMessage.value = \"Terjadi kesalahan saat login. Mohon coba lagi.\";\n        }\n        console.error(\"Error saat login:\", error);\n      }\n    };\n    const __returned__ = {\n      router,\n      email,\n      password,\n      errorMessage,\n      handleLogin,\n      ref,\n      get useRouter() {\n        return useRouter;\n      },\n      get api() {\n        return api;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","useRouter","api","router","email","password","errorMessage","handleLogin","value","response","post","token","role","data","localStorage","setItem","push","error","status","console"],"sources":["C:/Users/Personal/Documents/PKL/aplikasi/aplikasi/src/views/LoginForm.vue"],"sourcesContent":["<template>\r\n  <div\r\n    class=\"min-h-screen bg-gray-50 flex items-center justify-center p-4 font-poppins\"\r\n  >\r\n    <div class=\"w-full max-w-md bg-white rounded-lg shadow-md p-6 sm:p-8\">\r\n      <!-- Header -->\r\n      <div class=\"mb-6 text-center\">\r\n        <h1 class=\"text-2xl md:text-3xl font-semibold text-gray-900\">\r\n          Welcome Back\r\n        </h1>\r\n        <p class=\"mt-2 text-sm text-gray-600\">Please sign in to your account</p>\r\n      </div>\r\n\r\n      <!-- Login Form -->\r\n      <form @submit.prevent=\"handleLogin\" class=\"space-y-4\">\r\n        <!-- Email Field -->\r\n        <div>\r\n          <label\r\n            for=\"email\"\r\n            class=\"block text-sm font-medium text-gray-700 mb-1.5\"\r\n            >Email Address</label\r\n          >\r\n          <input\r\n            id=\"email\"\r\n            v-model=\"email\"\r\n            type=\"email\"\r\n            required\r\n            placeholder=\"Enter your email\"\r\n            class=\"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition duration-200\"\r\n          />\r\n        </div>\r\n\r\n        <!-- Password Field -->\r\n        <div>\r\n          <label\r\n            for=\"password\"\r\n            class=\"block text-sm font-medium text-gray-700 mb-1.5\"\r\n            >Password</label\r\n          >\r\n          <input\r\n            id=\"password\"\r\n            v-model=\"password\"\r\n            type=\"password\"\r\n            required\r\n            placeholder=\"Enter your password\"\r\n            class=\"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition duration-200\"\r\n          />\r\n        </div>\r\n\r\n        <!-- Error Message -->\r\n        <div\r\n          v-if=\"errorMessage\"\r\n          class=\"text-sm text-red-600 bg-red-50 p-3 rounded-lg border border-red-200\"\r\n        >\r\n          {{ errorMessage }}\r\n        </div>\r\n\r\n        <!-- Submit Button -->\r\n        <div>\r\n          <button\r\n            type=\"submit\"\r\n            class=\"w-full px-4 py-2.5 bg-indigo-600 text-white font-medium rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition duration-200\"\r\n          >\r\n            Sign In\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport api from \"../services/api.js\";\r\n\r\nconst router = useRouter();\r\nconst email = ref(\"\");\r\nconst password = ref(\"\");\r\nconst errorMessage = ref(\"\");\r\n\r\nconst handleLogin = async () => {\r\n  errorMessage.value = \"\";\r\n  try {\r\n    const response = await api.post(\"/auth/login\", {\r\n      email: email.value,\r\n      password: password.value,\r\n    });\r\n    const { token, role } = response.data.data;\r\n    localStorage.setItem(\"token\", token);\r\n    localStorage.setItem(\"userRole\", role);\r\n\r\n    switch (role) {\r\n      case \"OWNER\":\r\n        router.push(\"/dashboard-owner\");\r\n        break;\r\n      case \"KASIR\":\r\n        router.push(\"/dashboard-cashier\");\r\n        break;\r\n      case \"GUDANG\":\r\n        router.push(\"/dashboard-gudang\");\r\n        break;\r\n      case \"PEMBELIAN\":\r\n        router.push(\"/dashboard-pembelian\");\r\n        break;\r\n      case \"KEPALA_GUDANG\":\r\n        router.push(\"/dashboard-kepalagudang\");\r\n        break;\r\n      default:\r\n        router.push(\"/\");\r\n        break;\r\n    }\r\n  } catch (error) {\r\n    if (error.response && error.response.status === 401) {\r\n      errorMessage.value = \"Email atau password salah!\";\r\n    } else {\r\n      errorMessage.value = \"Terjadi kesalahan saat login. Mohon coba lagi.\";\r\n    }\r\n    console.error(\"Error saat login:\", error);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Import Poppins font */\r\n@import url(\"https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap\");\r\n\r\n.font-poppins {\r\n  font-family: \"Poppins\", sans-serif;\r\n}\r\n\r\n/* Custom scrollbar for inputs */\r\ninput::-webkit-scrollbar {\r\n  width: 4px;\r\n}\r\ninput::-webkit-scrollbar-track {\r\n  background: transparent;\r\n}\r\ninput::-webkit-scrollbar-thumb {\r\n  background: rgba(255, 255, 255, 0.3);\r\n  border-radius: 10px;\r\n}\r\n</style>\r\n"],"mappings":";AAwEA,SAASA,GAAG,QAAQ,KAAK;AACzB,SAASC,SAAS,QAAQ,YAAY;AACtC,OAAOC,GAAG,MAAM,oBAAoB;;;;;;;IAEpC,MAAMC,MAAM,GAAGF,SAAS,CAAC,CAAC;IAC1B,MAAMG,KAAK,GAAGJ,GAAG,CAAC,EAAE,CAAC;IACrB,MAAMK,QAAQ,GAAGL,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMM,YAAY,GAAGN,GAAG,CAAC,EAAE,CAAC;IAE5B,MAAMO,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC9BD,YAAY,CAACE,KAAK,GAAG,EAAE;MACvB,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMP,GAAG,CAACQ,IAAI,CAAC,aAAa,EAAE;UAC7CN,KAAK,EAAEA,KAAK,CAACI,KAAK;UAClBH,QAAQ,EAAEA,QAAQ,CAACG;QACrB,CAAC,CAAC;QACF,MAAM;UAAEG,KAAK;UAAEC;QAAK,CAAC,GAAGH,QAAQ,CAACI,IAAI,CAACA,IAAI;QAC1CC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEJ,KAAK,CAAC;QACpCG,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEH,IAAI,CAAC;QAEtC,QAAQA,IAAI;UACV,KAAK,OAAO;YACVT,MAAM,CAACa,IAAI,CAAC,kBAAkB,CAAC;YAC/B;UACF,KAAK,OAAO;YACVb,MAAM,CAACa,IAAI,CAAC,oBAAoB,CAAC;YACjC;UACF,KAAK,QAAQ;YACXb,MAAM,CAACa,IAAI,CAAC,mBAAmB,CAAC;YAChC;UACF,KAAK,WAAW;YACdb,MAAM,CAACa,IAAI,CAAC,sBAAsB,CAAC;YACnC;UACF,KAAK,eAAe;YAClBb,MAAM,CAACa,IAAI,CAAC,yBAAyB,CAAC;YACtC;UACF;YACEb,MAAM,CAACa,IAAI,CAAC,GAAG,CAAC;YAChB;QACJ;MACF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACd,IAAIA,KAAK,CAACR,QAAQ,IAAIQ,KAAK,CAACR,QAAQ,CAACS,MAAM,KAAK,GAAG,EAAE;UACnDZ,YAAY,CAACE,KAAK,GAAG,4BAA4B;QACnD,CAAC,MAAM;UACLF,YAAY,CAACE,KAAK,GAAG,gDAAgD;QACvE;QACAW,OAAO,CAACF,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;MAC3C;IACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}