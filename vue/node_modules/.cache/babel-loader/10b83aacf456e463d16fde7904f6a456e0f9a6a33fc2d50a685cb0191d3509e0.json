{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport { ref, computed, onMounted } from \"vue\";\nimport axios from \"axios\";\nimport OwnerLayout from \"@/layouts/OwnerLayout.vue\";\nexport default {\n  __name: 'StockSnapshotOwners',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const products = ref([]);\n    const loading = ref(true);\n    const search = ref(\"\");\n\n    // Langsung set axios baseURL & token di sini\n    const api = axios.create({\n      baseURL: \"http://localhost:8080/api/v1\",\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    });\n    const filteredProducts = computed(() => products.value.filter(p => p.name.toLowerCase().includes(search.value.toLowerCase())));\n    onMounted(async () => {\n      try {\n        const res = await api.get(\"/products\");\n        products.value = res.data.data || [];\n      } catch (err) {\n        console.error(\"Gagal fetch products:\", err);\n      } finally {\n        loading.value = false;\n      }\n    });\n    const __returned__ = {\n      products,\n      loading,\n      search,\n      api,\n      filteredProducts,\n      ref,\n      computed,\n      onMounted,\n      get axios() {\n        return axios;\n      },\n      OwnerLayout\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","axios","OwnerLayout","products","loading","search","api","create","baseURL","headers","Authorization","localStorage","getItem","filteredProducts","value","filter","p","name","toLowerCase","includes","res","get","data","err","console","error"],"sources":["C:/Users/Personal/Documents/PKL/aplikasi/aplikasi/src/views/StockSnapshotOwners.vue"],"sourcesContent":["<template>\n  <OwnerLayout>\n    <div class=\"p-6\">\n      <h1 class=\"text-2xl font-bold mb-4\">Stock Snapshot</h1>\n\n      <input\n        v-model=\"search\"\n        placeholder=\"Cari produk...\"\n        class=\"border px-3 py-2 mb-4 w-full rounded\"\n      />\n\n      <table class=\"w-full border\">\n        <thead class=\"bg-gray-100\">\n          <tr>\n            <th class=\"border p-2 text-left\">Nama Produk</th>\n            <th class=\"border p-2 text-left\">Kategori</th>\n            <th class=\"border p-2 text-left\">Stok</th>\n            <th class=\"border p-2 text-left\">Satuan</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-if=\"loading\">\n            <td colspan=\"4\" class=\"text-center p-4\">Loading...</td>\n          </tr>\n          <tr v-for=\"item in filteredProducts\" :key=\"item.id\">\n            <td class=\"border p-2\">{{ item.name }}</td>\n            <td class=\"border p-2\">{{ item.category?.name || '-' }}</td>\n            <td class=\"border p-2\">{{ item.stock }}</td>\n            <td class=\"border p-2\">{{ item.unit?.name || '-' }}</td>\n          </tr>\n          <tr v-if=\"!loading && filteredProducts.length === 0\">\n            <td colspan=\"4\" class=\"text-center p-4\">Tidak ada data</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </OwnerLayout>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted } from \"vue\";\nimport axios from \"axios\";\nimport OwnerLayout from \"@/layouts/OwnerLayout.vue\";\n\nconst products = ref([]);\nconst loading = ref(true);\nconst search = ref(\"\");\n\n// Langsung set axios baseURL & token di sini\nconst api = axios.create({\n  baseURL: \"http://localhost:8080/api/v1\",\n  headers: {\n    Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n  },\n});\n\nconst filteredProducts = computed(() =>\n  products.value.filter((p) =>\n    p.name.toLowerCase().includes(search.value.toLowerCase())\n  )\n);\n\nonMounted(async () => {\n  try {\n    const res = await api.get(\"/products\");\n    products.value = res.data.data || [];\n  } catch (err) {\n    console.error(\"Gagal fetch products:\", err);\n  } finally {\n    loading.value = false;\n  }\n});\n</script>\n"],"mappings":";;AAwCA,SAASA,GAAG,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,KAAK;AAC9C,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,WAAW,MAAM,2BAA2B;;;;;;;IAEnD,MAAMC,QAAQ,GAAGL,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMM,OAAO,GAAGN,GAAG,CAAC,IAAI,CAAC;IACzB,MAAMO,MAAM,GAAGP,GAAG,CAAC,EAAE,CAAC;;IAEtB;IACA,MAAMQ,GAAG,GAAGL,KAAK,CAACM,MAAM,CAAC;MACvBC,OAAO,EAAE,8BAA8B;MACvCC,OAAO,EAAE;QACPC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MACxD;IACF,CAAC,CAAC;IAEF,MAAMC,gBAAgB,GAAGd,QAAQ,CAAC,MAChCI,QAAQ,CAACW,KAAK,CAACC,MAAM,CAAEC,CAAC,IACtBA,CAAC,CAACC,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACd,MAAM,CAACS,KAAK,CAACI,WAAW,CAAC,CAAC,CAC1D,CACF,CAAC;IAEDlB,SAAS,CAAC,YAAY;MACpB,IAAI;QACF,MAAMoB,GAAG,GAAG,MAAMd,GAAG,CAACe,GAAG,CAAC,WAAW,CAAC;QACtClB,QAAQ,CAACW,KAAK,GAAGM,GAAG,CAACE,IAAI,CAACA,IAAI,IAAI,EAAE;MACtC,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAEF,GAAG,CAAC;MAC7C,CAAC,SAAS;QACRnB,OAAO,CAACU,KAAK,GAAG,KAAK;MACvB;IACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}