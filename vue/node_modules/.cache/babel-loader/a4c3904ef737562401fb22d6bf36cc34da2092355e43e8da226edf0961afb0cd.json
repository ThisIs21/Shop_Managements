{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"relative flex items-center justify-center min-h-screen bg-cover bg-center\",\n  style: {\n    backgroundImage: `url('/images/mountain-bg.jpg')`\n  }\n};\nconst _hoisted_2 = {\n  class: \"relative w-full max-w-md p-8 rounded-2xl shadow-xl bg-white/10 backdrop-blur-md border border-white/20 text-white\"\n};\nconst _hoisted_3 = {\n  class: \"flex justify-center\"\n};\nconst _hoisted_4 = {\n  class: \"flex justify-center\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"text-red-400 text-sm text-center font-medium\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Overlay gelap tipis \"), _cache[5] || (_cache[5] = _createElementVNode(\"div\", {\n    class: \"absolute inset-0 bg-black bg-opacity-40 backdrop-blur-sm\"\n  }, null, -1 /* CACHED */)), _createCommentVNode(\" Card Login \"), _createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\" Judul \"), _cache[3] || (_cache[3] = _createElementVNode(\"h2\", {\n    class: \"text-2xl font-bold text-center\"\n  }, \"Selamat Datang!\", -1 /* CACHED */)), _cache[4] || (_cache[4] = _createElementVNode(\"p\", {\n    class: \"text-sm text-gray-200 text-center mt-1\"\n  }, \" Silakan login untuk melanjutkan \", -1 /* CACHED */)), _createCommentVNode(\" Form \"), _createElementVNode(\"form\", {\n    onSubmit: _withModifiers($setup.handleLogin, [\"prevent\"]),\n    class: \"mt-8 space-y-5\"\n  }, [_createCommentVNode(\" Email \"), _createElementVNode(\"div\", _hoisted_3, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.email = $event),\n    type: \"email\",\n    placeholder: \"Email\",\n    required: \"\",\n    class: \"w-72 h-12 px-4 rounded-lg border border-white/30 bg-white/20 text-white placeholder-gray-300 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 backdrop-blur-sm transition\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.email]])]), _createCommentVNode(\" Password \"), _createElementVNode(\"div\", _hoisted_4, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.password = $event),\n    type: \"password\",\n    placeholder: \"Kata Sandi\",\n    required: \"\",\n    class: \"w-72 h-12 px-4 rounded-lg border border-white/30 bg-white/20 text-white placeholder-gray-300 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 backdrop-blur-sm transition\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.password]])]), _createCommentVNode(\" Error Message \"), $setup.errorMessage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _toDisplayString($setup.errorMessage), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Button \"), _cache[2] || (_cache[2] = _createElementVNode(\"div\", null, [_createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition\"\n  }, \" Masuk \")], -1 /* CACHED */))], 32 /* NEED_HYDRATION */)])]);\n}","map":{"version":3,"names":["class","style","backgroundImage","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","onSubmit","_withModifiers","$setup","handleLogin","_hoisted_3","email","$event","type","placeholder","required","_hoisted_4","password","errorMessage","_hoisted_5","_toDisplayString"],"sources":["C:\\Users\\Personal\\Documents\\PKL\\aplikasi\\aplikasi\\src\\components\\AppLogin.vue"],"sourcesContent":["<template>\n  <div\n    class=\"relative flex items-center justify-center min-h-screen bg-cover bg-center\"\n    :style=\"{ backgroundImage: `url('/images/mountain-bg.jpg')` }\"\n  >\n    <!-- Overlay gelap tipis -->\n    <div class=\"absolute inset-0 bg-black bg-opacity-40 backdrop-blur-sm\"></div>\n\n    <!-- Card Login -->\n    <div\n      class=\"relative w-full max-w-md p-8 rounded-2xl shadow-xl bg-white/10 backdrop-blur-md border border-white/20 text-white\"\n    >\n      <!-- Judul -->\n      <h2 class=\"text-2xl font-bold text-center\">Selamat Datang!</h2>\n      <p class=\"text-sm text-gray-200 text-center mt-1\">\n        Silakan login untuk melanjutkan\n      </p>\n\n      <!-- Form -->\n      <form @submit.prevent=\"handleLogin\" class=\"mt-8 space-y-5\">\n        <!-- Email -->\n        <div class=\"flex justify-center\">\n          <input\n            v-model=\"email\"\n            type=\"email\"\n            placeholder=\"Email\"\n            required\n            class=\"w-72 h-12 px-4 rounded-lg border border-white/30 bg-white/20 text-white placeholder-gray-300 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 backdrop-blur-sm transition\"\n          />\n        </div>\n\n        <!-- Password -->\n        <div class=\"flex justify-center\">\n          <input\n            v-model=\"password\"\n            type=\"password\"\n            placeholder=\"Kata Sandi\"\n            required\n            class=\"w-72 h-12 px-4 rounded-lg border border-white/30 bg-white/20 text-white placeholder-gray-300 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 backdrop-blur-sm transition\"\n          />\n        </div>\n\n        <!-- Error Message -->\n        <div\n          v-if=\"errorMessage\"\n          class=\"text-red-400 text-sm text-center font-medium\"\n        >\n          {{ errorMessage }}\n        </div>\n\n        <!-- Button -->\n        <div>\n          <button\n            type=\"submit\"\n            class=\"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition\"\n          >\n            Masuk\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport api from \"../services/api.js\";\n\nconst router = useRouter();\n\nconst email = ref(\"\");\nconst password = ref(\"\");\nconst errorMessage = ref(\"\");\n\nconst handleLogin = async () => {\n  errorMessage.value = \"\";\n  try {\n    const response = await api.post(\"/auth/login\", {\n      email: email.value,\n      password: password.value,\n    });\n\n    const { token, role } = response.data.data;\n    localStorage.setItem(\"token\", token);\n    localStorage.setItem(\"userRole\", role);\n\n    switch (role) {\n      case \"OWNER\":\n        router.push(\"/dashboard-owner\");\n        break;\n      case \"KASIR\":\n        router.push(\"/dashboard-cashier\");\n        break;\n      case \"GUDANG\":\n        router.push(\"/dashboard-gudang\");\n        break;\n      case \"PEMBELIAN\":\n        router.push(\"/dashboard-pembelian\");\n        break;\n      case \"KEPALA_GUDANG\":\n        router.push(\"/dashboard-kepalagudang\");\n        break;\n      default:\n        router.push(\"/\");\n        break;\n    }\n  } catch (error) {\n    if (error.response && error.response.status === 401) {\n      errorMessage.value = \"Email atau password salah!\";\n    } else {\n      errorMessage.value = \"Terjadi kesalahan saat login. Mohon coba lagi.\";\n    }\n    console.error(\"Error saat login:\", error);\n  }\n};\n</script>\n\n<style scoped>\n.font-inter {\n  font-family: Inter, \"Noto Sans\", sans-serif;\n}\n</style>\n"],"mappings":";;EAEIA,KAAK,EAAC,2EAA2E;EAChFC,KAAK,EAAE;IAAAC,eAAA;EAAA;;;EAONF,KAAK,EAAC;AAAmH;;EAWlHA,KAAK,EAAC;AAAqB;;EAW3BA,KAAK,EAAC;AAAqB;;;EAa9BA,KAAK,EAAC;;;uBA5CdG,mBAAA,CA4DM,OA5DNC,UA4DM,GAxDJC,mBAAA,yBAA4B,E,0BAC5BC,mBAAA,CAA4E;IAAvEN,KAAK,EAAC;EAA0D,4BAErEK,mBAAA,gBAAmB,EACnBC,mBAAA,CAmDM,OAnDNC,UAmDM,GAhDJF,mBAAA,WAAc,E,0BACdC,mBAAA,CAA+D;IAA3DN,KAAK,EAAC;EAAgC,GAAC,iBAAe,qB,0BAC1DM,mBAAA,CAEI;IAFDN,KAAK,EAAC;EAAwC,GAAC,mCAElD,qBAEAK,mBAAA,UAAa,EACbC,mBAAA,CAwCO;IAxCAE,QAAM,EAAAC,cAAA,CAAUC,MAAA,CAAAC,WAAW;IAAEX,KAAK,EAAC;MACxCK,mBAAA,WAAc,EACdC,mBAAA,CAQM,OARNM,UAQM,G,gBAPJN,mBAAA,CAME;+DALSI,MAAA,CAAAG,KAAK,GAAAC,MAAA;IACdC,IAAI,EAAC,OAAO;IACZC,WAAW,EAAC,OAAO;IACnBC,QAAQ,EAAR,EAAQ;IACRjB,KAAK,EAAC;iDAJGU,MAAA,CAAAG,KAAK,E,KAQlBR,mBAAA,cAAiB,EACjBC,mBAAA,CAQM,OARNY,UAQM,G,gBAPJZ,mBAAA,CAME;+DALSI,MAAA,CAAAS,QAAQ,GAAAL,MAAA;IACjBC,IAAI,EAAC,UAAU;IACfC,WAAW,EAAC,YAAY;IACxBC,QAAQ,EAAR,EAAQ;IACRjB,KAAK,EAAC;iDAJGU,MAAA,CAAAS,QAAQ,E,KAQrBd,mBAAA,mBAAsB,EAEdK,MAAA,CAAAU,YAAY,I,cADpBjB,mBAAA,CAKM,OALNkB,UAKM,EAAAC,gBAAA,CADDZ,MAAA,CAAAU,YAAY,oB,mCAGjBf,mBAAA,YAAe,E,0BACfC,mBAAA,CAOM,cANJA,mBAAA,CAKS;IAJPS,IAAI,EAAC,QAAQ;IACbf,KAAK,EAAC;KACP,SAED,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}