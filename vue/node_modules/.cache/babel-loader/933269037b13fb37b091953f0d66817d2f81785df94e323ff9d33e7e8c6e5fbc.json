{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport { ref, onMounted } from 'vue';\nimport OwnerLayouts from '../components/OwnerLayouts.vue';\nimport axios from 'axios';\nimport { useRouter } from 'vue-router';\nexport default {\n  __name: 'AddProductOwner',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    const product = ref({\n      name: '',\n      code: '',\n      description: '',\n      cost_price: null,\n      sell_price: null,\n      stock: 0,\n      category_id: null,\n      unit_id: null,\n      supplier_id: null\n    });\n    const categories = ref([]);\n    const units = ref([]);\n    const suppliers = ref([]);\n    const fetchData = async () => {\n      const token = localStorage.getItem('token');\n      if (!token) return;\n      try {\n        const [catRes, unitRes, supRes] = await Promise.all([axios.get('http://192.168.100.111:8081/api/v1/categories', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        }), axios.get('http://192.168.100.111:8081/api/v1/units', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        }), axios.get('http://192.168.100.111:8081/api/v1/suppliers', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        })]);\n        categories.value = catRes.data.data.map(c => ({\n          id: c.ID,\n          name: c.Name\n        }));\n        units.value = unitRes.data.data.map(u => ({\n          id: u.ID,\n          name: u.Name\n        }));\n        suppliers.value = supRes.data.data.map(s => ({\n          id: s.ID,\n          name: s.Name\n        }));\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    const createProduct = async () => {\n      const token = localStorage.getItem('token');\n      if (!token) return alert('Please login');\n      try {\n        await axios.post('http://192.168.100.111:8081/api/v1/products', product.value, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        alert('Product added');\n        router.push('/management-product');\n      } catch (err) {\n        console.error(err);\n        alert('Failed to add product');\n      }\n    };\n    onMounted(() => fetchData());\n    const __returned__ = {\n      router,\n      product,\n      categories,\n      units,\n      suppliers,\n      fetchData,\n      createProduct,\n      ref,\n      onMounted,\n      OwnerLayouts,\n      get axios() {\n        return axios;\n      },\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","OwnerLayouts","axios","useRouter","router","product","name","code","description","cost_price","sell_price","stock","category_id","unit_id","supplier_id","categories","units","suppliers","fetchData","token","localStorage","getItem","catRes","unitRes","supRes","Promise","all","get","headers","Authorization","value","data","map","c","id","ID","Name","u","s","err","console","error","createProduct","alert","post","push"],"sources":["C:/Users/SPC STYLE 5/aplikasi/src/views/AddProductOwner.vue"],"sourcesContent":["<template>\n  <OwnerLayouts>\n    <div class=\"flex flex-1 flex-col py-5 p-8\">\n      <div class=\"layout-content-container flex flex-col flex-1\">\n        <form @submit.prevent=\"createProduct\" class=\"flex flex-col flex-1\">\n\n          <!-- Header -->\n          <div class=\"flex flex-wrap justify-between gap-3 p-4\">\n            <div class=\"flex flex-col gap-3\">\n              <p class=\"text-[#111418] tracking-light text-[32px] font-bold leading-tight\">\n                Add Product\n              </p>\n            </div>\n          </div>\n\n          <!-- Form Inputs -->\n          <div class=\"flex flex-col gap-4 p-4\">\n            <div>\n              <label>Product Name</label>\n              <input type=\"text\" v-model=\"product.name\" class=\"w-full border p-2 rounded\" required />\n            </div>\n\n            <div>\n              <label>Product Code</label>\n              <input type=\"text\" v-model=\"product.code\" class=\"w-full border p-2 rounded\" />\n            </div>\n\n            <div>\n              <label>Description</label>\n              <textarea v-model=\"product.description\" class=\"w-full border p-2 rounded\"></textarea>\n            </div>\n\n            <div>\n              <label>Purchase Price</label>\n              <input type=\"number\" v-model.number=\"product.cost_price\" class=\"w-full border p-2 rounded\" required />\n            </div>\n\n            <div>\n              <label>Selling Price</label>\n              <input type=\"number\" v-model.number=\"product.sell_price\" class=\"w-full border p-2 rounded\" required />\n            </div>\n\n            <div>\n              <label>Stock</label>\n              <input type=\"number\" v-model.number=\"product.stock\" class=\"w-full border p-2 rounded\" />\n            </div>\n\n            <!-- Dropdowns -->\n            <div>\n              <label>Category</label>\n              <select v-model.number=\"product.category_id\" class=\"w-full border p-2 rounded\" required>\n                <option disabled value=\"\">Select category</option>\n                <option v-for=\"cat in categories\" :key=\"cat.id\" :value=\"cat.id\">{{ cat.name }}</option>\n              </select>\n            </div>\n\n            <div>\n              <label>Unit</label>\n              <select v-model.number=\"product.unit_id\" class=\"w-full border p-2 rounded\" required>\n                <option disabled value=\"\">Select unit</option>\n                <option v-for=\"unit in units\" :key=\"unit.id\" :value=\"unit.id\">{{ unit.name }}</option>\n              </select>\n            </div>\n\n            <div>\n              <label>Supplier</label>\n              <select v-model.number=\"product.supplier_id\" class=\"w-full border p-2 rounded\" required>\n                <option disabled value=\"\">Select supplier</option>\n                <option v-for=\"sup in suppliers\" :key=\"sup.id\" :value=\"sup.id\">{{ sup.name }}</option>\n              </select>\n            </div>\n\n          </div>\n\n          <!-- Buttons -->\n          <div class=\"flex justify-end p-4 gap-3\">\n            <router-link to=\"/management-product\">\n              <button type=\"button\" class=\"bg-gray-300 px-4 py-2 rounded\">Cancel</button>\n            </router-link>\n            <button type=\"submit\" class=\"bg-blue-500 text-white px-4 py-2 rounded\">Save</button>\n          </div>\n\n        </form>\n      </div>\n    </div>\n  </OwnerLayouts>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport OwnerLayouts from '../components/OwnerLayouts.vue'\nimport axios from 'axios'\nimport { useRouter } from 'vue-router'\n\nconst router = useRouter()\n\nconst product = ref({\n  name: '',\n  code: '',\n  description: '',\n  cost_price: null,\n  sell_price: null,\n  stock: 0,\n  category_id: null,\n  unit_id: null,\n  supplier_id: null\n})\n\nconst categories = ref([])\nconst units = ref([])\nconst suppliers = ref([])\n\nconst fetchData = async () => {\n  const token = localStorage.getItem('token')\n  if (!token) return\n\n  try {\n    const [catRes, unitRes, supRes] = await Promise.all([\n      axios.get('http://192.168.100.111:8081/api/v1/categories', { headers: { Authorization: `Bearer ${token}` } }),\n      axios.get('http://192.168.100.111:8081/api/v1/units', { headers: { Authorization: `Bearer ${token}` } }),\n      axios.get('http://192.168.100.111:8081/api/v1/suppliers', { headers: { Authorization: `Bearer ${token}` } })\n    ])\n\n    categories.value = catRes.data.data.map(c => ({ id: c.ID, name: c.Name }))\n    units.value = unitRes.data.data.map(u => ({ id: u.ID, name: u.Name }))\n    suppliers.value = supRes.data.data.map(s => ({ id: s.ID, name: s.Name }))\n  } catch (err) {\n    console.error(err)\n  }\n}\n\nconst createProduct = async () => {\n  const token = localStorage.getItem('token')\n  if (!token) return alert('Please login')\n\n  try {\n    await axios.post('http://192.168.100.111:8081/api/v1/products', product.value, {\n      headers: { Authorization: `Bearer ${token}` }\n    })\n    alert('Product added')\n    router.push('/management-product')\n  } catch (err) {\n    console.error(err)\n    alert('Failed to add product')\n  }\n}\n\nonMounted(() => fetchData())\n</script>\n\n<style scoped>\n/* Opsional styling */\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}