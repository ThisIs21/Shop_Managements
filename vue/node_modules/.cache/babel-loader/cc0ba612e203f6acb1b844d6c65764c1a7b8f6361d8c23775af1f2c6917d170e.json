{"ast":null,"code":"import { ref, watch } from \"vue\";\nimport axios from \"axios\";\nexport default {\n  __name: 'CashierPage',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const products = ref([]);\n    const search = ref(\"\");\n    const category = ref(\"\");\n    const minPrice = ref(\"\");\n    const maxPrice = ref(\"\");\n\n    // âœ… Ambil produk dari backend\n    const fetchProducts = async () => {\n      try {\n        const res = await axios.get(\"http://localhost:8080/products\", {\n          params: {\n            search: search.value,\n            category: category.value,\n            min_price: minPrice.value,\n            max_price: maxPrice.value\n          }\n        });\n        products.value = res.data.data; // karena utils.OK kirim { data: ... }\n      } catch (err) {\n        console.error(\"Gagal ambil produk:\", err);\n      }\n    };\n\n    // ðŸ”„ fetch pertama kali\n    fetchProducts();\n\n    // ðŸ‘€ Auto fetch kalau filter berubah\n    watch([search, category, minPrice, maxPrice], () => {\n      fetchProducts();\n    });\n\n    // ðŸ’° format rupiah\n    const formatPrice = num => {\n      return new Intl.NumberFormat(\"id-ID\").format(num);\n    };\n    const __returned__ = {\n      products,\n      search,\n      category,\n      minPrice,\n      maxPrice,\n      fetchProducts,\n      formatPrice,\n      ref,\n      watch,\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","watch","axios","products","search","category","minPrice","maxPrice","fetchProducts","res","get","params","value","min_price","max_price","data","err","console","error","formatPrice","num","Intl","NumberFormat","format"],"sources":["C:/Users/SPC STYLE 5/aplikasi/src/views/CashierPage.vue"],"sourcesContent":["<template>\n  <div class=\"p-6\">\n    <h1 class=\"text-2xl font-bold mb-4\">Daftar Produk</h1>\n\n    <!-- ðŸ” Filter & Search -->\n    <div class=\"flex items-center gap-4 mb-6\">\n      <input\n        v-model=\"search\"\n        type=\"text\"\n        placeholder=\"Cari produk...\"\n        class=\"border rounded px-3 py-2 w-64\"\n      />\n\n      <select v-model=\"category\" class=\"border rounded px-3 py-2\">\n        <option value=\"\">Semua Kategori</option>\n        <option value=\"1\">Makanan</option>\n        <option value=\"2\">Minuman</option>\n        <option value=\"3\">Lainnya</option>\n      </select>\n\n      <input\n        v-model=\"minPrice\"\n        type=\"number\"\n        placeholder=\"Harga min\"\n        class=\"border rounded px-3 py-2 w-32\"\n      />\n\n      <input\n        v-model=\"maxPrice\"\n        type=\"number\"\n        placeholder=\"Harga max\"\n        class=\"border rounded px-3 py-2 w-32\"\n      />\n    </div>\n\n    <!-- ðŸ“¦ Tabel Produk -->\n    <table class=\"w-full border-collapse border border-gray-300\">\n      <thead>\n        <tr class=\"bg-gray-100\">\n          <th class=\"border p-2\">ID</th>\n          <th class=\"border p-2\">Nama</th>\n          <th class=\"border p-2\">Kategori</th>\n          <th class=\"border p-2\">Harga</th>\n          <th class=\"border p-2\">Stok</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"p in products\" :key=\"p.id\">\n          <td class=\"border p-2\">{{ p.id }}</td>\n          <td class=\"border p-2\">{{ p.name }}</td>\n          <td class=\"border p-2\">{{ p.category?.name || \"-\" }}</td>\n          <td class=\"border p-2\">Rp {{ formatPrice(p.sell_price) }}</td>\n          <td class=\"border p-2\">{{ p.stock }}</td>\n        </tr>\n      </tbody>\n    </table>\n\n    <div v-if=\"products.length === 0\" class=\"text-gray-500 mt-4\">\n      Tidak ada produk ditemukan.\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, watch } from \"vue\";\nimport axios from \"axios\";\n\nconst products = ref([]);\nconst search = ref(\"\");\nconst category = ref(\"\");\nconst minPrice = ref(\"\");\nconst maxPrice = ref(\"\");\n\n// âœ… Ambil produk dari backend\nconst fetchProducts = async () => {\n  try {\n    const res = await axios.get(\"http://localhost:8080/products\", {\n      params: {\n        search: search.value,\n        category: category.value,\n        min_price: minPrice.value,\n        max_price: maxPrice.value,\n      },\n    });\n    products.value = res.data.data; // karena utils.OK kirim { data: ... }\n  } catch (err) {\n    console.error(\"Gagal ambil produk:\", err);\n  }\n};\n\n// ðŸ”„ fetch pertama kali\nfetchProducts();\n\n// ðŸ‘€ Auto fetch kalau filter berubah\nwatch([search, category, minPrice, maxPrice], () => {\n  fetchProducts();\n});\n\n// ðŸ’° format rupiah\nconst formatPrice = (num) => {\n  return new Intl.NumberFormat(\"id-ID\").format(num);\n};\n</script>\n\n<style scoped>\ntable {\n  text-align: left;\n}\n</style>"],"mappings":"AAgEA,SAASA,GAAG,EAAEC,KAAK,QAAQ,KAAK;AAChC,OAAOC,KAAK,MAAM,OAAO;;;;;;;IAEzB,MAAMC,QAAQ,GAAGH,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMI,MAAM,GAAGJ,GAAG,CAAC,EAAE,CAAC;IACtB,MAAMK,QAAQ,GAAGL,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMM,QAAQ,GAAGN,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMO,QAAQ,GAAGP,GAAG,CAAC,EAAE,CAAC;;IAExB;IACA,MAAMQ,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI;QACF,MAAMC,GAAG,GAAG,MAAMP,KAAK,CAACQ,GAAG,CAAC,gCAAgC,EAAE;UAC5DC,MAAM,EAAE;YACNP,MAAM,EAAEA,MAAM,CAACQ,KAAK;YACpBP,QAAQ,EAAEA,QAAQ,CAACO,KAAK;YACxBC,SAAS,EAAEP,QAAQ,CAACM,KAAK;YACzBE,SAAS,EAAEP,QAAQ,CAACK;UACtB;QACF,CAAC,CAAC;QACFT,QAAQ,CAACS,KAAK,GAAGH,GAAG,CAACM,IAAI,CAACA,IAAI,CAAC,CAAC;MAClC,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,qBAAqB,EAAEF,GAAG,CAAC;MAC3C;IACF,CAAC;;IAED;IACAR,aAAa,CAAC,CAAC;;IAEf;IACAP,KAAK,CAAC,CAACG,MAAM,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,CAAC,EAAE,MAAM;MAClDC,aAAa,CAAC,CAAC;IACjB,CAAC,CAAC;;IAEF;IACA,MAAMW,WAAW,GAAIC,GAAG,IAAK;MAC3B,OAAO,IAAIC,IAAI,CAACC,YAAY,CAAC,OAAO,CAAC,CAACC,MAAM,CAACH,GAAG,CAAC;IACnD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}