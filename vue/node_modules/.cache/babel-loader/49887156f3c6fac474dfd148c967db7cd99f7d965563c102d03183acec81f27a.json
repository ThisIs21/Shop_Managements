{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = {\n  key: 1\n};\nconst _hoisted_3 = {\n  class: \"table-auto w-full border\"\n};\nconst _hoisted_4 = {\n  class: \"p-2 border\"\n};\nconst _hoisted_5 = {\n  class: \"p-2 border\"\n};\nconst _hoisted_6 = {\n  class: \"p-2 border\"\n};\nconst _hoisted_7 = {\n  class: \"p-2 border\"\n};\nconst _hoisted_8 = {\n  class: \"p-2 border\"\n};\nconst _hoisted_9 = [\"onClick\"];\nconst _hoisted_10 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_CashierLayouts = _resolveComponent(\"CashierLayouts\");\n  return _openBlock(), _createBlock(_component_CashierLayouts, null, {\n    default: _withCtx(() => [_createElementVNode(\"div\", null, [_cache[1] || (_cache[1] = _createElementVNode(\"h2\", {\n      class: \"text-xl font-bold mb-4\"\n    }, \"Daftar Pengajuan Return\", -1 /* CACHED */)), $setup.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, \"Loading...\")) : (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createElementVNode(\"table\", _hoisted_3, [_cache[0] || (_cache[0] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", {\n      class: \"bg-gray-100\"\n    }, [_createElementVNode(\"th\", {\n      class: \"p-2 border\"\n    }, \"ID\"), _createElementVNode(\"th\", {\n      class: \"p-2 border\"\n    }, \"Kasir\"), _createElementVNode(\"th\", {\n      class: \"p-2 border\"\n    }, \"Total\"), _createElementVNode(\"th\", {\n      class: \"p-2 border\"\n    }, \"Status\"), _createElementVNode(\"th\", {\n      class: \"p-2 border\"\n    }, \"Aksi\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.saleReturns, r => {\n      return _openBlock(), _createElementBlock(\"tr\", {\n        key: r.id\n      }, [_createElementVNode(\"td\", _hoisted_4, _toDisplayString(r.id), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_5, _toDisplayString(r.created_by), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_6, _toDisplayString(r.total), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_7, _toDisplayString(r.status), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_8, [r.status === 'PENDING' ? (_openBlock(), _createElementBlock(\"button\", {\n        key: 0,\n        class: \"px-2 py-1 bg-green-500 text-white rounded mr-2\",\n        onClick: $event => $setup.approveReturn(r.id)\n      }, \" Setujui \", 8 /* PROPS */, _hoisted_9)) : _createCommentVNode(\"v-if\", true), r.status === 'PENDING' ? (_openBlock(), _createElementBlock(\"button\", {\n        key: 1,\n        class: \"px-2 py-1 bg-red-500 text-white rounded\",\n        onClick: $event => $setup.rejectReturn(r.id)\n      }, \" Tolak \", 8 /* PROPS */, _hoisted_10)) : _createCommentVNode(\"v-if\", true)])]);\n    }), 128 /* KEYED_FRAGMENT */))])])]))])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createBlock","_component_CashierLayouts","_createElementVNode","$setup","loading","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_Fragment","_renderList","saleReturns","r","key","id","_hoisted_4","_toDisplayString","_hoisted_5","created_by","_hoisted_6","total","_hoisted_7","status","_hoisted_8","onClick","$event","approveReturn","_hoisted_9","rejectReturn","_hoisted_10"],"sources":["C:\\Users\\Personal\\Documents\\PKL\\aplikasi\\aplikasi\\src\\views\\ReturnApprovalOwners.vue"],"sourcesContent":["<template>\n  <CashierLayouts>\n    <div>\n      <h2 class=\"text-xl font-bold mb-4\">Daftar Pengajuan Return</h2>\n\n      <div v-if=\"loading\">Loading...</div>\n      <div v-else>\n        <table class=\"table-auto w-full border\">\n          <thead>\n            <tr class=\"bg-gray-100\">\n              <th class=\"p-2 border\">ID</th>\n              <th class=\"p-2 border\">Kasir</th>\n              <th class=\"p-2 border\">Total</th>\n              <th class=\"p-2 border\">Status</th>\n              <th class=\"p-2 border\">Aksi</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"r in saleReturns\" :key=\"r.id\">\n              <td class=\"p-2 border\">{{ r.id }}</td>\n              <td class=\"p-2 border\">{{ r.created_by }}</td>\n              <td class=\"p-2 border\">{{ r.total }}</td>\n              <td class=\"p-2 border\">{{ r.status }}</td>\n              <td class=\"p-2 border\">\n                <button\n                  v-if=\"r.status === 'PENDING'\"\n                  class=\"px-2 py-1 bg-green-500 text-white rounded mr-2\"\n                  @click=\"approveReturn(r.id)\"\n                >\n                  Setujui\n                </button>\n                <button\n                  v-if=\"r.status === 'PENDING'\"\n                  class=\"px-2 py-1 bg-red-500 text-white rounded\"\n                  @click=\"rejectReturn(r.id)\"\n                >\n                  Tolak\n                </button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </CashierLayouts>\n</template>\n\n<script setup>\nimport { ref, onMounted } from \"vue\";\nimport api from \"@/utils/api\";\n\nconst saleReturns = ref([]);\nconst loading = ref(false);\n\nconst fetchReturns = async () => {\n  loading.value = true;\n  try {\n    const response = await api.get(\"/owner/sale-returns\");\n    saleReturns.value = response.data.data || [];\n  } finally {\n    loading.value = false;\n  }\n};\n\nconst approveReturn = async (id) => {\n  try {\n    await api.post(`/owner/sale-returns/${id}/approve`);\n    await fetchReturns(); // refresh setelah approve\n  } catch (err) {\n    console.error(\"Gagal approve:\", err);\n  }\n};\n\nconst rejectReturn = async (id) => {\n  try {\n    await api.post(`/owner/sale-returns/${id}/reject`);\n    await fetchReturns(); // refresh setelah reject\n  } catch (err) {\n    console.error(\"Gagal reject:\", err);\n  }\n};\n\nonMounted(fetchReturns);\n</script>\n"],"mappings":";;;;;;;;EAOeA,KAAK,EAAC;AAA0B;;EAY7BA,KAAK,EAAC;AAAY;;EAClBA,KAAK,EAAC;AAAY;;EAClBA,KAAK,EAAC;AAAY;;EAClBA,KAAK,EAAC;AAAY;;EAClBA,KAAK,EAAC;AAAY;;;;;uBAtBlCC,YAAA,CA2CiBC,yBAAA;sBA1Cf,MAyCM,CAzCNC,mBAAA,CAyCM,c,0BAxCJA,mBAAA,CAA+D;MAA3DH,KAAK,EAAC;IAAwB,GAAC,yBAAuB,qBAE/CI,MAAA,CAAAC,OAAO,I,cAAlBC,mBAAA,CAAoC,OAAAC,UAAA,EAAhB,YAAU,M,cAC9BD,mBAAA,CAoCM,OAAAE,UAAA,GAnCJL,mBAAA,CAkCQ,SAlCRM,UAkCQ,G,0BAjCNN,mBAAA,CAQQ,gBAPNA,mBAAA,CAMK;MANDH,KAAK,EAAC;IAAa,IACrBG,mBAAA,CAA8B;MAA1BH,KAAK,EAAC;IAAY,GAAC,IAAE,GACzBG,mBAAA,CAAiC;MAA7BH,KAAK,EAAC;IAAY,GAAC,OAAK,GAC5BG,mBAAA,CAAiC;MAA7BH,KAAK,EAAC;IAAY,GAAC,OAAK,GAC5BG,mBAAA,CAAkC;MAA9BH,KAAK,EAAC;IAAY,GAAC,QAAM,GAC7BG,mBAAA,CAAgC;MAA5BH,KAAK,EAAC;IAAY,GAAC,MAAI,E,uBAG/BG,mBAAA,CAuBQ,iB,kBAtBNG,mBAAA,CAqBKI,SAAA,QAAAC,WAAA,CArBWP,MAAA,CAAAQ,WAAW,EAAhBC,CAAC;2BAAZP,mBAAA,CAqBK;QArByBQ,GAAG,EAAED,CAAC,CAACE;UACnCZ,mBAAA,CAAsC,MAAtCa,UAAsC,EAAAC,gBAAA,CAAZJ,CAAC,CAACE,EAAE,kBAC9BZ,mBAAA,CAA8C,MAA9Ce,UAA8C,EAAAD,gBAAA,CAApBJ,CAAC,CAACM,UAAU,kBACtChB,mBAAA,CAAyC,MAAzCiB,UAAyC,EAAAH,gBAAA,CAAfJ,CAAC,CAACQ,KAAK,kBACjClB,mBAAA,CAA0C,MAA1CmB,UAA0C,EAAAL,gBAAA,CAAhBJ,CAAC,CAACU,MAAM,kBAClCpB,mBAAA,CAeK,MAfLqB,UAeK,GAbKX,CAAC,CAACU,MAAM,kB,cADhBjB,mBAAA,CAMS;;QAJPN,KAAK,EAAC,gDAAgD;QACrDyB,OAAK,EAAAC,MAAA,IAAEtB,MAAA,CAAAuB,aAAa,CAACd,CAAC,CAACE,EAAE;SAC3B,WAED,iBAAAa,UAAA,K,mCAEQf,CAAC,CAACU,MAAM,kB,cADhBjB,mBAAA,CAMS;;QAJPN,KAAK,EAAC,yCAAyC;QAC9CyB,OAAK,EAAAC,MAAA,IAAEtB,MAAA,CAAAyB,YAAY,CAAChB,CAAC,CAACE,EAAE;SAC1B,SAED,iBAAAe,WAAA,K","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}