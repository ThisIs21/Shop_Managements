{"ast":null,"code":"import axios from \"axios\";\nconst api = axios.create({\n  baseURL: \"http://localhost:8081/api/v1\",\n  // sesuaikan dengan backend Go\n  timeout: 10000\n});\nexport default {\n  name: \"CashierPage\",\n  data() {\n    return {\n      products: [],\n      form: {\n        id: null,\n        name: \"\",\n        price: null,\n        stock: null\n      }\n    };\n  },\n  methods: {\n    async fetchProducts() {\n      try {\n        const res = await api.get(\"/products\");\n        this.products = res.data; // pastikan backend kirim array JSON\n      } catch (err) {\n        console.error(\"Gagal fetch produk:\", err);\n      }\n    },\n    async saveProduct() {\n      try {\n        if (this.form.id) {\n          await api.put(`/products/${this.form.id}`, this.form);\n        } else {\n          await api.post(\"/products\", this.form);\n        }\n        this.fetchProducts();\n        this.resetForm();\n      } catch (err) {\n        console.error(\"Gagal simpan produk:\", err);\n      }\n    },\n    editProduct(p) {\n      this.form = {\n        ...p\n      };\n    },\n    async deleteProduct(id) {\n      if (!confirm(\"Yakin hapus produk ini?\")) return;\n      try {\n        await api.delete(`/products/${id}`);\n        this.fetchProducts();\n      } catch (err) {\n        console.error(\"Gagal hapus produk:\", err);\n      }\n    },\n    resetForm() {\n      this.form = {\n        id: null,\n        name: \"\",\n        price: null,\n        stock: null\n      };\n    },\n    formatRupiah(value) {\n      return new Intl.NumberFormat(\"id-ID\").format(value);\n    }\n  },\n  mounted() {\n    this.fetchProducts();\n  }\n};","map":{"version":3,"names":["axios","api","create","baseURL","timeout","name","data","products","form","id","price","stock","methods","fetchProducts","res","get","err","console","error","saveProduct","put","post","resetForm","editProduct","p","deleteProduct","confirm","delete","formatRupiah","value","Intl","NumberFormat","format","mounted"],"sources":["C:\\Users\\Personal\\Documents\\PKL\\aplikasi\\aplikasi\\src\\views\\ProductCatalogKepalaGudang.vue"],"sourcesContent":["<template>\n  <div class=\"p-6\">\n    <h1 class=\"text-2xl font-bold mb-4\">Manajemen Produk</h1>\n\n    <!-- Form Tambah/Edit Produk -->\n    <form @submit.prevent=\"saveProduct\" class=\"mb-6 space-y-2\">\n      <input\n        v-model=\"form.name\"\n        type=\"text\"\n        placeholder=\"Nama Produk\"\n        class=\"border p-2 w-full\"\n        required\n      />\n      <input\n        v-model.number=\"form.price\"\n        type=\"number\"\n        placeholder=\"Harga Produk\"\n        class=\"border p-2 w-full\"\n        required\n      />\n      <input\n        v-model.number=\"form.stock\"\n        type=\"number\"\n        placeholder=\"Stok Produk\"\n        class=\"border p-2 w-full\"\n        required\n      />\n      <button\n        type=\"submit\"\n        class=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\n      >\n        {{ form.id ? \"Update\" : \"Tambah\" }} Produk\n      </button>\n      <button\n        v-if=\"form.id\"\n        type=\"button\"\n        @click=\"resetForm\"\n        class=\"ml-2 bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600\"\n      >\n        Batal\n      </button>\n    </form>\n\n    <!-- Tabel Produk -->\n    <table class=\"w-full border\">\n      <thead class=\"bg-gray-200\">\n        <tr>\n          <th class=\"border px-2 py-1\">ID</th>\n          <th class=\"border px-2 py-1\">Nama</th>\n          <th class=\"border px-2 py-1\">Harga</th>\n          <th class=\"border px-2 py-1\">Stok</th>\n          <th class=\"border px-2 py-1\">Aksi</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"p in products\" :key=\"p.id\">\n          <td class=\"border px-2 py-1\">{{ p.id }}</td>\n          <td class=\"border px-2 py-1\">{{ p.name }}</td>\n          <td class=\"border px-2 py-1\">Rp {{ formatRupiah(p.price) }}</td>\n          <td class=\"border px-2 py-1\">{{ p.stock }}</td>\n          <td class=\"border px-2 py-1\">\n            <button\n              @click=\"editProduct(p)\"\n              class=\"bg-yellow-500 text-white px-2 py-1 rounded mr-2 hover:bg-yellow-600\"\n            >\n              Edit\n            </button>\n            <button\n              @click=\"deleteProduct(p.id)\"\n              class=\"bg-red-600 text-white px-2 py-1 rounded hover:bg-red-700\"\n            >\n              Hapus\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nconst api = axios.create({\n  baseURL: \"http://localhost:8081/api/v1\", // sesuaikan dengan backend Go\n  timeout: 10000,\n});\n\nexport default {\n  name: \"CashierPage\",\n  data() {\n    return {\n      products: [],\n      form: {\n        id: null,\n        name: \"\",\n        price: null,\n        stock: null,\n      },\n    };\n  },\n  methods: {\n    async fetchProducts() {\n      try {\n        const res = await api.get(\"/products\");\n        this.products = res.data; // pastikan backend kirim array JSON\n      } catch (err) {\n        console.error(\"Gagal fetch produk:\", err);\n      }\n    },\n    async saveProduct() {\n      try {\n        if (this.form.id) {\n          await api.put(`/products/${this.form.id}`, this.form);\n        } else {\n          await api.post(\"/products\", this.form);\n        }\n        this.fetchProducts();\n        this.resetForm();\n      } catch (err) {\n        console.error(\"Gagal simpan produk:\", err);\n      }\n    },\n    editProduct(p) {\n      this.form = { ...p };\n    },\n    async deleteProduct(id) {\n      if (!confirm(\"Yakin hapus produk ini?\")) return;\n      try {\n        await api.delete(`/products/${id}`);\n        this.fetchProducts();\n      } catch (err) {\n        console.error(\"Gagal hapus produk:\", err);\n      }\n    },\n    resetForm() {\n      this.form = { id: null, name: \"\", price: null, stock: null };\n    },\n    formatRupiah(value) {\n      return new Intl.NumberFormat(\"id-ID\").format(value);\n    },\n  },\n  mounted() {\n    this.fetchProducts();\n  },\n};\n</script>\n"],"mappings":"AAiFA,OAAOA,KAAI,MAAO,OAAO;AAEzB,MAAMC,GAAE,GAAID,KAAK,CAACE,MAAM,CAAC;EACvBC,OAAO,EAAE,8BAA8B;EAAE;EACzCC,OAAO,EAAE;AACX,CAAC,CAAC;AAEF,eAAe;EACbC,IAAI,EAAE,aAAa;EACnBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,IAAI,EAAE;QACJC,EAAE,EAAE,IAAI;QACRJ,IAAI,EAAE,EAAE;QACRK,KAAK,EAAE,IAAI;QACXC,KAAK,EAAE;MACT;IACF,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,aAAaA,CAAA,EAAG;MACpB,IAAI;QACF,MAAMC,GAAE,GAAI,MAAMb,GAAG,CAACc,GAAG,CAAC,WAAW,CAAC;QACtC,IAAI,CAACR,QAAO,GAAIO,GAAG,CAACR,IAAI,EAAE;MAC5B,EAAE,OAAOU,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,qBAAqB,EAAEF,GAAG,CAAC;MAC3C;IACF,CAAC;IACD,MAAMG,WAAWA,CAAA,EAAG;MAClB,IAAI;QACF,IAAI,IAAI,CAACX,IAAI,CAACC,EAAE,EAAE;UAChB,MAAMR,GAAG,CAACmB,GAAG,CAAC,aAAa,IAAI,CAACZ,IAAI,CAACC,EAAE,EAAE,EAAE,IAAI,CAACD,IAAI,CAAC;QACvD,OAAO;UACL,MAAMP,GAAG,CAACoB,IAAI,CAAC,WAAW,EAAE,IAAI,CAACb,IAAI,CAAC;QACxC;QACA,IAAI,CAACK,aAAa,CAAC,CAAC;QACpB,IAAI,CAACS,SAAS,CAAC,CAAC;MAClB,EAAE,OAAON,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,sBAAsB,EAAEF,GAAG,CAAC;MAC5C;IACF,CAAC;IACDO,WAAWA,CAACC,CAAC,EAAE;MACb,IAAI,CAAChB,IAAG,GAAI;QAAE,GAAGgB;MAAE,CAAC;IACtB,CAAC;IACD,MAAMC,aAAaA,CAAChB,EAAE,EAAE;MACtB,IAAI,CAACiB,OAAO,CAAC,yBAAyB,CAAC,EAAE;MACzC,IAAI;QACF,MAAMzB,GAAG,CAAC0B,MAAM,CAAC,aAAalB,EAAE,EAAE,CAAC;QACnC,IAAI,CAACI,aAAa,CAAC,CAAC;MACtB,EAAE,OAAOG,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,qBAAqB,EAAEF,GAAG,CAAC;MAC3C;IACF,CAAC;IACDM,SAASA,CAAA,EAAG;MACV,IAAI,CAACd,IAAG,GAAI;QAAEC,EAAE,EAAE,IAAI;QAAEJ,IAAI,EAAE,EAAE;QAAEK,KAAK,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAK,CAAC;IAC9D,CAAC;IACDiB,YAAYA,CAACC,KAAK,EAAE;MAClB,OAAO,IAAIC,IAAI,CAACC,YAAY,CAAC,OAAO,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC;IACrD;EACF,CAAC;EACDI,OAAOA,CAAA,EAAG;IACR,IAAI,CAACpB,aAAa,CAAC,CAAC;EACtB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}