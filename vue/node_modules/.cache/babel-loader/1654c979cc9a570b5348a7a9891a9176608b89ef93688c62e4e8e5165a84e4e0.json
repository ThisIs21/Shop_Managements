{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport axios from \"axios\";\nimport KepalaGudangSidebar from \"@/components/KepalaGudangSidebar.vue\";\nconst api = axios.create({\n  baseURL: \"http://localhost:8081/api/v1\",\n  // sesuaikan dengan backend Go kamu\n  timeout: 10000\n});\nexport default {\n  name: \"ProductCatalog\",\n  components: {\n    KepalaGudangSidebar\n  },\n  data() {\n    return {\n      search: \"\",\n      products: [],\n      showForm: false,\n      form: {\n        id: null,\n        name: \"\",\n        code: \"\",\n        stock: 0,\n        purchase_price: 0,\n        selling_price: 0,\n        category: \"\"\n      }\n    };\n  },\n  computed: {\n    filteredProducts() {\n      return this.products.filter(p => p.name.toLowerCase().includes(this.search.toLowerCase()) || p.code.toLowerCase().includes(this.search.toLowerCase()));\n    }\n  },\n  methods: {\n    formatRupiah(value) {\n      return new Intl.NumberFormat(\"id-ID\").format(value);\n    },\n    async fetchProducts() {\n      try {\n        const res = await api.get(\"/products\");\n        this.products = res.data; // pastikan backend kirim array JSON\n      } catch (err) {\n        console.error(\"Gagal fetch produk:\", err);\n      }\n    },\n    openAddForm() {\n      this.showForm = true;\n      this.form = {\n        id: null,\n        name: \"\",\n        code: \"\",\n        stock: 0,\n        purchase_price: 0,\n        selling_price: 0,\n        category: \"\"\n      };\n    },\n    editProduct(p) {\n      this.showForm = true;\n      this.form = {\n        ...p\n      };\n    },\n    cancelForm() {\n      this.showForm = false;\n      this.form = {\n        id: null,\n        name: \"\",\n        code: \"\",\n        stock: 0,\n        purchase_price: 0,\n        selling_price: 0,\n        category: \"\"\n      };\n    },\n    async saveProduct() {\n      try {\n        if (this.form.id) {\n          await api.put(`/products/${this.form.id}`, this.form);\n        } else {\n          await api.post(\"/products\", this.form);\n        }\n        this.fetchProducts();\n        this.cancelForm();\n      } catch (err) {\n        console.error(\"Gagal simpan produk:\", err);\n      }\n    },\n    async deleteProduct(id) {\n      if (!confirm(\"Yakin hapus produk ini?\")) return;\n      try {\n        await api.delete(`/products/${id}`);\n        this.fetchProducts();\n      } catch (err) {\n        console.error(\"Gagal hapus produk:\", err);\n      }\n    }\n  },\n  mounted() {\n    this.fetchProducts();\n  }\n};","map":{"version":3,"names":["axios","KepalaGudangSidebar","api","create","baseURL","timeout","name","components","data","search","products","showForm","form","id","code","stock","purchase_price","selling_price","category","computed","filteredProducts","filter","p","toLowerCase","includes","methods","formatRupiah","value","Intl","NumberFormat","format","fetchProducts","res","get","err","console","error","openAddForm","editProduct","cancelForm","saveProduct","put","post","deleteProduct","confirm","delete","mounted"],"sources":["C:\\Users\\Personal\\Documents\\PKL\\aplikasi\\aplikasi\\src\\views\\ProductCatalogKepalaGudang.vue"],"sourcesContent":["<template>\n  <div\n    class=\"relative flex size-full min-h-screen flex-col bg-white overflow-x-hidden\"\n    style=\"font-family: Manrope, 'Noto Sans', sans-serif\"\n  >\n    <div class=\"layout-container flex h-full grow flex-col sm:flex-row\">\n      <!-- Sidebar -->\n      <KepalaGudangSidebar />\n\n      <!-- Content -->\n      <div class=\"flex-1 flex flex-col items-center justify-start p-5 sm:p-10\">\n        <div class=\"layout-content-container flex flex-col max-w-[960px] flex-1 w-full\">\n          \n          <!-- Header -->\n          <div class=\"flex flex-wrap justify-between gap-3 p-4\">\n            <p class=\"text-[#111418] text-[32px] font-bold leading-tight min-w-72\">\n              Product Catalog\n            </p>\n            <button\n              @click=\"openAddForm\"\n              class=\"flex h-8 px-4 rounded-lg bg-[#f0f2f5] text-[#111418] text-sm font-medium items-center justify-center\"\n            >\n              <span class=\"truncate\">{{ form.id ? \"Update Product\" : \"Add Product\" }}</span>\n            </button>\n          </div>\n\n          <!-- Search -->\n          <div class=\"px-4 py-3\">\n            <input\n              v-model=\"search\"\n              placeholder=\"Search for products\"\n              class=\"w-full h-12 px-4 rounded-lg bg-[#f0f2f5] text-base text-[#111418] focus:outline-0\"\n            />\n          </div>\n\n          <!-- Form Add / Edit -->\n          <div v-if=\"showForm\" class=\"px-4 py-3\">\n            <form @submit.prevent=\"saveProduct\" class=\"space-y-2 border p-4 rounded-lg bg-gray-50\">\n              <input v-model=\"form.name\" placeholder=\"Name\" class=\"w-full border p-2 rounded\" required />\n              <input v-model=\"form.code\" placeholder=\"Code\" class=\"w-full border p-2 rounded\" required />\n              <input v-model.number=\"form.stock\" type=\"number\" placeholder=\"Stock\" class=\"w-full border p-2 rounded\" required />\n              <input v-model.number=\"form.purchase_price\" type=\"number\" placeholder=\"Purchase Price\" class=\"w-full border p-2 rounded\" required />\n              <input v-model.number=\"form.selling_price\" type=\"number\" placeholder=\"Selling Price\" class=\"w-full border p-2 rounded\" required />\n              <input v-model=\"form.category\" placeholder=\"Category\" class=\"w-full border p-2 rounded\" required />\n\n              <div class=\"flex gap-2\">\n                <button type=\"submit\" class=\"bg-blue-600 text-white px-4 py-2 rounded\">\n                  {{ form.id ? \"Update\" : \"Add\" }}\n                </button>\n                <button type=\"button\" @click=\"cancelForm\" class=\"bg-gray-500 text-white px-4 py-2 rounded\">\n                  Cancel\n                </button>\n              </div>\n            </form>\n          </div>\n\n          <!-- Table -->\n          <div class=\"px-4 py-3\">\n            <div class=\"overflow-hidden rounded-lg border border-[#dbe0e6] bg-white\">\n              <table class=\"w-full\">\n                <thead>\n                  <tr class=\"bg-white\">\n                    <th class=\"px-4 py-3 text-left text-sm font-medium\">Name</th>\n                    <th class=\"px-4 py-3 text-left text-sm font-medium\">Code</th>\n                    <th class=\"px-4 py-3 text-left text-sm font-medium\">Stock</th>\n                    <th class=\"px-4 py-3 text-left text-sm font-medium\">Purchase Price</th>\n                    <th class=\"px-4 py-3 text-left text-sm font-medium\">Selling Price</th>\n                    <th class=\"px-4 py-3 text-left text-sm font-medium\">Category</th>\n                    <th class=\"px-4 py-3 text-center text-sm font-medium\">Action</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr v-for=\"p in filteredProducts\" :key=\"p.id\" class=\"border-t border-[#dbe0e6]\">\n                    <td class=\"px-4 py-2 text-sm\">{{ p.name }}</td>\n                    <td class=\"px-4 py-2 text-sm text-[#60758a]\">{{ p.code }}</td>\n                    <td class=\"px-4 py-2 text-sm text-[#60758a]\">{{ p.stock }}</td>\n                    <td class=\"px-4 py-2 text-sm text-[#60758a]\">Rp {{ formatRupiah(p.purchase_price) }}</td>\n                    <td class=\"px-4 py-2 text-sm text-[#60758a]\">Rp {{ formatRupiah(p.selling_price) }}</td>\n                    <td class=\"px-4 py-2 text-sm\">\n                      <span class=\"inline-block h-8 px-4 rounded-lg bg-[#f0f2f5] text-sm font-medium\">\n                        {{ p.category }}\n                      </span>\n                    </td>\n                    <td class=\"px-4 py-2 text-center\">\n                      <button @click=\"editProduct(p)\" class=\"text-blue-600 hover:underline mr-2\">Edit</button>\n                      <button @click=\"deleteProduct(p.id)\" class=\"text-red-600 hover:underline\">Delete</button>\n                    </td>\n                  </tr>\n                  <tr v-if=\"filteredProducts.length === 0\">\n                    <td colspan=\"7\" class=\"px-4 py-4 text-center text-[#60758a]\">No products found.</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport KepalaGudangSidebar from \"@/components/KepalaGudangSidebar.vue\";\n\nconst api = axios.create({\n  baseURL: \"http://localhost:8081/api/v1\", // sesuaikan dengan backend Go kamu\n  timeout: 10000,\n});\n\nexport default {\n  name: \"ProductCatalog\",\n  components: { KepalaGudangSidebar },\n  data() {\n    return {\n      search: \"\",\n      products: [],\n      showForm: false,\n      form: {\n        id: null,\n        name: \"\",\n        code: \"\",\n        stock: 0,\n        purchase_price: 0,\n        selling_price: 0,\n        category: \"\",\n      },\n    };\n  },\n  computed: {\n    filteredProducts() {\n      return this.products.filter(\n        (p) =>\n          p.name.toLowerCase().includes(this.search.toLowerCase()) ||\n          p.code.toLowerCase().includes(this.search.toLowerCase())\n      );\n    },\n  },\n  methods: {\n    formatRupiah(value) {\n      return new Intl.NumberFormat(\"id-ID\").format(value);\n    },\n    async fetchProducts() {\n      try {\n        const res = await api.get(\"/products\");\n        this.products = res.data; // pastikan backend kirim array JSON\n      } catch (err) {\n        console.error(\"Gagal fetch produk:\", err);\n      }\n    },\n    openAddForm() {\n      this.showForm = true;\n      this.form = {\n        id: null,\n        name: \"\",\n        code: \"\",\n        stock: 0,\n        purchase_price: 0,\n        selling_price: 0,\n        category: \"\",\n      };\n    },\n    editProduct(p) {\n      this.showForm = true;\n      this.form = { ...p };\n    },\n    cancelForm() {\n      this.showForm = false;\n      this.form = { id: null, name: \"\", code: \"\", stock: 0, purchase_price: 0, selling_price: 0, category: \"\" };\n    },\n    async saveProduct() {\n      try {\n        if (this.form.id) {\n          await api.put(`/products/${this.form.id}`, this.form);\n        } else {\n          await api.post(\"/products\", this.form);\n        }\n        this.fetchProducts();\n        this.cancelForm();\n      } catch (err) {\n        console.error(\"Gagal simpan produk:\", err);\n      }\n    },\n    async deleteProduct(id) {\n      if (!confirm(\"Yakin hapus produk ini?\")) return;\n      try {\n        await api.delete(`/products/${id}`);\n        this.fetchProducts();\n      } catch (err) {\n        console.error(\"Gagal hapus produk:\", err);\n      }\n    },\n  },\n  mounted() {\n    this.fetchProducts();\n  },\n};\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}