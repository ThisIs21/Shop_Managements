{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: \"StockOpnames\",\n  data() {\n    return {\n      stockOpnames: [],\n      filters: {\n        startDate: \"\",\n        endDate: \"\"\n      },\n      loading: false,\n      error: \"\"\n    };\n  },\n  mounted() {\n    this.fetchStockOpnames();\n  },\n  methods: {\n    async fetchStockOpnames() {\n      this.loading = true;\n      this.error = \"\";\n      try {\n        const response = await axios.get(\"http://localhost:8081/api/v1/history/stock-opnames\", {\n          params: {\n            start_date: this.filters.startDate,\n            end_date: this.filters.endDate\n          }\n        });\n        this.stockOpnames = response.data.data; // pastikan backend mengembalikan data di \"data\"\n      } catch (err) {\n        console.error(\"Gagal ambil data:\", err);\n        this.error = \"Gagal mengambil data stock opnames\";\n      } finally {\n        this.loading = false;\n      }\n    },\n    formatDate(date) {\n      if (!date) return \"-\";\n      const d = new Date(date);\n      return d.toLocaleDateString(\"id-ID\");\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","stockOpnames","filters","startDate","endDate","loading","error","mounted","fetchStockOpnames","methods","response","get","params","start_date","end_date","err","console","formatDate","date","d","Date","toLocaleDateString"],"sources":["C:\\Users\\Personal\\Documents\\PKL\\aplikasi\\aplikasi\\src\\views\\ReportStockOpnameOwners.vue"],"sourcesContent":["<template>\n  <div class=\"p-4 flex flex-col\">\n    <!-- FILTER -->\n    <div class=\"flex gap-4 mb-4\">\n      <input\n        type=\"date\"\n        v-model=\"filters.startDate\"\n        class=\"border p-2 rounded\"\n      />\n      <input type=\"date\" v-model=\"filters.endDate\" class=\"border p-2 rounded\" />\n      <button\n        @click=\"fetchStockOpnames\"\n        class=\"bg-blue-500 text-white px-4 py-2 rounded\"\n      >\n        Filter\n      </button>\n    </div>\n\n    <!-- TABLE -->\n    <div class=\"overflow-x-auto\">\n      <table class=\"min-w-full border border-gray-200\">\n        <thead>\n          <tr class=\"bg-gray-100\">\n            <th class=\"border px-4 py-2\">ID</th>\n            <th class=\"border px-4 py-2\">Tanggal</th>\n            <th class=\"border px-4 py-2\">Produk</th>\n            <th class=\"border px-4 py-2\">Stok Awal</th>\n            <th class=\"border px-4 py-2\">Stok Akhir</th>\n            <th class=\"border px-4 py-2\">Keterangan</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"item in stockOpnames\" :key=\"item.id\">\n            <td class=\"border px-4 py-2\">{{ item.id }}</td>\n            <td class=\"border px-4 py-2\">{{ formatDate(item.date) }}</td>\n            <td class=\"border px-4 py-2\">{{ item.product_name }}</td>\n            <td class=\"border px-4 py-2\">{{ item.start_stock }}</td>\n            <td class=\"border px-4 py-2\">{{ item.end_stock }}</td>\n            <td class=\"border px-4 py-2\">{{ item.note }}</td>\n          </tr>\n          <tr v-if=\"stockOpnames.length === 0\">\n            <td colspan=\"6\" class=\"text-center py-4\">Tidak ada data</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <!-- LOADING & ERROR -->\n    <div v-if=\"loading\" class=\"mt-4 text-center\">Memuat data...</div>\n    <div v-if=\"error\" class=\"mt-4 text-center text-red-500\">{{ error }}</div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"StockOpnames\",\n  data() {\n    return {\n      stockOpnames: [],\n      filters: {\n        startDate: \"\",\n        endDate: \"\",\n      },\n      loading: false,\n      error: \"\",\n    };\n  },\n  mounted() {\n    this.fetchStockOpnames();\n  },\n  methods: {\n    async fetchStockOpnames() {\n      this.loading = true;\n      this.error = \"\";\n      try {\n        const response = await axios.get(\n          \"http://localhost:8081/api/v1/history/stock-opnames\",\n          {\n            params: {\n              start_date: this.filters.startDate,\n              end_date: this.filters.endDate,\n            },\n          }\n        );\n        this.stockOpnames = response.data.data; // pastikan backend mengembalikan data di \"data\"\n      } catch (err) {\n        console.error(\"Gagal ambil data:\", err);\n        this.error = \"Gagal mengambil data stock opnames\";\n      } finally {\n        this.loading = false;\n      }\n    },\n    formatDate(date) {\n      if (!date) return \"-\";\n      const d = new Date(date);\n      return d.toLocaleDateString(\"id-ID\");\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* Tetap pakai styling lama table, jangan ubah layout sidebar */\n</style>\n"],"mappings":"AAsDA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,cAAc;EACpBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,YAAY,EAAE,EAAE;MAChBC,OAAO,EAAE;QACPC,SAAS,EAAE,EAAE;QACbC,OAAO,EAAE;MACX,CAAC;MACDC,OAAO,EAAE,KAAK;MACdC,KAAK,EAAE;IACT,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,iBAAiB,CAAC,CAAC;EAC1B,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,iBAAiBA,CAAA,EAAG;MACxB,IAAI,CAACH,OAAM,GAAI,IAAI;MACnB,IAAI,CAACC,KAAI,GAAI,EAAE;MACf,IAAI;QACF,MAAMI,QAAO,GAAI,MAAMZ,KAAK,CAACa,GAAG,CAC9B,oDAAoD,EACpD;UACEC,MAAM,EAAE;YACNC,UAAU,EAAE,IAAI,CAACX,OAAO,CAACC,SAAS;YAClCW,QAAQ,EAAE,IAAI,CAACZ,OAAO,CAACE;UACzB;QACF,CACF,CAAC;QACD,IAAI,CAACH,YAAW,GAAIS,QAAQ,CAACV,IAAI,CAACA,IAAI,EAAE;MAC1C,EAAE,OAAOe,GAAG,EAAE;QACZC,OAAO,CAACV,KAAK,CAAC,mBAAmB,EAAES,GAAG,CAAC;QACvC,IAAI,CAACT,KAAI,GAAI,oCAAoC;MACnD,UAAU;QACR,IAAI,CAACD,OAAM,GAAI,KAAK;MACtB;IACF,CAAC;IACDY,UAAUA,CAACC,IAAI,EAAE;MACf,IAAI,CAACA,IAAI,EAAE,OAAO,GAAG;MACrB,MAAMC,CAAA,GAAI,IAAIC,IAAI,CAACF,IAAI,CAAC;MACxB,OAAOC,CAAC,CAACE,kBAAkB,CAAC,OAAO,CAAC;IACtC;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}