{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"flex\"\n};\nconst _hoisted_2 = {\n  class: \"flex-1 ml-64 p-6 bg-gray-50 min-h-screen\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"mb-4 p-3 bg-red-100 text-red-700 rounded\"\n};\nconst _hoisted_4 = {\n  key: 1,\n  class: \"text-gray-600\"\n};\nconst _hoisted_5 = {\n  class: \"overflow-x-auto bg-white shadow rounded-lg\"\n};\nconst _hoisted_6 = {\n  class: \"min-w-full text-sm\"\n};\nconst _hoisted_7 = {\n  class: \"px-4 py-2\"\n};\nconst _hoisted_8 = {\n  class: \"px-4 py-2\"\n};\nconst _hoisted_9 = {\n  class: \"px-4 py-2\"\n};\nconst _hoisted_10 = {\n  class: \"px-4 py-2\"\n};\nconst _hoisted_11 = {\n  class: \"px-4 py-2\"\n};\nconst _hoisted_12 = {\n  class: \"px-4 py-2\"\n};\nconst _hoisted_13 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Sidebar \"), _createVNode($setup[\"KepalaGudangSidebar\"]), _createCommentVNode(\" Main content \"), _createElementVNode(\"main\", _hoisted_2, [_cache[2] || (_cache[2] = _createElementVNode(\"h1\", {\n    class: \"text-2xl font-bold mb-6\"\n  }, \"Purchase Return Requests\", -1 /* CACHED */)), _createCommentVNode(\" Error \"), $setup.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, _toDisplayString($setup.error), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Loading \"), $setup.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, \"Loading data...\")) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 2\n  }, [_createCommentVNode(\" Table \"), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"table\", _hoisted_6, [_cache[1] || (_cache[1] = _createElementVNode(\"thead\", {\n    class: \"bg-gray-100\"\n  }, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n    class: \"px-4 py-2 text-left\"\n  }, \"ID\"), _createElementVNode(\"th\", {\n    class: \"px-4 py-2 text-left\"\n  }, \"Purchase ID\"), _createElementVNode(\"th\", {\n    class: \"px-4 py-2 text-left\"\n  }, \"User ID\"), _createElementVNode(\"th\", {\n    class: \"px-4 py-2 text-left\"\n  }, \"Total\"), _createElementVNode(\"th\", {\n    class: \"px-4 py-2 text-left\"\n  }, \"Date\"), _createElementVNode(\"th\", {\n    class: \"px-4 py-2 text-left\"\n  }, \"Status\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.purchaseReturns, item => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: item.id,\n      class: \"border-t hover:bg-gray-50\"\n    }, [_createElementVNode(\"td\", _hoisted_7, _toDisplayString(item.id), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_8, _toDisplayString(item.purchase_id), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_9, _toDisplayString(item.user_id), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_10, \"Rp \" + _toDisplayString($setup.formatNumber(item.total)), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_11, _toDisplayString($setup.formatDate(item.date)), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_12, [_createElementVNode(\"span\", {\n      class: _normalizeClass({\n        'text-yellow-600 font-semibold': item.status === 'PENDING',\n        'text-green-600 font-semibold': item.status === 'APPROVED',\n        'text-red-600 font-semibold': item.status === 'REJECTED'\n      })\n    }, _toDisplayString(item.status), 3 /* TEXT, CLASS */)])]);\n  }), 128 /* KEYED_FRAGMENT */)), $setup.purchaseReturns.length === 0 ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_13, [...(_cache[0] || (_cache[0] = [_createElementVNode(\"td\", {\n    colspan: \"6\",\n    class: \"text-center py-4 text-gray-500\"\n  }, \" Tidak ada data retur pembelian \", -1 /* CACHED */)]))])) : _createCommentVNode(\"v-if\", true)])])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createVNode","$setup","_createElementVNode","_hoisted_2","error","_hoisted_3","_toDisplayString","loading","_hoisted_4","_Fragment","key","_hoisted_5","_hoisted_6","_renderList","purchaseReturns","item","id","_hoisted_7","_hoisted_8","purchase_id","_hoisted_9","user_id","_hoisted_10","formatNumber","total","_hoisted_11","formatDate","date","_hoisted_12","_normalizeClass","status","length","_hoisted_13","_cache","colspan"],"sources":["C:\\Users\\Personal\\Documents\\PKL\\aplikasi\\aplikasi\\src\\views\\PurchaseReturnKepalaGudang.vue"],"sourcesContent":["<template>\n  <div class=\"flex\">\n    <!-- Sidebar -->\n    <KepalaGudangSidebar />\n\n    <!-- Main content -->\n    <main class=\"flex-1 ml-64 p-6 bg-gray-50 min-h-screen\">\n      <h1 class=\"text-2xl font-bold mb-6\">Purchase Return Requests</h1>\n\n      <!-- Error -->\n      <div v-if=\"error\" class=\"mb-4 p-3 bg-red-100 text-red-700 rounded\">\n        {{ error }}\n      </div>\n\n      <!-- Loading -->\n      <div v-if=\"loading\" class=\"text-gray-600\">Loading data...</div>\n\n      <!-- Table -->\n      <div v-else class=\"overflow-x-auto bg-white shadow rounded-lg\">\n        <table class=\"min-w-full text-sm\">\n          <thead class=\"bg-gray-100\">\n            <tr>\n              <th class=\"px-4 py-2 text-left\">ID</th>\n              <th class=\"px-4 py-2 text-left\">Purchase ID</th>\n              <th class=\"px-4 py-2 text-left\">User ID</th>\n              <th class=\"px-4 py-2 text-left\">Total</th>\n              <th class=\"px-4 py-2 text-left\">Date</th>\n              <th class=\"px-4 py-2 text-left\">Status</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              v-for=\"item in purchaseReturns\"\n              :key=\"item.id\"\n              class=\"border-t hover:bg-gray-50\"\n            >\n              <td class=\"px-4 py-2\">{{ item.id }}</td>\n              <td class=\"px-4 py-2\">{{ item.purchase_id }}</td>\n              <td class=\"px-4 py-2\">{{ item.user_id }}</td>\n              <td class=\"px-4 py-2\">Rp {{ formatNumber(item.total) }}</td>\n              <td class=\"px-4 py-2\">\n                {{ formatDate(item.date) }}\n              </td>\n              <td class=\"px-4 py-2\">\n                <span\n                  :class=\"{\n                    'text-yellow-600 font-semibold': item.status === 'PENDING',\n                    'text-green-600 font-semibold': item.status === 'APPROVED',\n                    'text-red-600 font-semibold': item.status === 'REJECTED',\n                  }\"\n                >\n                  {{ item.status }}\n                </span>\n              </td>\n            </tr>\n            <tr v-if=\"purchaseReturns.length === 0\">\n              <td colspan=\"6\" class=\"text-center py-4 text-gray-500\">\n                Tidak ada data retur pembelian\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </main>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from \"vue\";\nimport axios from \"axios\";\nimport KepalaGudangSidebar from \"@/components/KepalaGudangSidebar.vue\";\n\nconst purchaseReturns = ref([]);\nconst loading = ref(true);\nconst error = ref(null);\n\nconst fetchPurchaseReturns = async () => {\n  try {\n    const token = localStorage.getItem(\"token\"); // ambil token dari localStorage\n\n    const response = await axios.get(\n      \"http://localhost:8081/api/v1/history/purchase-returns\",\n      {\n        headers: {\n          Authorization: `Bearer ${token}`, // kirim token\n        },\n      }\n    );\n\n    purchaseReturns.value = (response.data || []).map((item) => ({\n      id: item.id,\n      purchase_id: item.purchase_id,\n      user_id: item.user_id,\n      total: item.total,\n      date: item.date,\n      status: item.status,\n    }));\n  } catch (err) {\n    console.error(\"Gagal fetch data retur:\", err);\n    error.value =\n      err.response?.data?.error || \"Gagal mengambil data dari server.\";\n  } finally {\n    loading.value = false;\n  }\n};\n\nconst formatNumber = (num) => {\n  if (!num) return \"0\";\n  return new Intl.NumberFormat(\"id-ID\").format(num);\n};\n\nconst formatDate = (date) => {\n  if (!date) return \"-\";\n  return new Date(date).toLocaleString(\"id-ID\");\n};\n\nonMounted(fetchPurchaseReturns);\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}