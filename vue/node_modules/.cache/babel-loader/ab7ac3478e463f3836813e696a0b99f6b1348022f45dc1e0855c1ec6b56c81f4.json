{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"p-4 flex flex-col\"\n};\nconst _hoisted_2 = {\n  class: \"flex gap-4 mb-4\"\n};\nconst _hoisted_3 = {\n  class: \"overflow-x-auto\"\n};\nconst _hoisted_4 = {\n  class: \"min-w-full border border-gray-200\"\n};\nconst _hoisted_5 = {\n  class: \"border px-4 py-2\"\n};\nconst _hoisted_6 = {\n  class: \"border px-4 py-2\"\n};\nconst _hoisted_7 = {\n  class: \"border px-4 py-2\"\n};\nconst _hoisted_8 = {\n  class: \"border px-4 py-2\"\n};\nconst _hoisted_9 = {\n  class: \"border px-4 py-2\"\n};\nconst _hoisted_10 = {\n  class: \"border px-4 py-2\"\n};\nconst _hoisted_11 = {\n  key: 0\n};\nconst _hoisted_12 = {\n  key: 0,\n  class: \"mt-4 text-center\"\n};\nconst _hoisted_13 = {\n  key: 1,\n  class: \"mt-4 text-center text-red-500\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" FILTER \"), _createElementVNode(\"div\", _hoisted_2, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.filters.startDate = $event),\n    class: \"border p-2 rounded\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.filters.startDate]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.filters.endDate = $event),\n    class: \"border p-2 rounded\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.filters.endDate]]), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.fetchStockOpnames && $options.fetchStockOpnames(...args)),\n    class: \"bg-blue-500 text-white px-4 py-2 rounded\"\n  }, \"Filter\")]), _createCommentVNode(\" TABLE \"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"table\", _hoisted_4, [_cache[4] || (_cache[4] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", {\n    class: \"bg-gray-100\"\n  }, [_createElementVNode(\"th\", {\n    class: \"border px-4 py-2\"\n  }, \"ID\"), _createElementVNode(\"th\", {\n    class: \"border px-4 py-2\"\n  }, \"Tanggal\"), _createElementVNode(\"th\", {\n    class: \"border px-4 py-2\"\n  }, \"Produk\"), _createElementVNode(\"th\", {\n    class: \"border px-4 py-2\"\n  }, \"Stok Awal\"), _createElementVNode(\"th\", {\n    class: \"border px-4 py-2\"\n  }, \"Stok Akhir\"), _createElementVNode(\"th\", {\n    class: \"border px-4 py-2\"\n  }, \"Keterangan\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.stockOpnames, item => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: item.id\n    }, [_createElementVNode(\"td\", _hoisted_5, _toDisplayString(item.id), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_6, _toDisplayString($options.formatDate(item.date)), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_7, _toDisplayString(item.product_name), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_8, _toDisplayString(item.start_stock), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_9, _toDisplayString(item.end_stock), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_10, _toDisplayString(item.note), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */)), $data.stockOpnames.length === 0 ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_11, [...(_cache[3] || (_cache[3] = [_createElementVNode(\"td\", {\n    colspan: \"6\",\n    class: \"text-center py-4\"\n  }, \"Tidak ada data\", -1 /* CACHED */)]))])) : _createCommentVNode(\"v-if\", true)])])]), _createCommentVNode(\" LOADING & ERROR \"), $data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, \"Memuat data...\")) : _createCommentVNode(\"v-if\", true), $data.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, _toDisplayString($data.error), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","type","$data","filters","startDate","$event","endDate","onClick","_cache","args","$options","fetchStockOpnames","_hoisted_3","_hoisted_4","_Fragment","_renderList","stockOpnames","item","key","id","_hoisted_5","_toDisplayString","_hoisted_6","formatDate","date","_hoisted_7","product_name","_hoisted_8","start_stock","_hoisted_9","end_stock","_hoisted_10","note","length","_hoisted_11","colspan","loading","_hoisted_12","error","_hoisted_13"],"sources":["C:\\Users\\Personal\\Documents\\PKL\\aplikasi\\aplikasi\\src\\views\\ReportStockOpnameOwners.vue"],"sourcesContent":["<template>\n  <div class=\"p-4 flex flex-col\">\n    <!-- FILTER -->\n    <div class=\"flex gap-4 mb-4\">\n      <input type=\"date\" v-model=\"filters.startDate\" class=\"border p-2 rounded\"/>\n      <input type=\"date\" v-model=\"filters.endDate\" class=\"border p-2 rounded\"/>\n      <button @click=\"fetchStockOpnames\" class=\"bg-blue-500 text-white px-4 py-2 rounded\">Filter</button>\n    </div>\n\n    <!-- TABLE -->\n    <div class=\"overflow-x-auto\">\n      <table class=\"min-w-full border border-gray-200\">\n        <thead>\n          <tr class=\"bg-gray-100\">\n            <th class=\"border px-4 py-2\">ID</th>\n            <th class=\"border px-4 py-2\">Tanggal</th>\n            <th class=\"border px-4 py-2\">Produk</th>\n            <th class=\"border px-4 py-2\">Stok Awal</th>\n            <th class=\"border px-4 py-2\">Stok Akhir</th>\n            <th class=\"border px-4 py-2\">Keterangan</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"item in stockOpnames\" :key=\"item.id\">\n            <td class=\"border px-4 py-2\">{{ item.id }}</td>\n            <td class=\"border px-4 py-2\">{{ formatDate(item.date) }}</td>\n            <td class=\"border px-4 py-2\">{{ item.product_name }}</td>\n            <td class=\"border px-4 py-2\">{{ item.start_stock }}</td>\n            <td class=\"border px-4 py-2\">{{ item.end_stock }}</td>\n            <td class=\"border px-4 py-2\">{{ item.note }}</td>\n          </tr>\n          <tr v-if=\"stockOpnames.length === 0\">\n            <td colspan=\"6\" class=\"text-center py-4\">Tidak ada data</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <!-- LOADING & ERROR -->\n    <div v-if=\"loading\" class=\"mt-4 text-center\">Memuat data...</div>\n    <div v-if=\"error\" class=\"mt-4 text-center text-red-500\">{{ error }}</div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: \"StockOpnames\",\n  data() {\n    return {\n      stockOpnames: [],\n      filters: {\n        startDate: '',\n        endDate: ''\n      },\n      loading: false,\n      error: ''\n    }\n  },\n  mounted() {\n    this.fetchStockOpnames();\n  },\n  methods: {\n    async fetchStockOpnames() {\n      this.loading = true;\n      this.error = '';\n      try {\n        const response = await axios.get('http://localhost:8081/api/v1/history/stock-opnames', {\n          params: {\n            start_date: this.filters.startDate,\n            end_date: this.filters.endDate\n          }\n        });\n        this.stockOpnames = response.data.data; // pastikan backend mengembalikan data di \"data\"\n      } catch (err) {\n        console.error('Gagal ambil data:', err);\n        this.error = 'Gagal mengambil data stock opnames';\n      } finally {\n        this.loading = false;\n      }\n    },\n    formatDate(date) {\n      if (!date) return '-';\n      const d = new Date(date);\n      return d.toLocaleDateString('id-ID');\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* Tetap pakai styling lama table, jangan ubah layout sidebar */\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAmB;;EAEvBA,KAAK,EAAC;AAAiB;;EAOvBA,KAAK,EAAC;AAAiB;;EACnBA,KAAK,EAAC;AAAmC;;EAatCA,KAAK,EAAC;AAAkB;;EACxBA,KAAK,EAAC;AAAkB;;EACxBA,KAAK,EAAC;AAAkB;;EACxBA,KAAK,EAAC;AAAkB;;EACxBA,KAAK,EAAC;AAAkB;;EACxBA,KAAK,EAAC;AAAkB;;;;;;EAUhBA,KAAK,EAAC;;;;EACRA,KAAK,EAAC;;;uBAvC1BC,mBAAA,CAwCM,OAxCNC,UAwCM,GAvCJC,mBAAA,YAAe,EACfC,mBAAA,CAIM,OAJNC,UAIM,G,gBAHJD,mBAAA,CAA2E;IAApEE,IAAI,EAAC,MAAM;+DAAUC,KAAA,CAAAC,OAAO,CAACC,SAAS,GAAAC,MAAA;IAAEV,KAAK,EAAC;iDAAzBO,KAAA,CAAAC,OAAO,CAACC,SAAS,E,mBAC7CL,mBAAA,CAAyE;IAAlEE,IAAI,EAAC,MAAM;+DAAUC,KAAA,CAAAC,OAAO,CAACG,OAAO,GAAAD,MAAA;IAAEV,KAAK,EAAC;iDAAvBO,KAAA,CAAAC,OAAO,CAACG,OAAO,E,GAC3CP,mBAAA,CAAmG;IAA1FQ,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,iBAAA,IAAAD,QAAA,CAAAC,iBAAA,IAAAF,IAAA,CAAiB;IAAEd,KAAK,EAAC;KAA2C,QAAM,E,GAG5FG,mBAAA,WAAc,EACdC,mBAAA,CA0BM,OA1BNa,UA0BM,GAzBJb,mBAAA,CAwBQ,SAxBRc,UAwBQ,G,0BAvBNd,mBAAA,CASQ,gBARNA,mBAAA,CAOK;IAPDJ,KAAK,EAAC;EAAa,IACrBI,mBAAA,CAAoC;IAAhCJ,KAAK,EAAC;EAAkB,GAAC,IAAE,GAC/BI,mBAAA,CAAyC;IAArCJ,KAAK,EAAC;EAAkB,GAAC,SAAO,GACpCI,mBAAA,CAAwC;IAApCJ,KAAK,EAAC;EAAkB,GAAC,QAAM,GACnCI,mBAAA,CAA2C;IAAvCJ,KAAK,EAAC;EAAkB,GAAC,WAAS,GACtCI,mBAAA,CAA4C;IAAxCJ,KAAK,EAAC;EAAkB,GAAC,YAAU,GACvCI,mBAAA,CAA4C;IAAxCJ,KAAK,EAAC;EAAkB,GAAC,YAAU,E,uBAG3CI,mBAAA,CAYQ,iB,kBAXNH,mBAAA,CAOKkB,SAAA,QAAAC,WAAA,CAPcb,KAAA,CAAAc,YAAY,EAApBC,IAAI;yBAAfrB,mBAAA,CAOK;MAP6BsB,GAAG,EAAED,IAAI,CAACE;QAC1CpB,mBAAA,CAA+C,MAA/CqB,UAA+C,EAAAC,gBAAA,CAAfJ,IAAI,CAACE,EAAE,kBACvCpB,mBAAA,CAA6D,MAA7DuB,UAA6D,EAAAD,gBAAA,CAA7BX,QAAA,CAAAa,UAAU,CAACN,IAAI,CAACO,IAAI,mBACpDzB,mBAAA,CAAyD,MAAzD0B,UAAyD,EAAAJ,gBAAA,CAAzBJ,IAAI,CAACS,YAAY,kBACjD3B,mBAAA,CAAwD,MAAxD4B,UAAwD,EAAAN,gBAAA,CAAxBJ,IAAI,CAACW,WAAW,kBAChD7B,mBAAA,CAAsD,MAAtD8B,UAAsD,EAAAR,gBAAA,CAAtBJ,IAAI,CAACa,SAAS,kBAC9C/B,mBAAA,CAAiD,MAAjDgC,WAAiD,EAAAV,gBAAA,CAAjBJ,IAAI,CAACe,IAAI,iB;kCAEjC9B,KAAA,CAAAc,YAAY,CAACiB,MAAM,U,cAA7BrC,mBAAA,CAEK,MAAAsC,WAAA,OAAA1B,MAAA,QAAAA,MAAA,OADHT,mBAAA,CAA4D;IAAxDoC,OAAO,EAAC,GAAG;IAACxC,KAAK,EAAC;KAAmB,gBAAc,mB,iDAM/DG,mBAAA,qBAAwB,EACbI,KAAA,CAAAkC,OAAO,I,cAAlBxC,mBAAA,CAAiE,OAAjEyC,WAAiE,EAApB,gBAAc,K,mCAChDnC,KAAA,CAAAoC,KAAK,I,cAAhB1C,mBAAA,CAAyE,OAAzE2C,WAAyE,EAAAlB,gBAAA,CAAdnB,KAAA,CAAAoC,KAAK,oB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}