{"ast":null,"code":"import GudangSidebar from \"@/components/GudangSidebar.vue\";\nimport axios from \"axios\";\nexport default {\n  name: \"ProductListGudang\",\n  components: {\n    GudangSidebar\n  },\n  data() {\n    return {\n      products: [],\n      categories: [],\n      loading: false,\n      error: null,\n      search: \"\",\n      selectedCategory: \"\",\n      selectedStockFilter: \"\"\n    };\n  },\n  mounted() {\n    this.fetchCategories();\n    this.fetchProducts();\n  },\n  methods: {\n    async fetchCategories() {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const res = await axios.get(\"http://localhost:8081/api/v1/categories\", {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        this.categories = res.data.data || res.data || [];\n      } catch (err) {\n        console.error(\"Failed to fetch categories:\", err);\n      }\n    },\n    async fetchProducts() {\n      this.loading = true;\n      try {\n        const token = localStorage.getItem(\"token\");\n        const params = {\n          search: this.search || \"\"\n        };\n        if (this.selectedCategory) {\n          params.category = this.selectedCategory;\n        }\n        if (this.selectedStockFilter === \"stok-ada\") {\n          params.stock_status = \"available\"; // stock > 0\n        } else if (this.selectedStockFilter === \"stok-kosong\") {\n          params.stock_status = \"empty\"; // stock = 0\n        }\n        const res = await axios.get(\"http://localhost:8081/api/v1/products\", {\n          params,\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        this.products = res.data.data || res.data || [];\n      } catch (err) {\n        console.error(\"Failed to fetch products:\", err);\n        this.error = \"Gagal memuat data produk\";\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["GudangSidebar","axios","name","components","data","products","categories","loading","error","search","selectedCategory","selectedStockFilter","mounted","fetchCategories","fetchProducts","methods","token","localStorage","getItem","res","get","headers","Authorization","err","console","params","category","stock_status"],"sources":["C:\\Users\\Personal\\Documents\\PKL\\aplikasi\\aplikasi\\src\\views\\ProductListGudang.vue"],"sourcesContent":["<template>\n  <v-app>\n    <GudangSidebar />\n\n    <div class=\"flex h-full flex-col bg-white\" style=\"font-family: Manrope, 'Noto Sans', sans-serif\">\n      <main class=\"mx-auto w-full max-w-7xl flex-1 px-4 py-5 sm:px-6 lg:px-8\">\n        <!-- Header -->\n        <div class=\"flex flex-wrap items-center justify-between gap-3 border-b border-gray-200 pb-3\">\n          <h1 class=\"text-[#111418] tracking-tight text-2xl font-bold\">Product List</h1>\n          <v-btn class=\"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-700\" flat>\n            Add New Product\n          </v-btn>\n        </div>\n\n        <!-- Search & Filter -->\n        <div class=\"mt-4 flex flex-col gap-3 sm:flex-row sm:items-center\">\n          <!-- Search -->\n          <label class=\"relative flex h-9 flex-1\">\n            <div class=\"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-2\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" viewBox=\"0 0 256 256\" class=\"text-[#60758a]\">\n                <path\n                  d=\"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z\"\n                ></path>\n              </svg>\n            </div>\n            <input\n              v-model=\"search\"\n              @input=\"fetchProducts\"\n              placeholder=\"Search products\"\n              class=\"w-full rounded-lg border border-gray-300 bg-white py-1.5 pl-8 pr-3 text-sm text-[#111418] focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n              type=\"text\"\n            />\n          </label>\n\n          <!-- Filter Category -->\n          <select\n            v-model=\"selectedCategory\"\n            @change=\"fetchProducts\"\n            class=\"h-9 rounded-lg border border-gray-300 bg-[#f0f2f5] px-3 text-sm text-[#111418]\"\n          >\n            <option value=\"\">Semua Kategori</option>\n            <option v-for=\"cat in categories\" :key=\"cat.id\" :value=\"cat.id\">\n              {{ cat.name }}\n            </option>\n          </select>\n\n          <!-- Filter Stock -->\n          <select\n            v-model=\"selectedStockFilter\"\n            @change=\"fetchProducts\"\n            class=\"h-9 rounded-lg border border-gray-300 bg-[#f0f2f5] px-3 text-sm text-[#111418]\"\n          >\n            <option value=\"\">Semua Stok</option>\n            <option value=\"stok-ada\">Stok Ada</option>\n            <option value=\"stok-kosong\">Stok Kosong</option>\n          </select>\n        </div>\n\n        <!-- Tabel Produk -->\n        <div class=\"mt-4 overflow-x-auto rounded-lg border border-[#dbe0e6]\">\n          <v-table class=\"min-w-full text-sm\">\n            <thead>\n              <tr class=\"bg-gray-100\">\n                <th class=\"px-3 py-2 text-left font-semibold text-gray-600\">Name</th>\n                <th class=\"px-3 py-2 text-left font-semibold text-gray-600\">Stock</th>\n                <th class=\"px-3 py-2 text-left font-semibold text-gray-600\">Supplier</th>\n                <th class=\"px-3 py-2 text-left font-semibold text-gray-600\">Category</th>\n                <th class=\"px-3 py-2 text-left font-semibold text-gray-600\">Unit</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr\n                v-for=\"(product, index) in products\"\n                :key=\"index\"\n                class=\"odd:bg-white even:bg-gray-50 hover:bg-gray-100\"\n              >\n                <td class=\"px-3 py-2 text-gray-900\">{{ product.name }}</td>\n                <td class=\"px-3 py-2 text-gray-500\">{{ product.stock }}</td>\n                <td class=\"px-3 py-2 text-gray-500\">{{ product.supplier?.name }}</td>\n                <td class=\"px-3 py-2 text-gray-500\">{{ product.category?.name }}</td>\n                <td class=\"px-3 py-2 text-gray-500\">{{ product.unit?.name }}</td>\n              </tr>\n              <tr v-if=\"loading\">\n                <td colspan=\"5\" class=\"text-center py-3 text-gray-500\">Loading products...</td>\n              </tr>\n              <tr v-if=\"!loading && products.length === 0\">\n                <td colspan=\"5\" class=\"text-center py-3 text-gray-500\">No products found</td>\n              </tr>\n            </tbody>\n          </v-table>\n        </div>\n      </main>\n    </div>\n  </v-app>\n</template>\n\n<script>\nimport GudangSidebar from \"@/components/GudangSidebar.vue\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"ProductListGudang\",\n  components: { GudangSidebar },\n  data() {\n    return {\n      products: [],\n      categories: [],\n      loading: false,\n      error: null,\n      search: \"\",\n      selectedCategory: \"\",\n      selectedStockFilter: \"\",\n    };\n  },\n  mounted() {\n    this.fetchCategories();\n    this.fetchProducts();\n  },\n  methods: {\n    async fetchCategories() {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const res = await axios.get(\"http://localhost:8081/api/v1/categories\", {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        this.categories = res.data.data || res.data || [];\n      } catch (err) {\n        console.error(\"Failed to fetch categories:\", err);\n      }\n    },\n    async fetchProducts() {\n      this.loading = true;\n      try {\n        const token = localStorage.getItem(\"token\");\n        const params = { search: this.search || \"\" };\n\n        if (this.selectedCategory) {\n          params.category = this.selectedCategory;\n        }\n        if (this.selectedStockFilter === \"stok-ada\") {\n          params.stock_status = \"available\"; // stock > 0\n        } else if (this.selectedStockFilter === \"stok-kosong\") {\n          params.stock_status = \"empty\"; // stock = 0\n        }\n\n        const res = await axios.get(\"http://localhost:8081/api/v1/products\", {\n          params,\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        this.products = res.data.data || res.data || [];\n      } catch (err) {\n        console.error(\"Failed to fetch products:\", err);\n        this.error = \"Gagal memuat data produk\";\n      } finally {\n        this.loading = false;\n      }\n    },\n  },\n};\n</script>\n"],"mappings":"AAiGA,OAAOA,aAAY,MAAO,gCAAgC;AAC1D,OAAOC,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,mBAAmB;EACzBC,UAAU,EAAE;IAAEH;EAAc,CAAC;EAC7BI,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,UAAU,EAAE,EAAE;MACdC,OAAO,EAAE,KAAK;MACdC,KAAK,EAAE,IAAI;MACXC,MAAM,EAAE,EAAE;MACVC,gBAAgB,EAAE,EAAE;MACpBC,mBAAmB,EAAE;IACvB,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,eAAe,CAAC,CAAC;IACtB,IAAI,CAACC,aAAa,CAAC,CAAC;EACtB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMF,eAAeA,CAAA,EAAG;MACtB,IAAI;QACF,MAAMG,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC3C,MAAMC,GAAE,GAAI,MAAMlB,KAAK,CAACmB,GAAG,CAAC,yCAAyC,EAAE;UACrEC,OAAO,EAAE;YAAEC,aAAa,EAAE,UAAUN,KAAK;UAAG;QAC9C,CAAC,CAAC;QACF,IAAI,CAACV,UAAS,GAAIa,GAAG,CAACf,IAAI,CAACA,IAAG,IAAKe,GAAG,CAACf,IAAG,IAAK,EAAE;MACnD,EAAE,OAAOmB,GAAG,EAAE;QACZC,OAAO,CAAChB,KAAK,CAAC,6BAA6B,EAAEe,GAAG,CAAC;MACnD;IACF,CAAC;IACD,MAAMT,aAAaA,CAAA,EAAG;MACpB,IAAI,CAACP,OAAM,GAAI,IAAI;MACnB,IAAI;QACF,MAAMS,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC3C,MAAMO,MAAK,GAAI;UAAEhB,MAAM,EAAE,IAAI,CAACA,MAAK,IAAK;QAAG,CAAC;QAE5C,IAAI,IAAI,CAACC,gBAAgB,EAAE;UACzBe,MAAM,CAACC,QAAO,GAAI,IAAI,CAAChB,gBAAgB;QACzC;QACA,IAAI,IAAI,CAACC,mBAAkB,KAAM,UAAU,EAAE;UAC3Cc,MAAM,CAACE,YAAW,GAAI,WAAW,EAAE;QACrC,OAAO,IAAI,IAAI,CAAChB,mBAAkB,KAAM,aAAa,EAAE;UACrDc,MAAM,CAACE,YAAW,GAAI,OAAO,EAAE;QACjC;QAEA,MAAMR,GAAE,GAAI,MAAMlB,KAAK,CAACmB,GAAG,CAAC,uCAAuC,EAAE;UACnEK,MAAM;UACNJ,OAAO,EAAE;YAAEC,aAAa,EAAE,UAAUN,KAAK;UAAG;QAC9C,CAAC,CAAC;QACF,IAAI,CAACX,QAAO,GAAIc,GAAG,CAACf,IAAI,CAACA,IAAG,IAAKe,GAAG,CAACf,IAAG,IAAK,EAAE;MACjD,EAAE,OAAOmB,GAAG,EAAE;QACZC,OAAO,CAAChB,KAAK,CAAC,2BAA2B,EAAEe,GAAG,CAAC;QAC/C,IAAI,CAACf,KAAI,GAAI,0BAA0B;MACzC,UAAU;QACR,IAAI,CAACD,OAAM,GAAI,KAAK;MACtB;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}