{"ast":null,"code":"import axios from \"axios\";\nimport OwnerLayouts from \"@/layouts/OwnerLayouts.vue\";\nexport default {\n  components: {\n    OwnerLayouts\n  },\n  data() {\n    return {\n      purchases: [],\n      filters: {\n        startDate: \"\",\n        endDate: \"\"\n      }\n    };\n  },\n  methods: {\n    async fetchReport() {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const response = await axios.get(\"http://localhost:8081/api/v1/owner/purchase-summary\", {\n          headers: {\n            Authorization: `Bearer ${token}`\n          },\n          params: {\n            start_date: this.filters.startDate,\n            end_date: this.filters.endDate\n          }\n        });\n        this.purchases = response.data.data || [];\n      } catch (error) {\n        console.error(\"Error fetching purchase report:\", error);\n      }\n    },\n    formatDate(dateStr) {\n      const date = new Date(dateStr);\n      return date.toLocaleDateString(\"id-ID\", {\n        day: \"2-digit\",\n        month: \"long\",\n        year: \"numeric\"\n      });\n    },\n    formatRupiah(value) {\n      if (!value) return \"0\";\n      return new Intl.NumberFormat(\"id-ID\").format(value);\n    }\n  },\n  mounted() {\n    this.fetchReport();\n  }\n};","map":{"version":3,"names":["axios","OwnerLayouts","components","data","purchases","filters","startDate","endDate","methods","fetchReport","token","localStorage","getItem","response","get","headers","Authorization","params","start_date","end_date","error","console","formatDate","dateStr","date","Date","toLocaleDateString","day","month","year","formatRupiah","value","Intl","NumberFormat","format","mounted"],"sources":["C:\\Users\\Personal\\Documents\\PKL\\aplikasi\\aplikasi\\src\\views\\PurchaseSummaryReportOwners.vue"],"sourcesContent":["<template>\n  <OwnerLayouts>\n    <div class=\"p-4\">\n      <!-- TITLE -->\n      <h1 class=\"text-2xl font-bold mb-4\">Purchase Summary Report</h1>\n\n      <!-- FILTER -->\n      <div class=\"flex gap-4 mb-4\">\n        <input\n          type=\"date\"\n          v-model=\"filters.startDate\"\n          class=\"border p-2 rounded\"\n        />\n        <input\n          type=\"date\"\n          v-model=\"filters.endDate\"\n          class=\"border p-2 rounded\"\n        />\n        <button\n          @click=\"fetchReport\"\n          class=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\n        >\n          Filter\n        </button>\n      </div>\n\n      <!-- TABLE -->\n      <div class=\"overflow-x-auto\">\n        <table class=\"w-full border border-gray-200\">\n          <thead class=\"bg-gray-100\">\n            <tr>\n              <th class=\"border px-4 py-2 text-left\">Tanggal</th>\n              <th class=\"border px-4 py-2 text-left\">Supplier</th>\n              <th class=\"border px-4 py-2 text-right\">Total Pembelian</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              v-for=\"(purchase, index) in purchases\"\n              :key=\"index\"\n              class=\"hover:bg-gray-50\"\n            >\n              <td class=\"border px-4 py-2\">{{ formatDate(purchase.date) }}</td>\n              <td class=\"border px-4 py-2\">{{ purchase.supplier_name }}</td>\n              <td class=\"border px-4 py-2 text-right\">\n                Rp {{ formatRupiah(purchase.total_amount) }}\n              </td>\n            </tr>\n            <tr v-if=\"purchases.length === 0\">\n              <td colspan=\"3\" class=\"text-center py-4 text-gray-500\">\n                Tidak ada data\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </OwnerLayouts>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport OwnerLayouts from \"@/layouts/OwnerLayouts.vue\";\n\nexport default {\n  components: { OwnerLayouts },\n  data() {\n    return {\n      purchases: [],\n      filters: {\n        startDate: \"\",\n        endDate: \"\",\n      },\n    };\n  },\n  methods: {\n    async fetchReport() {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const response = await axios.get(\n          \"http://localhost:8081/api/v1/owner/purchase-summary\",\n          {\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n            params: {\n              start_date: this.filters.startDate,\n              end_date: this.filters.endDate,\n            },\n          }\n        );\n        this.purchases = response.data.data || [];\n      } catch (error) {\n        console.error(\"Error fetching purchase report:\", error);\n      }\n    },\n    formatDate(dateStr) {\n      const date = new Date(dateStr);\n      return date.toLocaleDateString(\"id-ID\", {\n        day: \"2-digit\",\n        month: \"long\",\n        year: \"numeric\",\n      });\n    },\n    formatRupiah(value) {\n      if (!value) return \"0\";\n      return new Intl.NumberFormat(\"id-ID\").format(value);\n    },\n  },\n  mounted() {\n    this.fetchReport();\n  },\n};\n</script>\n"],"mappings":"AA6DA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,YAAW,MAAO,4BAA4B;AAErD,eAAe;EACbC,UAAU,EAAE;IAAED;EAAa,CAAC;EAC5BE,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,EAAE;MACbC,OAAO,EAAE;QACPC,SAAS,EAAE,EAAE;QACbC,OAAO,EAAE;MACX;IACF,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,WAAWA,CAAA,EAAG;MAClB,IAAI;QACF,MAAMC,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC3C,MAAMC,QAAO,GAAI,MAAMb,KAAK,CAACc,GAAG,CAC9B,qDAAqD,EACrD;UACEC,OAAO,EAAE;YACPC,aAAa,EAAE,UAAUN,KAAK;UAChC,CAAC;UACDO,MAAM,EAAE;YACNC,UAAU,EAAE,IAAI,CAACb,OAAO,CAACC,SAAS;YAClCa,QAAQ,EAAE,IAAI,CAACd,OAAO,CAACE;UACzB;QACF,CACF,CAAC;QACD,IAAI,CAACH,SAAQ,GAAIS,QAAQ,CAACV,IAAI,CAACA,IAAG,IAAK,EAAE;MAC3C,EAAE,OAAOiB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;MACzD;IACF,CAAC;IACDE,UAAUA,CAACC,OAAO,EAAE;MAClB,MAAMC,IAAG,GAAI,IAAIC,IAAI,CAACF,OAAO,CAAC;MAC9B,OAAOC,IAAI,CAACE,kBAAkB,CAAC,OAAO,EAAE;QACtCC,GAAG,EAAE,SAAS;QACdC,KAAK,EAAE,MAAM;QACbC,IAAI,EAAE;MACR,CAAC,CAAC;IACJ,CAAC;IACDC,YAAYA,CAACC,KAAK,EAAE;MAClB,IAAI,CAACA,KAAK,EAAE,OAAO,GAAG;MACtB,OAAO,IAAIC,IAAI,CAACC,YAAY,CAAC,OAAO,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC;IACrD;EACF,CAAC;EACDI,OAAOA,CAAA,EAAG;IACR,IAAI,CAAC1B,WAAW,CAAC,CAAC;EACpB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}