{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"flex size-full min-h-screen flex-col bg-white font-manrope lg:flex-row\"\n};\nconst _hoisted_2 = {\n  class: \"flex flex-1 flex-col\"\n};\nconst _hoisted_3 = {\n  class: \"flex-1 p-8\"\n};\nconst _hoisted_4 = {\n  class: \"layout-content-container flex flex-col flex-1\"\n};\nconst _hoisted_5 = {\n  class: \"px-4 py-3 @container\"\n};\nconst _hoisted_6 = {\n  class: \"flex overflow-hidden rounded-lg border border-[#dbe0e6] bg-white\"\n};\nconst _hoisted_7 = {\n  class: \"flex-1 w-full\"\n};\nconst _hoisted_8 = {\n  class: \"h-[72px] px-4 py-2 text-[#111418] text-sm\"\n};\nconst _hoisted_9 = {\n  class: \"h-[72px] px-4 py-2 text-[#60758a] text-sm\"\n};\nconst _hoisted_10 = {\n  class: \"h-[72px] px-4 py-2 text-[#60758a] text-sm\"\n};\nconst _hoisted_11 = {\n  class: \"h-[72px] px-4 py-2 text-[#60758a] text-sm\"\n};\nconst _hoisted_12 = {\n  class: \"h-[72px] px-4 py-2 text-[#60758a] text-sm\"\n};\nconst _hoisted_13 = {\n  key: 0\n};\nconst _hoisted_14 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Sidebar \"), _createVNode($setup[\"KepalaGudangSidebar\"]), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"main\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createCommentVNode(\" Header \"), _cache[3] || (_cache[3] = _createElementVNode(\"div\", {\n    class: \"mb-6\"\n  }, [_createElementVNode(\"p\", {\n    class: \"text-[#111418] tracking-light text-[32px] font-bold leading-tight\"\n  }, \" Purchase Orders History \")], -1 /* CACHED */)), _createCommentVNode(\" Tabel \"), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"table\", _hoisted_7, [_cache[2] || (_cache[2] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", {\n    class: \"bg-white\"\n  }, [_createElementVNode(\"th\", {\n    class: \"px-4 py-3 text-left text-[#111418] text-sm font-medium\"\n  }, \" PO Number \"), _createElementVNode(\"th\", {\n    class: \"px-4 py-3 text-left text-[#111418] text-sm font-medium\"\n  }, \" Supplier \"), _createElementVNode(\"th\", {\n    class: \"px-4 py-3 text-left text-[#111418] text-sm font-medium\"\n  }, \" Date \"), _createElementVNode(\"th\", {\n    class: \"px-4 py-3 text-left text-[#111418] text-sm font-medium\"\n  }, \" Total \"), _createElementVNode(\"th\", {\n    class: \"px-4 py-3 text-left text-[#111418] text-sm font-medium\"\n  }, \" Status \")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [_createCommentVNode(\" LOOP DATA \"), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.purchases, po => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: po.id,\n      class: \"border-t border-t-[#dbe0e6]\"\n    }, [_createElementVNode(\"td\", _hoisted_8, _toDisplayString(po.id), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_9, _toDisplayString(po.supplier?.name || \"-\"), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_10, _toDisplayString($setup.formatDate(po.date)), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_11, _toDisplayString($setup.formatCurrency(po.total)), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_12, _toDisplayString(po.status), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */)), _createCommentVNode(\" KOSONG \"), !$setup.loading && $setup.purchases.length === 0 ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_13, [...(_cache[0] || (_cache[0] = [_createElementVNode(\"td\", {\n    colspan: \"5\",\n    class: \"text-center py-4 text-[#60758a] text-sm\"\n  }, \" No purchase orders found \", -1 /* CACHED */)]))])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" LOADING \"), $setup.loading ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_14, [...(_cache[1] || (_cache[1] = [_createElementVNode(\"td\", {\n    colspan: \"5\",\n    class: \"text-center py-4 text-[#60758a] text-sm\"\n  }, \" Loading... \", -1 /* CACHED */)]))])) : _createCommentVNode(\"v-if\", true)])])])])])])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createVNode","$setup","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_Fragment","_renderList","purchases","po","key","id","_hoisted_8","_toDisplayString","_hoisted_9","supplier","name","_hoisted_10","formatDate","date","_hoisted_11","formatCurrency","total","_hoisted_12","status","loading","length","_hoisted_13","_cache","colspan","_hoisted_14"],"sources":["C:\\Users\\Personal\\Documents\\PKL\\aplikasi\\aplikasi\\src\\views\\PurchaseOrderKepalaGudang.vue"],"sourcesContent":["<script setup>\nimport { ref, onMounted } from \"vue\";\nimport axios from \"axios\";\nimport KepalaGudangSidebar from \"@/components/KepalaGudangSidebar.vue\";\n\nconst purchases = ref([]);\nconst loading = ref(false);\nconst token = localStorage.getItem(\"token\"); // ambil token login\n\n// Ambil data dari backend\nconst fetchPurchases = async () => {\n  loading.value = true;\n  try {\n    const res = await axios.get(\n      \"http://localhost:8081/api/v1/kepala-gudang/purchases\",\n      {\n        params: { page: 1, size: 20, q: \"\" }, // paging + search\n        headers: { Authorization: `Bearer ${token}` },\n      }\n    );\n\n    // backend bisa return array langsung atau dalam { data: [] }\n    purchases.value = Array.isArray(res.data) ? res.data : res.data.data || [];\n  } catch (err) {\n    console.error(\"Failed to fetch purchases:\", err);\n  } finally {\n    loading.value = false;\n  }\n};\n\n// Format tanggal\nconst formatDate = (dateStr) => {\n  if (!dateStr) return \"-\";\n  return new Date(dateStr).toLocaleDateString(\"id-ID\", {\n    day: \"2-digit\",\n    month: \"short\",\n    year: \"numeric\",\n  });\n};\n\n// Format mata uang\nconst formatCurrency = (val) => {\n  if (val === null || val === undefined) return \"-\";\n  return new Intl.NumberFormat(\"id-ID\", {\n    style: \"currency\",\n    currency: \"IDR\",\n  }).format(val);\n};\n\nonMounted(() => {\n  fetchPurchases();\n});\n</script>\n\n<template>\n  <div\n    class=\"flex size-full min-h-screen flex-col bg-white font-manrope lg:flex-row\"\n  >\n    <!-- Sidebar -->\n    <KepalaGudangSidebar />\n\n    <div class=\"flex flex-1 flex-col\">\n      <main class=\"flex-1 p-8\">\n        <div class=\"layout-content-container flex flex-col flex-1\">\n          <!-- Header -->\n          <div class=\"mb-6\">\n            <p\n              class=\"text-[#111418] tracking-light text-[32px] font-bold leading-tight\"\n            >\n              Purchase Orders History\n            </p>\n          </div>\n\n          <!-- Tabel -->\n          <div class=\"px-4 py-3 @container\">\n            <div\n              class=\"flex overflow-hidden rounded-lg border border-[#dbe0e6] bg-white\"\n            >\n              <table class=\"flex-1 w-full\">\n                <thead>\n                  <tr class=\"bg-white\">\n                    <th\n                      class=\"px-4 py-3 text-left text-[#111418] text-sm font-medium\"\n                    >\n                      PO Number\n                    </th>\n                    <th\n                      class=\"px-4 py-3 text-left text-[#111418] text-sm font-medium\"\n                    >\n                      Supplier\n                    </th>\n                    <th\n                      class=\"px-4 py-3 text-left text-[#111418] text-sm font-medium\"\n                    >\n                      Date\n                    </th>\n                    <th\n                      class=\"px-4 py-3 text-left text-[#111418] text-sm font-medium\"\n                    >\n                      Total\n                    </th>\n                    <th\n                      class=\"px-4 py-3 text-left text-[#111418] text-sm font-medium\"\n                    >\n                      Status\n                    </th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <!-- LOOP DATA -->\n                  <tr\n                    v-for=\"po in purchases\"\n                    :key=\"po.id\"\n                    class=\"border-t border-t-[#dbe0e6]\"\n                  >\n                    <td class=\"h-[72px] px-4 py-2 text-[#111418] text-sm\">\n                      {{ po.id }}\n                    </td>\n                    <td class=\"h-[72px] px-4 py-2 text-[#60758a] text-sm\">\n                      {{ po.supplier?.name || \"-\" }}\n                    </td>\n                    <td class=\"h-[72px] px-4 py-2 text-[#60758a] text-sm\">\n                      {{ formatDate(po.date) }}\n                    </td>\n                    <td class=\"h-[72px] px-4 py-2 text-[#60758a] text-sm\">\n                      {{ formatCurrency(po.total) }}\n                    </td>\n                    <td class=\"h-[72px] px-4 py-2 text-[#60758a] text-sm\">\n                      {{ po.status }}\n                    </td>\n                  </tr>\n\n                  <!-- KOSONG -->\n                  <tr v-if=\"!loading && purchases.length === 0\">\n                    <td\n                      colspan=\"5\"\n                      class=\"text-center py-4 text-[#60758a] text-sm\"\n                    >\n                      No purchase orders found\n                    </td>\n                  </tr>\n\n                  <!-- LOADING -->\n                  <tr v-if=\"loading\">\n                    <td\n                      colspan=\"5\"\n                      class=\"text-center py-4 text-[#60758a] text-sm\"\n                    >\n                      Loading...\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  </div>\n</template>\n"],"mappings":";;EAwDIA,KAAK,EAAC;AAAwE;;EAKzEA,KAAK,EAAC;AAAsB;;EACzBA,KAAK,EAAC;AAAY;;EACjBA,KAAK,EAAC;AAA+C;;EAWnDA,KAAK,EAAC;AAAsB;;EAE7BA,KAAK,EAAC;AAAkE;;EAEjEA,KAAK,EAAC;AAAe;;EAqClBA,KAAK,EAAC;AAA2C;;EAGjDA,KAAK,EAAC;AAA2C;;EAGjDA,KAAK,EAAC;AAA2C;;EAGjDA,KAAK,EAAC;AAA2C;;EAGjDA,KAAK,EAAC;AAA2C;;;;;;;;uBAxEvEC,mBAAA,CAuGM,OAvGNC,UAuGM,GApGJC,mBAAA,aAAgB,EAChBC,YAAA,CAAuBC,MAAA,0BAEvBC,mBAAA,CAgGM,OAhGNC,UAgGM,GA/FJD,mBAAA,CA8FO,QA9FPE,UA8FO,GA7FLF,mBAAA,CA4FM,OA5FNG,UA4FM,GA3FJN,mBAAA,YAAe,E,0BACfG,mBAAA,CAMM;IANDN,KAAK,EAAC;EAAM,IACfM,mBAAA,CAII;IAHFN,KAAK,EAAC;EAAmE,GAC1E,2BAED,E,qBAGFG,mBAAA,WAAc,EACdG,mBAAA,CAgFM,OAhFNI,UAgFM,GA/EJJ,mBAAA,CA8EM,OA9ENK,UA8EM,GA3EJL,mBAAA,CA0EQ,SA1ERM,UA0EQ,G,0BAzENN,mBAAA,CA4BQ,gBA3BNA,mBAAA,CA0BK;IA1BDN,KAAK,EAAC;EAAU,IAClBM,mBAAA,CAIK;IAHHN,KAAK,EAAC;EAAwD,GAC/D,aAED,GACAM,mBAAA,CAIK;IAHHN,KAAK,EAAC;EAAwD,GAC/D,YAED,GACAM,mBAAA,CAIK;IAHHN,KAAK,EAAC;EAAwD,GAC/D,QAED,GACAM,mBAAA,CAIK;IAHHN,KAAK,EAAC;EAAwD,GAC/D,SAED,GACAM,mBAAA,CAIK;IAHHN,KAAK,EAAC;EAAwD,GAC/D,UAED,E,uBAGJM,mBAAA,CA2CQ,gBA1CNH,mBAAA,eAAkB,G,kBAClBF,mBAAA,CAoBKY,SAAA,QAAAC,WAAA,CAnBUT,MAAA,CAAAU,SAAS,EAAfC,EAAE;yBADXf,mBAAA,CAoBK;MAlBFgB,GAAG,EAAED,EAAE,CAACE,EAAE;MACXlB,KAAK,EAAC;QAENM,mBAAA,CAEK,MAFLa,UAEK,EAAAC,gBAAA,CADAJ,EAAE,CAACE,EAAE,kBAEVZ,mBAAA,CAEK,MAFLe,UAEK,EAAAD,gBAAA,CADAJ,EAAE,CAACM,QAAQ,EAAEC,IAAI,yBAEtBjB,mBAAA,CAEK,MAFLkB,WAEK,EAAAJ,gBAAA,CADAf,MAAA,CAAAoB,UAAU,CAACT,EAAE,CAACU,IAAI,mBAEvBpB,mBAAA,CAEK,MAFLqB,WAEK,EAAAP,gBAAA,CADAf,MAAA,CAAAuB,cAAc,CAACZ,EAAE,CAACa,KAAK,mBAE5BvB,mBAAA,CAEK,MAFLwB,WAEK,EAAAV,gBAAA,CADAJ,EAAE,CAACe,MAAM,iB;kCAIhB5B,mBAAA,YAAe,E,CACJE,MAAA,CAAA2B,OAAO,IAAI3B,MAAA,CAAAU,SAAS,CAACkB,MAAM,U,cAAtChC,mBAAA,CAOK,MAAAiC,WAAA,OAAAC,MAAA,QAAAA,MAAA,OANH7B,mBAAA,CAKK;IAJH8B,OAAO,EAAC,GAAG;IACXpC,KAAK,EAAC;KACP,4BAED,mB,2CAGFG,mBAAA,aAAgB,EACNE,MAAA,CAAA2B,OAAO,I,cAAjB/B,mBAAA,CAOK,MAAAoC,WAAA,OAAAF,MAAA,QAAAA,MAAA,OANH7B,mBAAA,CAKK;IAJH8B,OAAO,EAAC,GAAG;IACXpC,KAAK,EAAC;KACP,cAED,mB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}