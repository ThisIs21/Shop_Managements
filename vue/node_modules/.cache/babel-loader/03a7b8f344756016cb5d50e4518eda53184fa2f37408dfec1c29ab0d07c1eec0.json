{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.iterator.reduce.js\";\nimport { ref, computed } from \"vue\";\nimport axios from \"axios\";\nimport CashierSidebar from \"../components/CashierSidebar.vue\";\n\n// Dummy products\n\nexport default {\n  __name: 'CashierPage',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const products = ref([{\n      id: 1,\n      name: \"Kaos Polos Hitam\",\n      price: 50000,\n      stock: 10\n    }, {\n      id: 2,\n      name: \"Kemeja Putih\",\n      price: 80000,\n      stock: 5\n    }, {\n      id: 3,\n      name: \"Jaket Hoodie\",\n      price: 120000,\n      stock: 3\n    }, {\n      id: 4,\n      name: \"Celana Jeans\",\n      price: 150000,\n      stock: 7\n    }, {\n      id: 5,\n      name: \"Sweater Rajut\",\n      price: 90000,\n      stock: 6\n    }]);\n    const cart = ref([]);\n    const slider = ref(null);\n    const addToCart = product => {\n      const existing = cart.value.find(i => i.id === product.id);\n      if (existing) {\n        if (existing.qty < product.stock) existing.qty++;\n      } else {\n        cart.value.push({\n          ...product,\n          qty: 1\n        });\n      }\n    };\n    const removeFromCart = index => cart.value.splice(index, 1);\n\n    // Summary\n    const subtotal = computed(() => cart.value.reduce((sum, i) => sum + i.price * i.qty, 0));\n    const tax = computed(() => subtotal.value * 0.1);\n    const total = computed(() => subtotal.value + tax.value);\n\n    // Payment\n    const amountReceived = ref(0);\n    const change = computed(() => amountReceived.value > total.value ? amountReceived.value - total.value : 0);\n    const formatCurrency = v => \"Rp\" + Number(v).toLocaleString(\"id-ID\");\n\n    // Scroll actions\n    const scrollLeft = () => {\n      slider.value.scrollBy({\n        left: -200,\n        behavior: \"smooth\"\n      });\n    };\n    const scrollRight = () => {\n      slider.value.scrollBy({\n        left: 200,\n        behavior: \"smooth\"\n      });\n    };\n\n    // API\n    const handlePayNow = async () => {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const response = await axios.post(\"http://localhost:8081/api/v1/sales\", {\n          customer_id: 1,\n          date: new Date().toISOString(),\n          items: cart.value.map(i => ({\n            product_id: i.id,\n            qty: i.qty,\n            price: i.price\n          }))\n        }, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        alert(\"Pembayaran berhasil! ID Transaksi: \" + response.data.data.id);\n        cart.value = [];\n      } catch (err) {\n        alert(\"Gagal: \" + (err.response?.data?.message || err.message));\n      }\n    };\n    const handlePrintReceipt = () => {\n      alert(\"Mencetak struk...\");\n    };\n    const __returned__ = {\n      products,\n      cart,\n      slider,\n      addToCart,\n      removeFromCart,\n      subtotal,\n      tax,\n      total,\n      amountReceived,\n      change,\n      formatCurrency,\n      scrollLeft,\n      scrollRight,\n      handlePayNow,\n      handlePrintReceipt,\n      ref,\n      computed,\n      get axios() {\n        return axios;\n      },\n      CashierSidebar\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","axios","CashierSidebar","products","id","name","price","stock","cart","slider","addToCart","product","existing","value","find","i","qty","push","removeFromCart","index","splice","subtotal","reduce","sum","tax","total","amountReceived","change","formatCurrency","v","Number","toLocaleString","scrollLeft","scrollBy","left","behavior","scrollRight","handlePayNow","token","localStorage","getItem","response","post","customer_id","date","Date","toISOString","items","map","product_id","headers","Authorization","alert","data","err","message","handlePrintReceipt"],"sources":["C:/Users/SPC STYLE 5/aplikasi/src/views/CashierPage.vue"],"sourcesContent":["<template>\n  <div\n    class=\"relative flex size-full min-h-screen flex-col bg-white group/design-root overflow-x-hidden\"\n    style=\"font-family: Manrope, 'Noto Sans', sans-serif\"\n  >\n    <div class=\"layout-container flex h-full grow\">\n      <CashierSidebar />\n\n      <main\n        class=\"flex flex-col flex-1 pt-6 pb-10 px-6 max-w-7xl mx-auto w-full\"\n      >\n        <h2 class=\"text-2xl font-bold text-[#111418] mb-6 text-center\">\n          Cashier - Create Order\n        </h2>\n\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <!-- ðŸ”¹ LEFT: Product Slider -->\n          <section>\n            <h3 class=\"text-lg font-semibold text-[#111418] mb-3\">\n              Select Clothes\n            </h3>\n            <!-- wrapper -->\n            <div class=\"flex items-center space-x-2\">\n              <button\n                @click=\"scrollLeft\"\n                class=\"p-2 bg-gray-200 rounded-full hover:bg-gray-300\"\n              >\n                â—€\n              </button>\n              <div\n                ref=\"slider\"\n                class=\"flex space-x-4 overflow-x-auto scrollbar-hide snap-x snap-mandatory scroll-smooth w-full\"\n              >\n                <div\n                  v-for=\"product in products\"\n                  :key=\"product.id\"\n                  class=\"min-w-[180px] snap-center border rounded-lg p-4 flex flex-col justify-between bg-white shadow\"\n                >\n                  <div>\n                    <h4 class=\"font-semibold text-[#111418]\">\n                      {{ product.name }}\n                    </h4>\n                    <p class=\"text-sm text-[#60758a]\">\n                      {{ formatCurrency(product.price) }}\n                    </p>\n                    <p class=\"text-xs text-green-600\">\n                      Stock: {{ product.stock }}\n                    </p>\n                  </div>\n                  <button\n                    @click=\"addToCart(product)\"\n                    class=\"mt-3 w-full rounded-lg bg-[#0d80f2] py-2 text-white text-sm font-medium hover:bg-[#0a6ad1] transition\"\n                  >\n                    Add\n                  </button>\n                </div>\n              </div>\n              <button\n                @click=\"scrollRight\"\n                class=\"p-2 bg-gray-200 rounded-full hover:bg-gray-300\"\n              >\n                â–¶\n              </button>\n            </div>\n          </section>\n\n          <!-- ðŸ”¹ RIGHT: Cart & Payment -->\n          <section>\n            <!-- Cart -->\n            <div v-if=\"cart.length > 0\">\n              <h3 class=\"text-lg font-semibold text-[#111418] mb-3\">Cart</h3>\n              <table class=\"w-full text-left border text-sm\">\n                <thead>\n                  <tr class=\"bg-[#f8f9fa]\">\n                    <th class=\"p-2\">Item</th>\n                    <th class=\"p-2\">Qty</th>\n                    <th class=\"p-2\">Subtotal</th>\n                    <th class=\"p-2\">X</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr\n                    v-for=\"(item, index) in cart\"\n                    :key=\"item.id\"\n                    class=\"border-t\"\n                  >\n                    <td class=\"p-2\">{{ item.name }}</td>\n                    <td class=\"p-2\">\n                      <input\n                        type=\"number\"\n                        v-model.number=\"item.qty\"\n                        min=\"1\"\n                        :max=\"item.stock\"\n                        class=\"w-14 border rounded p-1\"\n                      />\n                    </td>\n                    <td class=\"p-2\">\n                      {{ formatCurrency(item.price * item.qty) }}\n                    </td>\n                    <td class=\"p-2\">\n                      <button\n                        @click=\"removeFromCart(index)\"\n                        class=\"text-red-600\"\n                      >\n                        âœ•\n                      </button>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n\n            <!-- Order Summary -->\n            <div v-if=\"cart.length > 0\" class=\"mt-6\">\n              <h3 class=\"text-lg font-semibold text-[#111418] mb-3\">\n                Order Summary\n              </h3>\n              <div class=\"space-y-2 text-sm\">\n                <div class=\"flex justify-between\">\n                  <span>Subtotal</span>\n                  <span>{{ formatCurrency(subtotal) }}</span>\n                </div>\n                <div class=\"flex justify-between\">\n                  <span>Tax (10%)</span>\n                  <span>{{ formatCurrency(tax) }}</span>\n                </div>\n                <div class=\"flex justify-between font-bold border-t pt-2\">\n                  <span>Total</span>\n                  <span>{{ formatCurrency(total) }}</span>\n                </div>\n              </div>\n            </div>\n\n            <!-- Payment -->\n            <div v-if=\"cart.length > 0\" class=\"mt-6\">\n              <h3 class=\"text-lg font-semibold text-[#111418] mb-3\">Payment</h3>\n              <label class=\"block mb-3\">\n                <span class=\"block text-sm font-medium mb-1\"\n                  >Amount Received</span\n                >\n                <input\n                  v-model.number=\"amountReceived\"\n                  type=\"number\"\n                  placeholder=\"Enter amount\"\n                  class=\"w-full rounded-lg border p-2 text-sm\"\n                />\n              </label>\n              <p class=\"text-sm\">\n                Change:\n                <span class=\"font-semibold\">\n                  {{ formatCurrency(change) }}\n                </span>\n              </p>\n            </div>\n\n            <!-- Buttons -->\n            <div\n              v-if=\"cart.length > 0\"\n              class=\"flex flex-col gap-3 w-full max-w-sm mt-6\"\n            >\n              <button\n                @click=\"handlePayNow\"\n                class=\"w-full rounded-lg bg-[#0d80f2] py-3 text-white text-sm font-semibold hover:bg-[#0a6ad1]\"\n              >\n                Pay Now\n              </button>\n              <button\n                @click=\"handlePrintReceipt\"\n                class=\"w-full rounded-lg bg-gray-100 py-3 text-sm font-semibold hover:bg-gray-200\"\n              >\n                Print Receipt\n              </button>\n            </div>\n          </section>\n        </div>\n      </main>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from \"vue\";\nimport axios from \"axios\";\nimport CashierSidebar from \"../components/CashierSidebar.vue\";\n\n// Dummy products\nconst products = ref([\n  { id: 1, name: \"Kaos Polos Hitam\", price: 50000, stock: 10 },\n  { id: 2, name: \"Kemeja Putih\", price: 80000, stock: 5 },\n  { id: 3, name: \"Jaket Hoodie\", price: 120000, stock: 3 },\n  { id: 4, name: \"Celana Jeans\", price: 150000, stock: 7 },\n  { id: 5, name: \"Sweater Rajut\", price: 90000, stock: 6 },\n]);\n\nconst cart = ref([]);\nconst slider = ref(null);\n\nconst addToCart = (product) => {\n  const existing = cart.value.find((i) => i.id === product.id);\n  if (existing) {\n    if (existing.qty < product.stock) existing.qty++;\n  } else {\n    cart.value.push({ ...product, qty: 1 });\n  }\n};\nconst removeFromCart = (index) => cart.value.splice(index, 1);\n\n// Summary\nconst subtotal = computed(() =>\n  cart.value.reduce((sum, i) => sum + i.price * i.qty, 0)\n);\nconst tax = computed(() => subtotal.value * 0.1);\nconst total = computed(() => subtotal.value + tax.value);\n\n// Payment\nconst amountReceived = ref(0);\nconst change = computed(() =>\n  amountReceived.value > total.value ? amountReceived.value - total.value : 0\n);\n\nconst formatCurrency = (v) => \"Rp\" + Number(v).toLocaleString(\"id-ID\");\n\n// Scroll actions\nconst scrollLeft = () => {\n  slider.value.scrollBy({ left: -200, behavior: \"smooth\" });\n};\nconst scrollRight = () => {\n  slider.value.scrollBy({ left: 200, behavior: \"smooth\" });\n};\n\n// API\nconst handlePayNow = async () => {\n  try {\n    const token = localStorage.getItem(\"token\");\n    const response = await axios.post(\n      \"http://localhost:8081/api/v1/sales\",\n      {\n        customer_id: 1,\n        date: new Date().toISOString(),\n        items: cart.value.map((i) => ({\n          product_id: i.id,\n          qty: i.qty,\n          price: i.price,\n        })),\n      },\n      { headers: { Authorization: `Bearer ${token}` } }\n    );\n    alert(\"Pembayaran berhasil! ID Transaksi: \" + response.data.data.id);\n    cart.value = [];\n  } catch (err) {\n    alert(\"Gagal: \" + (err.response?.data?.message || err.message));\n  }\n};\n\nconst handlePrintReceipt = () => {\n  alert(\"Mencetak struk...\");\n};\n</script>\n\n<style>\n/* sembunyikan scrollbar default */\n.scrollbar-hide::-webkit-scrollbar {\n  display: none;\n}\n.scrollbar-hide {\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}