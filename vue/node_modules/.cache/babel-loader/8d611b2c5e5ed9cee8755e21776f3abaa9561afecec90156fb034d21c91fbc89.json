{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"flex size-full min-h-screen flex-col bg-white font-manrope lg:flex-row\"\n};\nconst _hoisted_2 = {\n  class: \"flex flex-1 flex-col\"\n};\nconst _hoisted_3 = {\n  class: \"flex-1 p-8\"\n};\nconst _hoisted_4 = {\n  class: \"layout-content-container flex flex-col flex-1\"\n};\nconst _hoisted_5 = {\n  class: \"px-4 py-3 @container\"\n};\nconst _hoisted_6 = {\n  class: \"flex overflow-hidden rounded-lg border border-[#dbe0e6] bg-white\"\n};\nconst _hoisted_7 = {\n  class: \"flex-1\"\n};\nconst _hoisted_8 = {\n  class: \"px-4 py-2 text-sm\"\n};\nconst _hoisted_9 = {\n  class: \"px-4 py-2 text-sm\"\n};\nconst _hoisted_10 = {\n  class: \"px-4 py-2 text-sm\"\n};\nconst _hoisted_11 = {\n  class: \"px-4 py-2 text-sm\"\n};\nconst _hoisted_12 = {\n  class: \"px-4 py-2 text-sm\"\n};\nconst _hoisted_13 = {\n  class: \"px-4 py-2 text-sm font-bold\"\n};\nconst _hoisted_14 = [\"onClick\"];\nconst _hoisted_15 = [\"onClick\"];\nconst _hoisted_16 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Sidebar tetap ada \"), _createVNode($setup[\"KepalaGudangSidebar\"]), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"main\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_cache[2] || (_cache[2] = _createElementVNode(\"div\", {\n    class: \"mb-6\"\n  }, [_createElementVNode(\"p\", {\n    class: \"text-[#111418] tracking-light text-[32px] font-bold leading-tight\"\n  }, \" Sales Return Requests \"), _createElementVNode(\"p\", {\n    class: \"text-[#60758a] text-sm font-normal leading-normal\"\n  }, \" Review and approve or reject sales return requests from customers. \")], -1 /* CACHED */)), _createCommentVNode(\" Tabel Data \"), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"table\", _hoisted_7, [_cache[1] || (_cache[1] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", {\n    class: \"bg-white\"\n  }, [_createElementVNode(\"th\", {\n    class: \"px-4 py-3 text-left w-[200px] text-sm font-medium\"\n  }, \" Return Number \"), _createElementVNode(\"th\", {\n    class: \"px-4 py-3 text-left w-[200px] text-sm font-medium\"\n  }, \" Customer \"), _createElementVNode(\"th\", {\n    class: \"px-4 py-3 text-left w-[200px] text-sm font-medium\"\n  }, \" Product \"), _createElementVNode(\"th\", {\n    class: \"px-4 py-3 text-left w-[200px] text-sm font-medium\"\n  }, \" Reason \"), _createElementVNode(\"th\", {\n    class: \"px-4 py-3 text-left w-[120px] text-sm font-medium\"\n  }, \" Status \"), _createElementVNode(\"th\", {\n    class: \"px-4 py-3 text-left w-[120px] text-sm font-medium\"\n  }, \" Actions \")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.returns, item => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: item.id,\n      class: \"border-t border-t-[#dbe0e6]\"\n    }, [_createElementVNode(\"td\", _hoisted_8, _toDisplayString(item.return_number), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_9, _toDisplayString(item.customer_name), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_10, _toDisplayString(item.product_name), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_11, _toDisplayString(item.reason), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_12, [_createElementVNode(\"span\", {\n      class: _normalizeClass([\"px-3 py-1 rounded-lg\", {\n        'bg-yellow-200 text-yellow-800': item.status === 'PENDING',\n        'bg-green-200 text-green-800': item.status === 'APPROVED',\n        'bg-red-200 text-red-800': item.status === 'REJECTED'\n      }])\n    }, _toDisplayString(item.status), 3 /* TEXT, CLASS */)]), _createElementVNode(\"td\", _hoisted_13, [_createElementVNode(\"button\", {\n      class: \"mr-2 text-green-600 hover:underline\",\n      onClick: $event => $setup.approve(item.id)\n    }, \" Approve \", 8 /* PROPS */, _hoisted_14), _createElementVNode(\"button\", {\n      class: \"text-red-600 hover:underline\",\n      onClick: $event => $setup.reject(item.id)\n    }, \" Reject \", 8 /* PROPS */, _hoisted_15)])]);\n  }), 128 /* KEYED_FRAGMENT */)), $setup.returns.length === 0 ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_16, [...(_cache[0] || (_cache[0] = [_createElementVNode(\"td\", {\n    colspan: \"6\",\n    class: \"px-4 py-4 text-center text-sm text-gray-500\"\n  }, \" Tidak ada data \", -1 /* CACHED */)]))])) : _createCommentVNode(\"v-if\", true)])])])])])])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createVNode","$setup","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_Fragment","_renderList","returns","item","key","id","_hoisted_8","_toDisplayString","return_number","_hoisted_9","customer_name","_hoisted_10","product_name","_hoisted_11","reason","_hoisted_12","_normalizeClass","status","_hoisted_13","onClick","$event","approve","_hoisted_14","reject","_hoisted_15","length","_hoisted_16","_cache","colspan"],"sources":["C:\\Users\\Personal\\Documents\\PKL\\aplikasi\\aplikasi\\src\\views\\SalesReturnKepalaGudang.vue"],"sourcesContent":["<template>\n  <div\n    class=\"flex size-full min-h-screen flex-col bg-white font-manrope lg:flex-row\"\n  >\n    <!-- Sidebar tetap ada -->\n    <KepalaGudangSidebar />\n\n    <div class=\"flex flex-1 flex-col\">\n      <main class=\"flex-1 p-8\">\n        <div class=\"layout-content-container flex flex-col flex-1\">\n          <div class=\"mb-6\">\n            <p\n              class=\"text-[#111418] tracking-light text-[32px] font-bold leading-tight\"\n            >\n              Sales Return Requests\n            </p>\n            <p class=\"text-[#60758a] text-sm font-normal leading-normal\">\n              Review and approve or reject sales return requests from customers.\n            </p>\n          </div>\n\n          <!-- Tabel Data -->\n          <div class=\"px-4 py-3 @container\">\n            <div\n              class=\"flex overflow-hidden rounded-lg border border-[#dbe0e6] bg-white\"\n            >\n              <table class=\"flex-1\">\n                <thead>\n                  <tr class=\"bg-white\">\n                    <th\n                      class=\"px-4 py-3 text-left w-[200px] text-sm font-medium\"\n                    >\n                      Return Number\n                    </th>\n                    <th\n                      class=\"px-4 py-3 text-left w-[200px] text-sm font-medium\"\n                    >\n                      Customer\n                    </th>\n                    <th\n                      class=\"px-4 py-3 text-left w-[200px] text-sm font-medium\"\n                    >\n                      Product\n                    </th>\n                    <th\n                      class=\"px-4 py-3 text-left w-[200px] text-sm font-medium\"\n                    >\n                      Reason\n                    </th>\n                    <th\n                      class=\"px-4 py-3 text-left w-[120px] text-sm font-medium\"\n                    >\n                      Status\n                    </th>\n                    <th\n                      class=\"px-4 py-3 text-left w-[120px] text-sm font-medium\"\n                    >\n                      Actions\n                    </th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr\n                    v-for=\"item in returns\"\n                    :key=\"item.id\"\n                    class=\"border-t border-t-[#dbe0e6]\"\n                  >\n                    <td class=\"px-4 py-2 text-sm\">{{ item.return_number }}</td>\n                    <td class=\"px-4 py-2 text-sm\">{{ item.customer_name }}</td>\n                    <td class=\"px-4 py-2 text-sm\">{{ item.product_name }}</td>\n                    <td class=\"px-4 py-2 text-sm\">{{ item.reason }}</td>\n                    <td class=\"px-4 py-2 text-sm\">\n                      <span\n                        class=\"px-3 py-1 rounded-lg\"\n                        :class=\"{\n                          'bg-yellow-200 text-yellow-800':\n                            item.status === 'PENDING',\n                          'bg-green-200 text-green-800':\n                            item.status === 'APPROVED',\n                          'bg-red-200 text-red-800': item.status === 'REJECTED',\n                        }\"\n                      >\n                        {{ item.status }}\n                      </span>\n                    </td>\n                    <td class=\"px-4 py-2 text-sm font-bold\">\n                      <button\n                        class=\"mr-2 text-green-600 hover:underline\"\n                        @click=\"approve(item.id)\"\n                      >\n                        Approve\n                      </button>\n                      <button\n                        class=\"text-red-600 hover:underline\"\n                        @click=\"reject(item.id)\"\n                      >\n                        Reject\n                      </button>\n                    </td>\n                  </tr>\n                  <tr v-if=\"returns.length === 0\">\n                    <td\n                      colspan=\"6\"\n                      class=\"px-4 py-4 text-center text-sm text-gray-500\"\n                    >\n                      Tidak ada data\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from \"vue\";\nimport axios from \"axios\";\nimport KepalaGudangSidebar from \"@/components/KepalaGudangSidebar.vue\";\n\n// State\nconst returns = ref([]);\n\n// Fetch data dari backend\nconst fetchReturns = async () => {\n  try {\n    const token = localStorage.getItem(\"token\"); // ambil JWT dari login\n    const res = await axios.get(\n      \"http://localhost:8081/api/v1/owner/sale-returns\",\n      {\n        headers: { Authorization: `Bearer ${token}` },\n      }\n    );\n    returns.value = res.data.data || [];\n  } catch (err) {\n    console.error(\"Gagal ambil data:\", err);\n  }\n};\n\n// Approve\nconst approve = async (id) => {\n  try {\n    const token = localStorage.getItem(\"token\");\n    await axios.post(\n      `http://localhost:8081/api/v1/owner/sale-returns/${id}/approve`,\n      {},\n      {\n        headers: { Authorization: `Bearer ${token}` },\n      }\n    );\n    fetchReturns();\n  } catch (err) {\n    console.error(\"Gagal approve:\", err);\n  }\n};\n\n// Reject\nconst reject = async (id) => {\n  try {\n    const token = localStorage.getItem(\"token\");\n    await axios.post(\n      `http://localhost:8081/api/v1/owner/sale-returns/${id}/reject`,\n      {},\n      {\n        headers: { Authorization: `Bearer ${token}` },\n      }\n    );\n    fetchReturns();\n  } catch (err) {\n    console.error(\"Gagal reject:\", err);\n  }\n};\n\n// Load saat komponen di-mount\nonMounted(() => {\n  fetchReturns();\n});\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}