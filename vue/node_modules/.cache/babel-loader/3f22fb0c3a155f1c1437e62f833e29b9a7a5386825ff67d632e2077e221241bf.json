{"ast":null,"code":"import OwnerLayouts from \"../components/OwnerLayouts.vue\";\nimport { ref, onMounted } from \"vue\";\nimport api from \"@/services/api\";\nexport default {\n  __name: 'DashboardOwner',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const totalSales = ref(null);\n    const totalPurchases = ref(null);\n    const totalReturns = ref(null);\n    const formatCurrency = v => {\n      if (v == null) return \"-\";\n      return new Intl.NumberFormat(\"id-ID\", {\n        style: \"currency\",\n        currency: \"IDR\",\n        maximumFractionDigits: 0\n      }).format(Number(v));\n    };\n    const fetchSummary = async () => {\n      try {\n        const res = await api.get(\"/owner/dashboard/summary\");\n        const d = res.data && res.data.data ? res.data.data : null;\n        if (d) {\n          totalSales.value = d.total_sales;\n          totalPurchases.value = d.total_purchases;\n          totalReturns.value = d.total_returns;\n        }\n      } catch (err) {\n        console.error(\"Failed to fetch dashboard summary\", err);\n      }\n    };\n    onMounted(() => {\n      fetchSummary();\n    });\n    const __returned__ = {\n      totalSales,\n      totalPurchases,\n      totalReturns,\n      formatCurrency,\n      fetchSummary,\n      OwnerLayouts,\n      ref,\n      onMounted,\n      get api() {\n        return api;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["OwnerLayouts","ref","onMounted","api","totalSales","totalPurchases","totalReturns","formatCurrency","v","Intl","NumberFormat","style","currency","maximumFractionDigits","format","Number","fetchSummary","res","get","d","data","value","total_sales","total_purchases","total_returns","err","console","error"],"sources":["C:/Users/Personal/Documents/PKL/PKL Shop Managements/vue/src/views/DashboardOwner.vue"],"sourcesContent":["<template>\n  <OwnerLayouts>\n    <div class=\"p-8 bg-gradient-to-br from-slate-50 to-slate-100 min-h-screen\">\n      <div class=\"mb-8\">\n        <h1\n          class=\"text-slate-800 text-4xl font-bold leading-tight tracking-tight\"\n        >\n          Dashboard Owner\n        </h1>\n        <p class=\"text-slate-600 text-sm font-normal leading-normal mt-2\">\n          Selamat datang kembali! Ini adalah ringkasan aktivitas toko Anda.\n        </p>\n      </div>\n\n      <!-- KPI Cards -->\n      <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n        <!-- Total Penjualan -->\n        <div\n          class=\"flex flex-col gap-3 rounded-xl p-6 bg-gradient-to-br from-emerald-50 to-emerald-100 border border-emerald-200 shadow-sm hover:shadow-md transition-all\"\n        >\n          <div class=\"flex items-center justify-between\">\n            <div>\n              <p class=\"text-emerald-600 text-sm font-medium leading-normal\">\n                Total Penjualan\n              </p>\n              <p class=\"text-slate-800 text-3xl font-bold leading-tight mt-2\">\n                {{\n                  totalSales !== null ? formatCurrency(totalSales) : \"‚Äî\"\n                }}\n              </p>\n            </div>\n            <div class=\"text-emerald-400 text-4xl opacity-20\">üìä</div>\n          </div>\n          <p class=\"text-emerald-600 text-xs font-medium\">Bulan ini</p>\n        </div>\n\n        <!-- Total Pembelian -->\n        <div\n          class=\"flex flex-col gap-3 rounded-xl p-6 bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 shadow-sm hover:shadow-md transition-all\"\n        >\n          <div class=\"flex items-center justify-between\">\n            <div>\n              <p class=\"text-blue-600 text-sm font-medium leading-normal\">\n                Total Pembelian\n              </p>\n              <p class=\"text-slate-800 text-3xl font-bold leading-tight mt-2\">\n                {{\n                  totalPurchases !== null\n                    ? formatCurrency(totalPurchases)\n                    : \"‚Äî\"\n                }}\n              </p>\n            </div>\n            <div class=\"text-blue-400 text-4xl opacity-20\">üõí</div>\n          </div>\n          <p class=\"text-blue-600 text-xs font-medium\">Bulan ini</p>\n        </div>\n\n        <!-- Total Retur -->\n        <div\n          class=\"flex flex-col gap-3 rounded-xl p-6 bg-gradient-to-br from-rose-50 to-rose-100 border border-rose-200 shadow-sm hover:shadow-md transition-all\"\n        >\n          <div class=\"flex items-center justify-between\">\n            <div>\n              <p class=\"text-rose-600 text-sm font-medium leading-normal\">\n                Total Retur\n              </p>\n              <p class=\"text-slate-800 text-3xl font-bold leading-tight mt-2\">\n                {{\n                  totalReturns !== null ? formatCurrency(totalReturns) : \"‚Äî\"\n                }}\n              </p>\n            </div>\n            <div class=\"text-rose-400 text-4xl opacity-20\">‚Ü©Ô∏è</div>\n          </div>\n          <p class=\"text-rose-600 text-xs font-medium\">Bulan ini</p>\n        </div>\n      </div>\n\n      <!-- Quick Actions & Summary Row -->\n      <div class=\"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8\">\n        <!-- Quick Actions -->\n        <div class=\"lg:col-span-1 bg-white rounded-xl p-6 shadow-sm border border-slate-200\">\n          <h3 class=\"text-slate-800 text-lg font-bold mb-4\">Tindakan Cepat</h3>\n          <div class=\"space-y-3\">\n            <router-link\n              to=\"/create-purchase-order\"\n              class=\"flex items-center gap-3 p-3 rounded-lg bg-emerald-50 hover:bg-emerald-100 transition-colors border border-emerald-200\"\n            >\n              <span class=\"text-2xl\">‚ûï</span>\n              <div>\n                <p class=\"text-slate-800 font-medium text-sm\">Buat PO</p>\n                <p class=\"text-slate-500 text-xs\">Pembelian baru</p>\n              </div>\n            </router-link>\n            <router-link\n              to=\"/master-data\"\n              class=\"flex items-center gap-3 p-3 rounded-lg bg-blue-50 hover:bg-blue-100 transition-colors border border-blue-200\"\n            >\n              <span class=\"text-2xl\">‚öôÔ∏è</span>\n              <div>\n                <p class=\"text-slate-800 font-medium text-sm\">Master Data</p>\n                <p class=\"text-slate-500 text-xs\">Kelola data</p>\n              </div>\n            </router-link>\n            <router-link\n              to=\"/report-owners\"\n              class=\"flex items-center gap-3 p-3 rounded-lg bg-purple-50 hover:bg-purple-100 transition-colors border border-purple-200\"\n            >\n              <span class=\"text-2xl\">üìà</span>\n              <div>\n                <p class=\"text-slate-800 font-medium text-sm\">Laporan</p>\n                <p class=\"text-slate-500 text-xs\">Lihat analisa</p>\n              </div>\n            </router-link>\n          </div>\n        </div>\n\n        <!-- Recent Stats -->\n        <div class=\"lg:col-span-2 bg-white rounded-xl p-6 shadow-sm border border-slate-200\">\n          <h3 class=\"text-slate-800 text-lg font-bold mb-4\">Ringkasan Hari Ini</h3>\n          <div class=\"grid grid-cols-3 gap-4\">\n            <div\n              class=\"text-center p-4 rounded-lg bg-gradient-to-br from-emerald-50 to-emerald-100 border border-emerald-200\"\n            >\n              <p class=\"text-slate-600 text-sm\">Transaksi Penjualan</p>\n              <p class=\"text-2xl font-bold text-emerald-600 mt-2\">\n                {{ todayTransactions }}\n              </p>\n            </div>\n            <div\n              class=\"text-center p-4 rounded-lg bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200\"\n            >\n              <p class=\"text-slate-600 text-sm\">Jumlah Produk</p>\n              <p class=\"text-2xl font-bold text-blue-600 mt-2\">\n                {{ totalProducts }}\n              </p>\n            </div>\n            <div\n              class=\"text-center p-4 rounded-lg bg-gradient-to-br from-orange-50 to-orange-100 border border-orange-200\"\n            >\n              <p class=\"text-slate-600 text-sm\">Stok Minim</p>\n              <p class=\"text-2xl font-bold text-orange-600 mt-2\">\n                {{ lowStockCount }}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Content Row: Recent Activity & Notifications -->\n      <div class=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        <!-- Recent Sales Activity -->\n        <div class=\"lg:col-span-2 bg-white rounded-xl p-6 shadow-sm border border-slate-200\">\n          <div class=\"flex items-center justify-between mb-4\">\n            <h3 class=\"text-slate-800 text-lg font-bold\">\n              Aktivitas Penjualan Terbaru\n            </h3>\n            <router-link\n              to=\"/history/sales\"\n              class=\"text-emerald-600 hover:text-emerald-700 text-xs font-medium\"\n            >\n              Lihat Semua ‚Üí\n            </router-link>\n          </div>\n          <div class=\"space-y-3 max-h-64 overflow-y-auto\">\n            <div v-if=\"recentSales.length === 0\" class=\"text-center py-8 text-slate-500\">\n              <p class=\"text-sm\">Belum ada penjualan hari ini</p>\n            </div>\n            <div\n              v-for=\"sale in recentSales\"\n              :key=\"sale.id\"\n              class=\"flex items-center justify-between p-3 rounded-lg hover:bg-slate-50 border border-slate-100\"\n            >\n              <div class=\"flex-1\">\n                <p class=\"text-slate-800 font-medium text-sm\">\n                  {{ sale.transactionNumber || `#${sale.id}` }}\n                </p>\n                <p class=\"text-slate-500 text-xs\">\n                  {{ formatDate(sale.date) }}\n                </p>\n              </div>\n              <p class=\"text-emerald-600 font-bold\">\n                {{ formatCurrency(sale.total) }}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <!-- Notifications & Status -->\n        <div class=\"bg-white rounded-xl p-6 shadow-sm border border-slate-200\">\n          <h3 class=\"text-slate-800 text-lg font-bold mb-4\">Status Sistem</h3>\n          <div class=\"space-y-3\">\n            <div\n              class=\"flex items-start gap-3 p-3 rounded-lg bg-emerald-50 border border-emerald-200\"\n            >\n              <span class=\"text-xl\">‚úÖ</span>\n              <div>\n                <p class=\"text-emerald-700 font-medium text-sm\">Database</p>\n                <p class=\"text-emerald-600 text-xs\">Terhubung</p>\n              </div>\n            </div>\n            <div\n              class=\"flex items-start gap-3 p-3 rounded-lg bg-blue-50 border border-blue-200\"\n            >\n              <span class=\"text-xl\">üì¶</span>\n              <div>\n                <p class=\"text-blue-700 font-medium text-sm\">Inventory</p>\n                <p class=\"text-blue-600 text-xs\">{{ totalProducts }} produk aktif</p>\n              </div>\n            </div>\n            <div\n              class=\"flex items-start gap-3 p-3 rounded-lg bg-amber-50 border border-amber-200\"\n            >\n              <span class=\"text-xl\">‚ö†Ô∏è</span>\n              <div>\n                <p class=\"text-amber-700 font-medium text-sm\">Alert Stok</p>\n                <p class=\"text-amber-600 text-xs\">\n                  {{ lowStockCount }} produk stok rendah\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </OwnerLayouts>\n</template>\n\n<script setup>\nimport OwnerLayouts from \"../components/OwnerLayouts.vue\";\nimport { ref, onMounted } from \"vue\";\nimport api from \"@/services/api\";\n\nconst totalSales = ref(null);\nconst totalPurchases = ref(null);\nconst totalReturns = ref(null);\n\nconst formatCurrency = (v) => {\n  if (v == null) return \"-\";\n  return new Intl.NumberFormat(\"id-ID\", {\n    style: \"currency\",\n    currency: \"IDR\",\n    maximumFractionDigits: 0,\n  }).format(Number(v));\n};\n\nconst fetchSummary = async () => {\n  try {\n    const res = await api.get(\"/owner/dashboard/summary\");\n    const d = res.data && res.data.data ? res.data.data : null;\n    if (d) {\n      totalSales.value = d.total_sales;\n      totalPurchases.value = d.total_purchases;\n      totalReturns.value = d.total_returns;\n    }\n  } catch (err) {\n    console.error(\"Failed to fetch dashboard summary\", err);\n  }\n};\n\nonMounted(() => {\n  fetchSummary();\n});\n</script>\n\n<style scoped>\n/* Aturan container query dihapus */\n</style>\n"],"mappings":"AAsOA,OAAOA,YAAY,MAAM,gCAAgC;AACzD,SAASC,GAAG,EAAEC,SAAS,QAAQ,KAAK;AACpC,OAAOC,GAAG,MAAM,gBAAgB;;;;;;;IAEhC,MAAMC,UAAU,GAAGH,GAAG,CAAC,IAAI,CAAC;IAC5B,MAAMI,cAAc,GAAGJ,GAAG,CAAC,IAAI,CAAC;IAChC,MAAMK,YAAY,GAAGL,GAAG,CAAC,IAAI,CAAC;IAE9B,MAAMM,cAAc,GAAIC,CAAC,IAAK;MAC5B,IAAIA,CAAC,IAAI,IAAI,EAAE,OAAO,GAAG;MACzB,OAAO,IAAIC,IAAI,CAACC,YAAY,CAAC,OAAO,EAAE;QACpCC,KAAK,EAAE,UAAU;QACjBC,QAAQ,EAAE,KAAK;QACfC,qBAAqB,EAAE;MACzB,CAAC,CAAC,CAACC,MAAM,CAACC,MAAM,CAACP,CAAC,CAAC,CAAC;IACtB,CAAC;IAED,MAAMQ,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACF,MAAMC,GAAG,GAAG,MAAMd,GAAG,CAACe,GAAG,CAAC,0BAA0B,CAAC;QACrD,MAAMC,CAAC,GAAGF,GAAG,CAACG,IAAI,IAAIH,GAAG,CAACG,IAAI,CAACA,IAAI,GAAGH,GAAG,CAACG,IAAI,CAACA,IAAI,GAAG,IAAI;QAC1D,IAAID,CAAC,EAAE;UACLf,UAAU,CAACiB,KAAK,GAAGF,CAAC,CAACG,WAAW;UAChCjB,cAAc,CAACgB,KAAK,GAAGF,CAAC,CAACI,eAAe;UACxCjB,YAAY,CAACe,KAAK,GAAGF,CAAC,CAACK,aAAa;QACtC;MACF,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,mCAAmC,EAAEF,GAAG,CAAC;MACzD;IACF,CAAC;IAEDvB,SAAS,CAAC,MAAM;MACdc,YAAY,CAAC,CAAC;IAChB,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}