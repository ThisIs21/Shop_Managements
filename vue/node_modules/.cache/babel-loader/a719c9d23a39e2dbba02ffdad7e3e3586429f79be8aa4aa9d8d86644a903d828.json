{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, vModelSelect as _vModelSelect, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"flex min-h-screen bg-gray-100\"\n};\nconst _hoisted_2 = {\n  class: \"flex-1 p-6\"\n};\nconst _hoisted_3 = {\n  class: \"flex space-x-4 mb-6\"\n};\nconst _hoisted_4 = {\n  class: \"bg-white shadow rounded p-4\"\n};\nconst _hoisted_5 = {\n  class: \"w-full border-collapse\"\n};\nconst _hoisted_6 = {\n  class: \"p-2 border\"\n};\nconst _hoisted_7 = {\n  class: \"p-2 border\"\n};\nconst _hoisted_8 = {\n  class: \"p-2 border\"\n};\nconst _hoisted_9 = {\n  class: \"p-2 border\"\n};\nconst _hoisted_10 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_AppSidebar = _resolveComponent(\"AppSidebar\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" === Sidebar yang sudah ada === \"), _createVNode(_component_AppSidebar), _createCommentVNode(\" === Konten Utama === \"), _createElementVNode(\"main\", _hoisted_2, [_cache[9] || (_cache[9] = _createElementVNode(\"h1\", {\n    class: \"text-2xl font-bold mb-4\"\n  }, \"Sales Summary Report\", -1 /* CACHED */)), _createCommentVNode(\" Filter \"), _createElementVNode(\"div\", _hoisted_3, [_withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.filters.type = $event),\n    class: \"border p-2 rounded\"\n  }, [...(_cache[5] || (_cache[5] = [_createElementVNode(\"option\", {\n    value: \"sales\"\n  }, \"Sales\", -1 /* CACHED */), _createElementVNode(\"option\", {\n    value: \"items\"\n  }, \"Items\", -1 /* CACHED */)]))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.filters.type]]), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.filters.by = $event),\n    class: \"border p-2 rounded\"\n  }, [...(_cache[6] || (_cache[6] = [_createElementVNode(\"option\", {\n    value: \"day\"\n  }, \"By Day\", -1 /* CACHED */), _createElementVNode(\"option\", {\n    value: \"month\"\n  }, \"By Month\", -1 /* CACHED */)]))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.filters.by]]), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.fetchReports && $options.fetchReports(...args)),\n    class: \"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\"\n  }, \" Filter \"), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = $event => $options.exportReport('csv')),\n    class: \"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\"\n  }, \" Export CSV \"), _createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = $event => $options.exportReport('pdf')),\n    class: \"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\"\n  }, \" Export PDF \")]), _createCommentVNode(\" Tabel \"), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"table\", _hoisted_5, [_cache[8] || (_cache[8] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", {\n    class: \"bg-gray-200\"\n  }, [_createElementVNode(\"th\", {\n    class: \"p-2 border\"\n  }, \"#\"), _createElementVNode(\"th\", {\n    class: \"p-2 border\"\n  }, \"Period\"), _createElementVNode(\"th\", {\n    class: \"p-2 border\"\n  }, \"Total Sales\"), _createElementVNode(\"th\", {\n    class: \"p-2 border\"\n  }, \"Total Items\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.reports, (report, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: index,\n      class: \"hover:bg-gray-100\"\n    }, [_createElementVNode(\"td\", _hoisted_6, _toDisplayString(index + 1), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_7, _toDisplayString(report.period ?? '-'), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_8, \" Rp \" + _toDisplayString($options.formatNumber(report.total_sales ?? 0)), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_9, _toDisplayString(report.total_items ?? 0), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */)), $data.reports.length === 0 ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_10, [...(_cache[7] || (_cache[7] = [_createElementVNode(\"td\", {\n    colspan: \"4\",\n    class: \"p-2 border text-center text-gray-500\"\n  }, \" No data available \", -1 /* CACHED */)]))])) : _createCommentVNode(\"v-if\", true)])])])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createVNode","_component_AppSidebar","_createElementVNode","_hoisted_2","_hoisted_3","$data","filters","type","$event","value","by","onClick","_cache","args","$options","fetchReports","exportReport","_hoisted_4","_hoisted_5","_Fragment","_renderList","reports","report","index","key","_hoisted_6","_toDisplayString","_hoisted_7","period","_hoisted_8","formatNumber","total_sales","_hoisted_9","total_items","length","_hoisted_10","colspan"],"sources":["C:\\Users\\Personal\\Documents\\PKL\\aplikasi\\aplikasi\\src\\views\\SalesSummaryReportOwners.vue"],"sourcesContent":["<template>\n  <div class=\"flex min-h-screen bg-gray-100\">\n    <!-- === Sidebar yang sudah ada === -->\n    <AppSidebar />\n\n    <!-- === Konten Utama === -->\n    <main class=\"flex-1 p-6\">\n      <h1 class=\"text-2xl font-bold mb-4\">Sales Summary Report</h1>\n\n      <!-- Filter -->\n      <div class=\"flex space-x-4 mb-6\">\n        <select v-model=\"filters.type\" class=\"border p-2 rounded\">\n          <option value=\"sales\">Sales</option>\n          <option value=\"items\">Items</option>\n        </select>\n\n        <select v-model=\"filters.by\" class=\"border p-2 rounded\">\n          <option value=\"day\">By Day</option>\n          <option value=\"month\">By Month</option>\n        </select>\n\n        <button\n          @click=\"fetchReports\"\n          class=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\"\n        >\n          Filter\n        </button>\n\n        <button\n          @click=\"exportReport('csv')\"\n          class=\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\"\n        >\n          Export CSV\n        </button>\n        <button\n          @click=\"exportReport('pdf')\"\n          class=\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\"\n        >\n          Export PDF\n        </button>\n      </div>\n\n      <!-- Tabel -->\n      <div class=\"bg-white shadow rounded p-4\">\n        <table class=\"w-full border-collapse\">\n          <thead>\n            <tr class=\"bg-gray-200\">\n              <th class=\"p-2 border\">#</th>\n              <th class=\"p-2 border\">Period</th>\n              <th class=\"p-2 border\">Total Sales</th>\n              <th class=\"p-2 border\">Total Items</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              v-for=\"(report, index) in reports\"\n              :key=\"index\"\n              class=\"hover:bg-gray-100\"\n            >\n              <td class=\"p-2 border\">{{ index + 1 }}</td>\n              <td class=\"p-2 border\">{{ report.period ?? '-' }}</td>\n              <td class=\"p-2 border\">\n                Rp {{ formatNumber(report.total_sales ?? 0) }}\n              </td>\n              <td class=\"p-2 border\">{{ report.total_items ?? 0 }}</td>\n            </tr>\n            <tr v-if=\"reports.length === 0\">\n              <td colspan=\"4\" class=\"p-2 border text-center text-gray-500\">\n                No data available\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </main>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport AppSidebar from \"@/components/AppSidebar.vue\"; // pastikan path benar\n\nexport default {\n  components: { AppSidebar },\n  data() {\n    return {\n      reports: [],\n      filters: {\n        type: \"sales\",\n        by: \"day\",\n      },\n    };\n  },\n  methods: {\n    async fetchReports() {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const response = await axios.get(\n          \"http://localhost:8081/api/v1/owner/reports\",\n          {\n            params: this.filters,\n            headers: { Authorization: `Bearer ${token}` },\n          }\n        );\n        this.reports = Array.isArray(response.data.data)\n          ? response.data.data\n          : [];\n      } catch (error) {\n        console.error(\"Fetch reports error:\", error);\n        this.reports = [];\n      }\n    },\n    async exportReport(format) {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const response = await axios.get(\n          \"http://localhost:8081/api/v1/owner/reports\",\n          {\n            params: { ...this.filters, export: format },\n            headers: { Authorization: `Bearer ${token}` },\n            responseType: \"blob\",\n          }\n        );\n\n        const url = window.URL.createObjectURL(new Blob([response.data]));\n        const link = document.createElement(\"a\");\n        link.href = url;\n        link.setAttribute(\"download\", `report.${format}`);\n        document.body.appendChild(link);\n        link.click();\n        link.remove();\n      } catch (error) {\n        console.error(\"Export report error:\", error);\n      }\n    },\n    formatNumber(num) {\n      return new Intl.NumberFormat(\"id-ID\").format(num);\n    },\n  },\n  mounted() {\n    this.fetchReports();\n  },\n};\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}