{"ast":null,"code":"import \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport { ref, onMounted } from \"vue\";\nimport api from \"@/services/api\"; // axios instance\n\nexport default {\n  __name: 'SalesSummaryReportOwners',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const selectedBy = ref(\"month:1\"); // default -> January\n    const reportData = ref([]);\n    const fetchReport = async () => {\n      try {\n        const res = await api.get(`/owner/reports?type=sales&by=${selectedBy.value}`);\n        reportData.value = res.data.data || [];\n      } catch (err) {\n        console.error(\"Failed to fetch report:\", err);\n      }\n    };\n    const exportReport = async format => {\n      try {\n        const res = await api.get(`/owner/reports/export?type=sales&by=${selectedBy.value}&format=${format}`, {\n          responseType: \"blob\"\n        });\n        const url = window.URL.createObjectURL(new Blob([res.data]));\n        const link = document.createElement(\"a\");\n        link.href = url;\n        link.setAttribute(\"download\", `sales-report.${format}`);\n        document.body.appendChild(link);\n        link.click();\n        link.remove();\n      } catch (err) {\n        console.error(\"Export failed:\", err);\n      }\n    };\n    const formatNumber = num => {\n      if (!num) return 0;\n      return new Intl.NumberFormat(\"id-ID\").format(num);\n    };\n    onMounted(() => {\n      fetchReport();\n    });\n    const __returned__ = {\n      selectedBy,\n      reportData,\n      fetchReport,\n      exportReport,\n      formatNumber,\n      ref,\n      onMounted,\n      get api() {\n        return api;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","api","selectedBy","reportData","fetchReport","res","get","value","data","err","console","error","exportReport","format","responseType","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","remove","formatNumber","num","Intl","NumberFormat"],"sources":["C:/Users/Personal/Documents/PKL/aplikasi/aplikasi/src/views/SalesSummaryReportOwners.vue"],"sourcesContent":["<template>\n  <div class=\"p-6\">\n    <h1 class=\"text-2xl font-bold mb-4\">Sales Summary Report</h1>\n    <p class=\"text-gray-400 mb-6\">\n      Overview of sales performance across different periods.\n    </p>\n\n    <!-- Filters -->\n    <div class=\"bg-gray-900 p-4 rounded-lg shadow mb-6\">\n      <label class=\"block text-sm font-medium mb-2\">Filters</label>\n      <select\n        v-model=\"selectedBy\"\n        @change=\"fetchReport\"\n        class=\"p-2 rounded bg-gray-800 text-white border border-gray-700\"\n      >\n        <!-- Monthly -->\n        <option value=\"month:1\">January</option>\n        <option value=\"month:2\">February</option>\n        <option value=\"month:3\">March</option>\n        <option value=\"month:4\">April</option>\n        <option value=\"month:5\">May</option>\n        <option value=\"month:6\">June</option>\n        <option value=\"month:7\">July</option>\n        <option value=\"month:8\">August</option>\n        <option value=\"month:9\">September</option>\n        <option value=\"month:10\">October</option>\n        <option value=\"month:11\">November</option>\n        <option value=\"month:12\">December</option>\n\n        <!-- Yearly -->\n        <option value=\"year:2023\">Year 2023</option>\n        <option value=\"year:2024\">Year 2024</option>\n        <option value=\"year:2025\">Year 2025</option>\n      </select>\n    </div>\n\n    <!-- Export buttons -->\n    <div class=\"flex space-x-3 mb-6\">\n      <button\n        @click=\"exportReport('csv')\"\n        class=\"px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 text-white\"\n      >\n        Export to CSV\n      </button>\n      <button\n        @click=\"exportReport('pdf')\"\n        class=\"px-4 py-2 rounded bg-red-600 hover:bg-red-700 text-white\"\n      >\n        Export to PDF\n      </button>\n    </div>\n\n    <!-- Sales Data Table -->\n    <div class=\"bg-gray-900 p-4 rounded-lg shadow\">\n      <h2 class=\"text-lg font-semibold mb-3\">Sales Data</h2>\n      <table class=\"w-full text-left border-collapse\">\n        <thead>\n          <tr class=\"border-b border-gray-700\">\n            <th class=\"p-2\">Period</th>\n            <th class=\"p-2\">Transactions</th>\n            <th class=\"p-2\">Total Sales</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr\n            v-for=\"(item, idx) in reportData\"\n            :key=\"idx\"\n            class=\"border-b border-gray-800\"\n          >\n            <td class=\"p-2\">{{ item.period }}</td>\n            <td class=\"p-2\">{{ item.transactions }}</td>\n            <td class=\"p-2\">Rp {{ formatNumber(item.total_sales) }}</td>\n          </tr>\n          <tr v-if=\"reportData.length === 0\">\n            <td colspan=\"3\" class=\"text-center p-4 text-gray-400\">\n              No data available\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from \"vue\";\nimport api from \"@/services/api\"; // axios instance\n\nconst selectedBy = ref(\"month:1\"); // default -> January\nconst reportData = ref([]);\n\nconst fetchReport = async () => {\n  try {\n    const res = await api.get(\n      `/owner/reports?type=sales&by=${selectedBy.value}`\n    );\n    reportData.value = res.data.data || [];\n  } catch (err) {\n    console.error(\"Failed to fetch report:\", err);\n  }\n};\n\nconst exportReport = async (format) => {\n  try {\n    const res = await api.get(\n      `/owner/reports/export?type=sales&by=${selectedBy.value}&format=${format}`,\n      { responseType: \"blob\" }\n    );\n    const url = window.URL.createObjectURL(new Blob([res.data]));\n    const link = document.createElement(\"a\");\n    link.href = url;\n    link.setAttribute(\"download\", `sales-report.${format}`);\n    document.body.appendChild(link);\n    link.click();\n    link.remove();\n  } catch (err) {\n    console.error(\"Export failed:\", err);\n  }\n};\n\nconst formatNumber = (num) => {\n  if (!num) return 0;\n  return new Intl.NumberFormat(\"id-ID\").format(num);\n};\n\nonMounted(() => {\n  fetchReport();\n});\n</script>\n"],"mappings":";;;AAqFA,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAK;AACpC,OAAOC,GAAG,MAAM,gBAAgB,CAAC,CAAC;;;;;;;;IAElC,MAAMC,UAAU,GAAGH,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;IACnC,MAAMI,UAAU,GAAGJ,GAAG,CAAC,EAAE,CAAC;IAE1B,MAAMK,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC9B,IAAI;QACF,MAAMC,GAAG,GAAG,MAAMJ,GAAG,CAACK,GAAG,CACvB,gCAAgCJ,UAAU,CAACK,KAAK,EAClD,CAAC;QACDJ,UAAU,CAACI,KAAK,GAAGF,GAAG,CAACG,IAAI,CAACA,IAAI,IAAI,EAAE;MACxC,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,yBAAyB,EAAEF,GAAG,CAAC;MAC/C;IACF,CAAC;IAED,MAAMG,YAAY,GAAG,MAAOC,MAAM,IAAK;MACrC,IAAI;QACF,MAAMR,GAAG,GAAG,MAAMJ,GAAG,CAACK,GAAG,CACvB,uCAAuCJ,UAAU,CAACK,KAAK,WAAWM,MAAM,EAAE,EAC1E;UAAEC,YAAY,EAAE;QAAO,CACzB,CAAC;QACD,MAAMC,GAAG,GAAGC,MAAM,CAACC,GAAG,CAACC,eAAe,CAAC,IAAIC,IAAI,CAAC,CAACd,GAAG,CAACG,IAAI,CAAC,CAAC,CAAC;QAC5D,MAAMY,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;QACxCF,IAAI,CAACG,IAAI,GAAGR,GAAG;QACfK,IAAI,CAACI,YAAY,CAAC,UAAU,EAAE,gBAAgBX,MAAM,EAAE,CAAC;QACvDQ,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACN,IAAI,CAAC;QAC/BA,IAAI,CAACO,KAAK,CAAC,CAAC;QACZP,IAAI,CAACQ,MAAM,CAAC,CAAC;MACf,CAAC,CAAC,OAAOnB,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,gBAAgB,EAAEF,GAAG,CAAC;MACtC;IACF,CAAC;IAED,MAAMoB,YAAY,GAAIC,GAAG,IAAK;MAC5B,IAAI,CAACA,GAAG,EAAE,OAAO,CAAC;MAClB,OAAO,IAAIC,IAAI,CAACC,YAAY,CAAC,OAAO,CAAC,CAACnB,MAAM,CAACiB,GAAG,CAAC;IACnD,CAAC;IAED9B,SAAS,CAAC,MAAM;MACdI,WAAW,CAAC,CAAC;IACf,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}